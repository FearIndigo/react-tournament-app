var Ok=Object.defineProperty;var Ek=(e,t,r)=>t in e?Ok(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var io=(e,t,r)=>(Ek(e,typeof t!="symbol"?t+"":t,r),r);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=r(i);fetch(i.href,o)}})();var M=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Pk(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var OS={exports:{}},Bd={},ES={exports:{}},Oe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gl=Symbol.for("react.element"),xk=Symbol.for("react.portal"),jk=Symbol.for("react.fragment"),kk=Symbol.for("react.strict_mode"),Ck=Symbol.for("react.profiler"),$k=Symbol.for("react.provider"),Ak=Symbol.for("react.context"),Rk=Symbol.for("react.forward_ref"),Tk=Symbol.for("react.suspense"),Mk=Symbol.for("react.memo"),Ik=Symbol.for("react.lazy"),Lb=Symbol.iterator;function Nk(e){return e===null||typeof e!="object"?null:(e=Lb&&e[Lb]||e["@@iterator"],typeof e=="function"?e:null)}var PS={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},xS=Object.assign,jS={};function Os(e,t,r){this.props=e,this.context=t,this.refs=jS,this.updater=r||PS}Os.prototype.isReactComponent={};Os.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Os.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function kS(){}kS.prototype=Os.prototype;function Kg(e,t,r){this.props=e,this.context=t,this.refs=jS,this.updater=r||PS}var Vg=Kg.prototype=new kS;Vg.constructor=Kg;xS(Vg,Os.prototype);Vg.isPureReactComponent=!0;var Fb=Array.isArray,CS=Object.prototype.hasOwnProperty,qg={current:null},$S={key:!0,ref:!0,__self:!0,__source:!0};function AS(e,t,r){var n,i={},o=null,a=null;if(t!=null)for(n in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(o=""+t.key),t)CS.call(t,n)&&!$S.hasOwnProperty(n)&&(i[n]=t[n]);var s=arguments.length-2;if(s===1)i.children=r;else if(1<s){for(var u=Array(s),l=0;l<s;l++)u[l]=arguments[l+2];i.children=u}if(e&&e.defaultProps)for(n in s=e.defaultProps,s)i[n]===void 0&&(i[n]=s[n]);return{$$typeof:gl,type:e,key:o,ref:a,props:i,_owner:qg.current}}function Dk(e,t){return{$$typeof:gl,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Hg(e){return typeof e=="object"&&e!==null&&e.$$typeof===gl}function Lk(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Bb=/\/+/g;function Vp(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Lk(""+e.key):t.toString(36)}function yf(e,t,r,n,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case gl:case xk:a=!0}}if(a)return a=e,i=i(a),e=n===""?"."+Vp(a,0):n,Fb(i)?(r="",e!=null&&(r=e.replace(Bb,"$&/")+"/"),yf(i,t,r,"",function(l){return l})):i!=null&&(Hg(i)&&(i=Dk(i,r+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(Bb,"$&/")+"/")+e)),t.push(i)),1;if(a=0,n=n===""?".":n+":",Fb(e))for(var s=0;s<e.length;s++){o=e[s];var u=n+Vp(o,s);a+=yf(o,t,r,u,i)}else if(u=Nk(e),typeof u=="function")for(e=u.call(e),s=0;!(o=e.next()).done;)o=o.value,u=n+Vp(o,s++),a+=yf(o,t,r,u,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function zc(e,t,r){if(e==null)return e;var n=[],i=0;return yf(e,n,"","",function(o){return t.call(r,o,i++)}),n}function Fk(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Gt={current:null},gf={transition:null},Bk={ReactCurrentDispatcher:Gt,ReactCurrentBatchConfig:gf,ReactCurrentOwner:qg};Oe.Children={map:zc,forEach:function(e,t,r){zc(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return zc(e,function(){t++}),t},toArray:function(e){return zc(e,function(t){return t})||[]},only:function(e){if(!Hg(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Oe.Component=Os;Oe.Fragment=jk;Oe.Profiler=Ck;Oe.PureComponent=Kg;Oe.StrictMode=kk;Oe.Suspense=Tk;Oe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Bk;Oe.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=xS({},e.props),i=e.key,o=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,a=qg.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(u in t)CS.call(t,u)&&!$S.hasOwnProperty(u)&&(n[u]=t[u]===void 0&&s!==void 0?s[u]:t[u])}var u=arguments.length-2;if(u===1)n.children=r;else if(1<u){s=Array(u);for(var l=0;l<u;l++)s[l]=arguments[l+2];n.children=s}return{$$typeof:gl,type:e.type,key:i,ref:o,props:n,_owner:a}};Oe.createContext=function(e){return e={$$typeof:Ak,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:$k,_context:e},e.Consumer=e};Oe.createElement=AS;Oe.createFactory=function(e){var t=AS.bind(null,e);return t.type=e,t};Oe.createRef=function(){return{current:null}};Oe.forwardRef=function(e){return{$$typeof:Rk,render:e}};Oe.isValidElement=Hg;Oe.lazy=function(e){return{$$typeof:Ik,_payload:{_status:-1,_result:e},_init:Fk}};Oe.memo=function(e,t){return{$$typeof:Mk,type:e,compare:t===void 0?null:t}};Oe.startTransition=function(e){var t=gf.transition;gf.transition={};try{e()}finally{gf.transition=t}};Oe.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Oe.useCallback=function(e,t){return Gt.current.useCallback(e,t)};Oe.useContext=function(e){return Gt.current.useContext(e)};Oe.useDebugValue=function(){};Oe.useDeferredValue=function(e){return Gt.current.useDeferredValue(e)};Oe.useEffect=function(e,t){return Gt.current.useEffect(e,t)};Oe.useId=function(){return Gt.current.useId()};Oe.useImperativeHandle=function(e,t,r){return Gt.current.useImperativeHandle(e,t,r)};Oe.useInsertionEffect=function(e,t){return Gt.current.useInsertionEffect(e,t)};Oe.useLayoutEffect=function(e,t){return Gt.current.useLayoutEffect(e,t)};Oe.useMemo=function(e,t){return Gt.current.useMemo(e,t)};Oe.useReducer=function(e,t,r){return Gt.current.useReducer(e,t,r)};Oe.useRef=function(e){return Gt.current.useRef(e)};Oe.useState=function(e){return Gt.current.useState(e)};Oe.useSyncExternalStore=function(e,t,r){return Gt.current.useSyncExternalStore(e,t,r)};Oe.useTransition=function(){return Gt.current.useTransition()};Oe.version="18.2.0";ES.exports=Oe;var H=ES.exports;const Uk=Pk(H);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wk=H,zk=Symbol.for("react.element"),Kk=Symbol.for("react.fragment"),Vk=Object.prototype.hasOwnProperty,qk=Wk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Hk={key:!0,ref:!0,__self:!0,__source:!0};function RS(e,t,r){var n,i={},o=null,a=null;r!==void 0&&(o=""+r),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(a=t.ref);for(n in t)Vk.call(t,n)&&!Hk.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:zk,type:e,key:o,ref:a,props:i,_owner:qk.current}}Bd.Fragment=Kk;Bd.jsx=RS;Bd.jsxs=RS;OS.exports=Bd;var w=OS.exports,Gm={},TS={exports:{}},mr={},MS={exports:{}},IS={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(R,L){var F=R.length;R.push(L);e:for(;0<F;){var K=F-1>>>1,Z=R[K];if(0<i(Z,L))R[K]=L,R[F]=Z,F=K;else break e}}function r(R){return R.length===0?null:R[0]}function n(R){if(R.length===0)return null;var L=R[0],F=R.pop();if(F!==L){R[0]=F;e:for(var K=0,Z=R.length,ne=Z>>>1;K<ne;){var Y=2*(K+1)-1,me=R[Y],Se=Y+1,Fe=R[Se];if(0>i(me,F))Se<Z&&0>i(Fe,me)?(R[K]=Fe,R[Se]=F,K=Se):(R[K]=me,R[Y]=F,K=Y);else if(Se<Z&&0>i(Fe,F))R[K]=Fe,R[Se]=F,K=Se;else break e}}return L}function i(R,L){var F=R.sortIndex-L.sortIndex;return F!==0?F:R.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();e.unstable_now=function(){return a.now()-s}}var u=[],l=[],c=1,d=null,f=3,h=!1,b=!1,_=!1,j=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function O(R){for(var L=r(l);L!==null;){if(L.callback===null)n(l);else if(L.startTime<=R)n(l),L.sortIndex=L.expirationTime,t(u,L);else break;L=r(l)}}function x(R){if(_=!1,O(R),!b)if(r(u)!==null)b=!0,y(P);else{var L=r(l);L!==null&&k(x,L.startTime-R)}}function P(R,L){b=!1,_&&(_=!1,g(D),D=-1),h=!0;var F=f;try{for(O(L),d=r(u);d!==null&&(!(d.expirationTime>L)||R&&!X());){var K=d.callback;if(typeof K=="function"){d.callback=null,f=d.priorityLevel;var Z=K(d.expirationTime<=L);L=e.unstable_now(),typeof Z=="function"?d.callback=Z:d===r(u)&&n(u),O(L)}else n(u);d=r(u)}if(d!==null)var ne=!0;else{var Y=r(l);Y!==null&&k(x,Y.startTime-L),ne=!1}return ne}finally{d=null,f=F,h=!1}}var C=!1,A=null,D=-1,B=5,V=-1;function X(){return!(e.unstable_now()-V<B)}function fe(){if(A!==null){var R=e.unstable_now();V=R;var L=!0;try{L=A(!0,R)}finally{L?he():(C=!1,A=null)}}else C=!1}var he;if(typeof p=="function")he=function(){p(fe)};else if(typeof MessageChannel<"u"){var pe=new MessageChannel,$=pe.port2;pe.port1.onmessage=fe,he=function(){$.postMessage(null)}}else he=function(){j(fe,0)};function y(R){A=R,C||(C=!0,he())}function k(R,L){D=j(function(){R(e.unstable_now())},L)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(R){R.callback=null},e.unstable_continueExecution=function(){b||h||(b=!0,y(P))},e.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<R?Math.floor(1e3/R):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return r(u)},e.unstable_next=function(R){switch(f){case 1:case 2:case 3:var L=3;break;default:L=f}var F=f;f=L;try{return R()}finally{f=F}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(R,L){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var F=f;f=R;try{return L()}finally{f=F}},e.unstable_scheduleCallback=function(R,L,F){var K=e.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?K+F:K):F=K,R){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=F+Z,R={id:c++,callback:L,priorityLevel:R,startTime:F,expirationTime:Z,sortIndex:-1},F>K?(R.sortIndex=F,t(l,R),r(u)===null&&R===r(l)&&(_?(g(D),D=-1):_=!0,k(x,F-K))):(R.sortIndex=Z,t(u,R),b||h||(b=!0,y(P))),R},e.unstable_shouldYield=X,e.unstable_wrapCallback=function(R){var L=f;return function(){var F=f;f=L;try{return R.apply(this,arguments)}finally{f=F}}}})(IS);MS.exports=IS;var Qk=MS.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NS=H,vr=Qk;function G(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var DS=new Set,Fu={};function Yo(e,t){is(e,t),is(e+"Capture",t)}function is(e,t){for(Fu[e]=t,e=0;e<t.length;e++)DS.add(t[e])}var Un=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xm=Object.prototype.hasOwnProperty,Yk=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ub={},Wb={};function Gk(e){return Xm.call(Wb,e)?!0:Xm.call(Ub,e)?!1:Yk.test(e)?Wb[e]=!0:(Ub[e]=!0,!1)}function Xk(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Jk(e,t,r,n){if(t===null||typeof t>"u"||Xk(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Xt(e,t,r,n,i,o,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var Tt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Tt[e]=new Xt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Tt[t]=new Xt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Tt[e]=new Xt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Tt[e]=new Xt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Tt[e]=new Xt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Tt[e]=new Xt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Tt[e]=new Xt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Tt[e]=new Xt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Tt[e]=new Xt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Qg=/[\-:]([a-z])/g;function Yg(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Qg,Yg);Tt[t]=new Xt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Qg,Yg);Tt[t]=new Xt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Qg,Yg);Tt[t]=new Xt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Tt[e]=new Xt(e,1,!1,e.toLowerCase(),null,!1,!1)});Tt.xlinkHref=new Xt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Tt[e]=new Xt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Gg(e,t,r,n){var i=Tt.hasOwnProperty(t)?Tt[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Jk(t,r,i,n)&&(r=null),n||i===null?Gk(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Gn=NS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Kc=Symbol.for("react.element"),Ra=Symbol.for("react.portal"),Ta=Symbol.for("react.fragment"),Xg=Symbol.for("react.strict_mode"),Jm=Symbol.for("react.profiler"),LS=Symbol.for("react.provider"),FS=Symbol.for("react.context"),Jg=Symbol.for("react.forward_ref"),Zm=Symbol.for("react.suspense"),ey=Symbol.for("react.suspense_list"),Zg=Symbol.for("react.memo"),li=Symbol.for("react.lazy"),BS=Symbol.for("react.offscreen"),zb=Symbol.iterator;function iu(e){return e===null||typeof e!="object"?null:(e=zb&&e[zb]||e["@@iterator"],typeof e=="function"?e:null)}var it=Object.assign,qp;function pu(e){if(qp===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);qp=t&&t[1]||""}return`
`+qp+e}var Hp=!1;function Qp(e,t){if(!e||Hp)return"";Hp=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var n=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){n=l}e.call(t.prototype)}else{try{throw Error()}catch(l){n=l}e()}}catch(l){if(l&&n&&typeof l.stack=="string"){for(var i=l.stack.split(`
`),o=n.stack.split(`
`),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(a!==1||s!==1)do if(a--,s--,0>s||i[a]!==o[s]){var u=`
`+i[a].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=a&&0<=s);break}}}finally{Hp=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?pu(e):""}function Zk(e){switch(e.tag){case 5:return pu(e.type);case 16:return pu("Lazy");case 13:return pu("Suspense");case 19:return pu("SuspenseList");case 0:case 2:case 15:return e=Qp(e.type,!1),e;case 11:return e=Qp(e.type.render,!1),e;case 1:return e=Qp(e.type,!0),e;default:return""}}function ty(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ta:return"Fragment";case Ra:return"Portal";case Jm:return"Profiler";case Xg:return"StrictMode";case Zm:return"Suspense";case ey:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case FS:return(e.displayName||"Context")+".Consumer";case LS:return(e._context.displayName||"Context")+".Provider";case Jg:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Zg:return t=e.displayName||null,t!==null?t:ty(e.type)||"Memo";case li:t=e._payload,e=e._init;try{return ty(e(t))}catch{}}return null}function eC(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ty(t);case 8:return t===Xg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ri(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function US(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function tC(e){var t=US(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,o=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(a){n=""+a,o.call(this,a)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Vc(e){e._valueTracker||(e._valueTracker=tC(e))}function WS(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=US(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function qf(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ry(e,t){var r=t.checked;return it({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Kb(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Ri(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function zS(e,t){t=t.checked,t!=null&&Gg(e,"checked",t,!1)}function ny(e,t){zS(e,t);var r=Ri(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?iy(e,t.type,r):t.hasOwnProperty("defaultValue")&&iy(e,t.type,Ri(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Vb(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function iy(e,t,r){(t!=="number"||qf(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var mu=Array.isArray;function Va(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Ri(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function oy(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(G(91));return it({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function qb(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(G(92));if(mu(r)){if(1<r.length)throw Error(G(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Ri(r)}}function KS(e,t){var r=Ri(t.value),n=Ri(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Hb(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function VS(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ay(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?VS(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var qc,qS=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(qc=qc||document.createElement("div"),qc.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=qc.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Bu(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var wu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},rC=["Webkit","ms","Moz","O"];Object.keys(wu).forEach(function(e){rC.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),wu[t]=wu[e]})});function HS(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||wu.hasOwnProperty(e)&&wu[e]?(""+t).trim():t+"px"}function QS(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=HS(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var nC=it({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function sy(e,t){if(t){if(nC[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(G(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(G(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(G(61))}if(t.style!=null&&typeof t.style!="object")throw Error(G(62))}}function uy(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ly=null;function e0(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var cy=null,qa=null,Ha=null;function Qb(e){if(e=wl(e)){if(typeof cy!="function")throw Error(G(280));var t=e.stateNode;t&&(t=Vd(t),cy(e.stateNode,e.type,t))}}function YS(e){qa?Ha?Ha.push(e):Ha=[e]:qa=e}function GS(){if(qa){var e=qa,t=Ha;if(Ha=qa=null,Qb(e),t)for(e=0;e<t.length;e++)Qb(t[e])}}function XS(e,t){return e(t)}function JS(){}var Yp=!1;function ZS(e,t,r){if(Yp)return e(t,r);Yp=!0;try{return XS(e,t,r)}finally{Yp=!1,(qa!==null||Ha!==null)&&(JS(),GS())}}function Uu(e,t){var r=e.stateNode;if(r===null)return null;var n=Vd(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(G(231,t,typeof r));return r}var fy=!1;if(Un)try{var ou={};Object.defineProperty(ou,"passive",{get:function(){fy=!0}}),window.addEventListener("test",ou,ou),window.removeEventListener("test",ou,ou)}catch{fy=!1}function iC(e,t,r,n,i,o,a,s,u){var l=Array.prototype.slice.call(arguments,3);try{t.apply(r,l)}catch(c){this.onError(c)}}var Su=!1,Hf=null,Qf=!1,dy=null,oC={onError:function(e){Su=!0,Hf=e}};function aC(e,t,r,n,i,o,a,s,u){Su=!1,Hf=null,iC.apply(oC,arguments)}function sC(e,t,r,n,i,o,a,s,u){if(aC.apply(this,arguments),Su){if(Su){var l=Hf;Su=!1,Hf=null}else throw Error(G(198));Qf||(Qf=!0,dy=l)}}function Go(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function eO(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Yb(e){if(Go(e)!==e)throw Error(G(188))}function uC(e){var t=e.alternate;if(!t){if(t=Go(e),t===null)throw Error(G(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var o=i.alternate;if(o===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===r)return Yb(i),e;if(o===n)return Yb(i),t;o=o.sibling}throw Error(G(188))}if(r.return!==n.return)r=i,n=o;else{for(var a=!1,s=i.child;s;){if(s===r){a=!0,r=i,n=o;break}if(s===n){a=!0,n=i,r=o;break}s=s.sibling}if(!a){for(s=o.child;s;){if(s===r){a=!0,r=o,n=i;break}if(s===n){a=!0,n=o,r=i;break}s=s.sibling}if(!a)throw Error(G(189))}}if(r.alternate!==n)throw Error(G(190))}if(r.tag!==3)throw Error(G(188));return r.stateNode.current===r?e:t}function tO(e){return e=uC(e),e!==null?rO(e):null}function rO(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=rO(e);if(t!==null)return t;e=e.sibling}return null}var nO=vr.unstable_scheduleCallback,Gb=vr.unstable_cancelCallback,lC=vr.unstable_shouldYield,cC=vr.unstable_requestPaint,at=vr.unstable_now,fC=vr.unstable_getCurrentPriorityLevel,t0=vr.unstable_ImmediatePriority,iO=vr.unstable_UserBlockingPriority,Yf=vr.unstable_NormalPriority,dC=vr.unstable_LowPriority,oO=vr.unstable_IdlePriority,Ud=null,mn=null;function hC(e){if(mn&&typeof mn.onCommitFiberRoot=="function")try{mn.onCommitFiberRoot(Ud,e,void 0,(e.current.flags&128)===128)}catch{}}var Kr=Math.clz32?Math.clz32:mC,vC=Math.log,pC=Math.LN2;function mC(e){return e>>>=0,e===0?32:31-(vC(e)/pC|0)|0}var Hc=64,Qc=4194304;function yu(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Gf(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,i=e.suspendedLanes,o=e.pingedLanes,a=r&268435455;if(a!==0){var s=a&~i;s!==0?n=yu(s):(o&=a,o!==0&&(n=yu(o)))}else a=r&~i,a!==0?n=yu(a):o!==0&&(n=yu(o));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Kr(t),i=1<<r,n|=e[r],t&=~i;return n}function yC(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gC(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-Kr(o),s=1<<a,u=i[a];u===-1?(!(s&r)||s&n)&&(i[a]=yC(s,t)):u<=t&&(e.expiredLanes|=s),o&=~s}}function hy(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function aO(){var e=Hc;return Hc<<=1,!(Hc&4194240)&&(Hc=64),e}function Gp(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function bl(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Kr(t),e[t]=r}function bC(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-Kr(r),o=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~o}}function r0(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Kr(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var De=0;function sO(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var uO,n0,lO,cO,fO,vy=!1,Yc=[],bi=null,_i=null,wi=null,Wu=new Map,zu=new Map,di=[],_C="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Xb(e,t){switch(e){case"focusin":case"focusout":bi=null;break;case"dragenter":case"dragleave":_i=null;break;case"mouseover":case"mouseout":wi=null;break;case"pointerover":case"pointerout":Wu.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":zu.delete(t.pointerId)}}function au(e,t,r,n,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:o,targetContainers:[i]},t!==null&&(t=wl(t),t!==null&&n0(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function wC(e,t,r,n,i){switch(t){case"focusin":return bi=au(bi,e,t,r,n,i),!0;case"dragenter":return _i=au(_i,e,t,r,n,i),!0;case"mouseover":return wi=au(wi,e,t,r,n,i),!0;case"pointerover":var o=i.pointerId;return Wu.set(o,au(Wu.get(o)||null,e,t,r,n,i)),!0;case"gotpointercapture":return o=i.pointerId,zu.set(o,au(zu.get(o)||null,e,t,r,n,i)),!0}return!1}function dO(e){var t=ho(e.target);if(t!==null){var r=Go(t);if(r!==null){if(t=r.tag,t===13){if(t=eO(r),t!==null){e.blockedOn=t,fO(e.priority,function(){lO(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function bf(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=py(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);ly=n,r.target.dispatchEvent(n),ly=null}else return t=wl(r),t!==null&&n0(t),e.blockedOn=r,!1;t.shift()}return!0}function Jb(e,t,r){bf(e)&&r.delete(t)}function SC(){vy=!1,bi!==null&&bf(bi)&&(bi=null),_i!==null&&bf(_i)&&(_i=null),wi!==null&&bf(wi)&&(wi=null),Wu.forEach(Jb),zu.forEach(Jb)}function su(e,t){e.blockedOn===t&&(e.blockedOn=null,vy||(vy=!0,vr.unstable_scheduleCallback(vr.unstable_NormalPriority,SC)))}function Ku(e){function t(i){return su(i,e)}if(0<Yc.length){su(Yc[0],e);for(var r=1;r<Yc.length;r++){var n=Yc[r];n.blockedOn===e&&(n.blockedOn=null)}}for(bi!==null&&su(bi,e),_i!==null&&su(_i,e),wi!==null&&su(wi,e),Wu.forEach(t),zu.forEach(t),r=0;r<di.length;r++)n=di[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<di.length&&(r=di[0],r.blockedOn===null);)dO(r),r.blockedOn===null&&di.shift()}var Qa=Gn.ReactCurrentBatchConfig,Xf=!0;function OC(e,t,r,n){var i=De,o=Qa.transition;Qa.transition=null;try{De=1,i0(e,t,r,n)}finally{De=i,Qa.transition=o}}function EC(e,t,r,n){var i=De,o=Qa.transition;Qa.transition=null;try{De=4,i0(e,t,r,n)}finally{De=i,Qa.transition=o}}function i0(e,t,r,n){if(Xf){var i=py(e,t,r,n);if(i===null)am(e,t,n,Jf,r),Xb(e,n);else if(wC(i,e,t,r,n))n.stopPropagation();else if(Xb(e,n),t&4&&-1<_C.indexOf(e)){for(;i!==null;){var o=wl(i);if(o!==null&&uO(o),o=py(e,t,r,n),o===null&&am(e,t,n,Jf,r),o===i)break;i=o}i!==null&&n.stopPropagation()}else am(e,t,n,null,r)}}var Jf=null;function py(e,t,r,n){if(Jf=null,e=e0(n),e=ho(e),e!==null)if(t=Go(e),t===null)e=null;else if(r=t.tag,r===13){if(e=eO(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Jf=e,null}function hO(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(fC()){case t0:return 1;case iO:return 4;case Yf:case dC:return 16;case oO:return 536870912;default:return 16}default:return 16}}var pi=null,o0=null,_f=null;function vO(){if(_f)return _f;var e,t=o0,r=t.length,n,i="value"in pi?pi.value:pi.textContent,o=i.length;for(e=0;e<r&&t[e]===i[e];e++);var a=r-e;for(n=1;n<=a&&t[r-n]===i[o-n];n++);return _f=i.slice(e,1<n?1-n:void 0)}function wf(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Gc(){return!0}function Zb(){return!1}function yr(e){function t(r,n,i,o,a){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(r=e[s],this[s]=r?r(o):o[s]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Gc:Zb,this.isPropagationStopped=Zb,this}return it(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Gc)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Gc)},persist:function(){},isPersistent:Gc}),t}var Es={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},a0=yr(Es),_l=it({},Es,{view:0,detail:0}),PC=yr(_l),Xp,Jp,uu,Wd=it({},_l,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:s0,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==uu&&(uu&&e.type==="mousemove"?(Xp=e.screenX-uu.screenX,Jp=e.screenY-uu.screenY):Jp=Xp=0,uu=e),Xp)},movementY:function(e){return"movementY"in e?e.movementY:Jp}}),e_=yr(Wd),xC=it({},Wd,{dataTransfer:0}),jC=yr(xC),kC=it({},_l,{relatedTarget:0}),Zp=yr(kC),CC=it({},Es,{animationName:0,elapsedTime:0,pseudoElement:0}),$C=yr(CC),AC=it({},Es,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),RC=yr(AC),TC=it({},Es,{data:0}),t_=yr(TC),MC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},IC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},NC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function DC(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=NC[e])?!!t[e]:!1}function s0(){return DC}var LC=it({},_l,{key:function(e){if(e.key){var t=MC[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=wf(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?IC[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:s0,charCode:function(e){return e.type==="keypress"?wf(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?wf(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),FC=yr(LC),BC=it({},Wd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),r_=yr(BC),UC=it({},_l,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:s0}),WC=yr(UC),zC=it({},Es,{propertyName:0,elapsedTime:0,pseudoElement:0}),KC=yr(zC),VC=it({},Wd,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),qC=yr(VC),HC=[9,13,27,32],u0=Un&&"CompositionEvent"in window,Ou=null;Un&&"documentMode"in document&&(Ou=document.documentMode);var QC=Un&&"TextEvent"in window&&!Ou,pO=Un&&(!u0||Ou&&8<Ou&&11>=Ou),n_=" ",i_=!1;function mO(e,t){switch(e){case"keyup":return HC.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function yO(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ma=!1;function YC(e,t){switch(e){case"compositionend":return yO(t);case"keypress":return t.which!==32?null:(i_=!0,n_);case"textInput":return e=t.data,e===n_&&i_?null:e;default:return null}}function GC(e,t){if(Ma)return e==="compositionend"||!u0&&mO(e,t)?(e=vO(),_f=o0=pi=null,Ma=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return pO&&t.locale!=="ko"?null:t.data;default:return null}}var XC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function o_(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!XC[e.type]:t==="textarea"}function gO(e,t,r,n){YS(n),t=Zf(t,"onChange"),0<t.length&&(r=new a0("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Eu=null,Vu=null;function JC(e){CO(e,0)}function zd(e){var t=Da(e);if(WS(t))return e}function ZC(e,t){if(e==="change")return t}var bO=!1;if(Un){var em;if(Un){var tm="oninput"in document;if(!tm){var a_=document.createElement("div");a_.setAttribute("oninput","return;"),tm=typeof a_.oninput=="function"}em=tm}else em=!1;bO=em&&(!document.documentMode||9<document.documentMode)}function s_(){Eu&&(Eu.detachEvent("onpropertychange",_O),Vu=Eu=null)}function _O(e){if(e.propertyName==="value"&&zd(Vu)){var t=[];gO(t,Vu,e,e0(e)),ZS(JC,t)}}function e$(e,t,r){e==="focusin"?(s_(),Eu=t,Vu=r,Eu.attachEvent("onpropertychange",_O)):e==="focusout"&&s_()}function t$(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return zd(Vu)}function r$(e,t){if(e==="click")return zd(t)}function n$(e,t){if(e==="input"||e==="change")return zd(t)}function i$(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Hr=typeof Object.is=="function"?Object.is:i$;function qu(e,t){if(Hr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!Xm.call(t,i)||!Hr(e[i],t[i]))return!1}return!0}function u_(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function l_(e,t){var r=u_(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=u_(r)}}function wO(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?wO(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function SO(){for(var e=window,t=qf();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=qf(e.document)}return t}function l0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function o$(e){var t=SO(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&wO(r.ownerDocument.documentElement,r)){if(n!==null&&l0(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,o=Math.min(n.start,i);n=n.end===void 0?o:Math.min(n.end,i),!e.extend&&o>n&&(i=n,n=o,o=i),i=l_(r,o);var a=l_(r,n);i&&a&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>n?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var a$=Un&&"documentMode"in document&&11>=document.documentMode,Ia=null,my=null,Pu=null,yy=!1;function c_(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;yy||Ia==null||Ia!==qf(n)||(n=Ia,"selectionStart"in n&&l0(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Pu&&qu(Pu,n)||(Pu=n,n=Zf(my,"onSelect"),0<n.length&&(t=new a0("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Ia)))}function Xc(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Na={animationend:Xc("Animation","AnimationEnd"),animationiteration:Xc("Animation","AnimationIteration"),animationstart:Xc("Animation","AnimationStart"),transitionend:Xc("Transition","TransitionEnd")},rm={},OO={};Un&&(OO=document.createElement("div").style,"AnimationEvent"in window||(delete Na.animationend.animation,delete Na.animationiteration.animation,delete Na.animationstart.animation),"TransitionEvent"in window||delete Na.transitionend.transition);function Kd(e){if(rm[e])return rm[e];if(!Na[e])return e;var t=Na[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in OO)return rm[e]=t[r];return e}var EO=Kd("animationend"),PO=Kd("animationiteration"),xO=Kd("animationstart"),jO=Kd("transitionend"),kO=new Map,f_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Bi(e,t){kO.set(e,t),Yo(t,[e])}for(var nm=0;nm<f_.length;nm++){var im=f_[nm],s$=im.toLowerCase(),u$=im[0].toUpperCase()+im.slice(1);Bi(s$,"on"+u$)}Bi(EO,"onAnimationEnd");Bi(PO,"onAnimationIteration");Bi(xO,"onAnimationStart");Bi("dblclick","onDoubleClick");Bi("focusin","onFocus");Bi("focusout","onBlur");Bi(jO,"onTransitionEnd");is("onMouseEnter",["mouseout","mouseover"]);is("onMouseLeave",["mouseout","mouseover"]);is("onPointerEnter",["pointerout","pointerover"]);is("onPointerLeave",["pointerout","pointerover"]);Yo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Yo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Yo("onBeforeInput",["compositionend","keypress","textInput","paste"]);Yo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Yo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Yo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),l$=new Set("cancel close invalid load scroll toggle".split(" ").concat(gu));function d_(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,sC(n,t,void 0,e),e.currentTarget=null}function CO(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var o=void 0;if(t)for(var a=n.length-1;0<=a;a--){var s=n[a],u=s.instance,l=s.currentTarget;if(s=s.listener,u!==o&&i.isPropagationStopped())break e;d_(i,s,l),o=u}else for(a=0;a<n.length;a++){if(s=n[a],u=s.instance,l=s.currentTarget,s=s.listener,u!==o&&i.isPropagationStopped())break e;d_(i,s,l),o=u}}}if(Qf)throw e=dy,Qf=!1,dy=null,e}function Ve(e,t){var r=t[Sy];r===void 0&&(r=t[Sy]=new Set);var n=e+"__bubble";r.has(n)||($O(t,e,2,!1),r.add(n))}function om(e,t,r){var n=0;t&&(n|=4),$O(r,e,n,t)}var Jc="_reactListening"+Math.random().toString(36).slice(2);function Hu(e){if(!e[Jc]){e[Jc]=!0,DS.forEach(function(r){r!=="selectionchange"&&(l$.has(r)||om(r,!1,e),om(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Jc]||(t[Jc]=!0,om("selectionchange",!1,t))}}function $O(e,t,r,n){switch(hO(t)){case 1:var i=OC;break;case 4:i=EC;break;default:i=i0}r=i.bind(null,t,r,e),i=void 0,!fy||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function am(e,t,r,n,i){var o=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var s=n.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(a===4)for(a=n.return;a!==null;){var u=a.tag;if((u===3||u===4)&&(u=a.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;a=a.return}for(;s!==null;){if(a=ho(s),a===null)return;if(u=a.tag,u===5||u===6){n=o=a;continue e}s=s.parentNode}}n=n.return}ZS(function(){var l=o,c=e0(r),d=[];e:{var f=kO.get(e);if(f!==void 0){var h=a0,b=e;switch(e){case"keypress":if(wf(r)===0)break e;case"keydown":case"keyup":h=FC;break;case"focusin":b="focus",h=Zp;break;case"focusout":b="blur",h=Zp;break;case"beforeblur":case"afterblur":h=Zp;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=e_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=jC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=WC;break;case EO:case PO:case xO:h=$C;break;case jO:h=KC;break;case"scroll":h=PC;break;case"wheel":h=qC;break;case"copy":case"cut":case"paste":h=RC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=r_}var _=(t&4)!==0,j=!_&&e==="scroll",g=_?f!==null?f+"Capture":null:f;_=[];for(var p=l,O;p!==null;){O=p;var x=O.stateNode;if(O.tag===5&&x!==null&&(O=x,g!==null&&(x=Uu(p,g),x!=null&&_.push(Qu(p,x,O)))),j)break;p=p.return}0<_.length&&(f=new h(f,b,null,r,c),d.push({event:f,listeners:_}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",f&&r!==ly&&(b=r.relatedTarget||r.fromElement)&&(ho(b)||b[Wn]))break e;if((h||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,h?(b=r.relatedTarget||r.toElement,h=l,b=b?ho(b):null,b!==null&&(j=Go(b),b!==j||b.tag!==5&&b.tag!==6)&&(b=null)):(h=null,b=l),h!==b)){if(_=e_,x="onMouseLeave",g="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(_=r_,x="onPointerLeave",g="onPointerEnter",p="pointer"),j=h==null?f:Da(h),O=b==null?f:Da(b),f=new _(x,p+"leave",h,r,c),f.target=j,f.relatedTarget=O,x=null,ho(c)===l&&(_=new _(g,p+"enter",b,r,c),_.target=O,_.relatedTarget=j,x=_),j=x,h&&b)t:{for(_=h,g=b,p=0,O=_;O;O=ka(O))p++;for(O=0,x=g;x;x=ka(x))O++;for(;0<p-O;)_=ka(_),p--;for(;0<O-p;)g=ka(g),O--;for(;p--;){if(_===g||g!==null&&_===g.alternate)break t;_=ka(_),g=ka(g)}_=null}else _=null;h!==null&&h_(d,f,h,_,!1),b!==null&&j!==null&&h_(d,j,b,_,!0)}}e:{if(f=l?Da(l):window,h=f.nodeName&&f.nodeName.toLowerCase(),h==="select"||h==="input"&&f.type==="file")var P=ZC;else if(o_(f))if(bO)P=n$;else{P=t$;var C=e$}else(h=f.nodeName)&&h.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(P=r$);if(P&&(P=P(e,l))){gO(d,P,r,c);break e}C&&C(e,f,l),e==="focusout"&&(C=f._wrapperState)&&C.controlled&&f.type==="number"&&iy(f,"number",f.value)}switch(C=l?Da(l):window,e){case"focusin":(o_(C)||C.contentEditable==="true")&&(Ia=C,my=l,Pu=null);break;case"focusout":Pu=my=Ia=null;break;case"mousedown":yy=!0;break;case"contextmenu":case"mouseup":case"dragend":yy=!1,c_(d,r,c);break;case"selectionchange":if(a$)break;case"keydown":case"keyup":c_(d,r,c)}var A;if(u0)e:{switch(e){case"compositionstart":var D="onCompositionStart";break e;case"compositionend":D="onCompositionEnd";break e;case"compositionupdate":D="onCompositionUpdate";break e}D=void 0}else Ma?mO(e,r)&&(D="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(D="onCompositionStart");D&&(pO&&r.locale!=="ko"&&(Ma||D!=="onCompositionStart"?D==="onCompositionEnd"&&Ma&&(A=vO()):(pi=c,o0="value"in pi?pi.value:pi.textContent,Ma=!0)),C=Zf(l,D),0<C.length&&(D=new t_(D,e,null,r,c),d.push({event:D,listeners:C}),A?D.data=A:(A=yO(r),A!==null&&(D.data=A)))),(A=QC?YC(e,r):GC(e,r))&&(l=Zf(l,"onBeforeInput"),0<l.length&&(c=new t_("onBeforeInput","beforeinput",null,r,c),d.push({event:c,listeners:l}),c.data=A))}CO(d,t)})}function Qu(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Zf(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Uu(e,r),o!=null&&n.unshift(Qu(e,o,i)),o=Uu(e,t),o!=null&&n.push(Qu(e,o,i))),e=e.return}return n}function ka(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function h_(e,t,r,n,i){for(var o=t._reactName,a=[];r!==null&&r!==n;){var s=r,u=s.alternate,l=s.stateNode;if(u!==null&&u===n)break;s.tag===5&&l!==null&&(s=l,i?(u=Uu(r,o),u!=null&&a.unshift(Qu(r,u,s))):i||(u=Uu(r,o),u!=null&&a.push(Qu(r,u,s)))),r=r.return}a.length!==0&&e.push({event:t,listeners:a})}var c$=/\r\n?/g,f$=/\u0000|\uFFFD/g;function v_(e){return(typeof e=="string"?e:""+e).replace(c$,`
`).replace(f$,"")}function Zc(e,t,r){if(t=v_(t),v_(e)!==t&&r)throw Error(G(425))}function ed(){}var gy=null,by=null;function _y(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var wy=typeof setTimeout=="function"?setTimeout:void 0,d$=typeof clearTimeout=="function"?clearTimeout:void 0,p_=typeof Promise=="function"?Promise:void 0,h$=typeof queueMicrotask=="function"?queueMicrotask:typeof p_<"u"?function(e){return p_.resolve(null).then(e).catch(v$)}:wy;function v$(e){setTimeout(function(){throw e})}function sm(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){e.removeChild(i),Ku(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Ku(t)}function Si(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function m_(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Ps=Math.random().toString(36).slice(2),dn="__reactFiber$"+Ps,Yu="__reactProps$"+Ps,Wn="__reactContainer$"+Ps,Sy="__reactEvents$"+Ps,p$="__reactListeners$"+Ps,m$="__reactHandles$"+Ps;function ho(e){var t=e[dn];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Wn]||r[dn]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=m_(e);e!==null;){if(r=e[dn])return r;e=m_(e)}return t}e=r,r=e.parentNode}return null}function wl(e){return e=e[dn]||e[Wn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Da(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(G(33))}function Vd(e){return e[Yu]||null}var Oy=[],La=-1;function Ui(e){return{current:e}}function Qe(e){0>La||(e.current=Oy[La],Oy[La]=null,La--)}function Ke(e,t){La++,Oy[La]=e.current,e.current=t}var Ti={},Bt=Ui(Ti),or=Ui(!1),$o=Ti;function os(e,t){var r=e.type.contextTypes;if(!r)return Ti;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in r)i[o]=t[o];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function ar(e){return e=e.childContextTypes,e!=null}function td(){Qe(or),Qe(Bt)}function y_(e,t,r){if(Bt.current!==Ti)throw Error(G(168));Ke(Bt,t),Ke(or,r)}function AO(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(G(108,eC(e)||"Unknown",i));return it({},r,n)}function rd(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,$o=Bt.current,Ke(Bt,e),Ke(or,or.current),!0}function g_(e,t,r){var n=e.stateNode;if(!n)throw Error(G(169));r?(e=AO(e,t,$o),n.__reactInternalMemoizedMergedChildContext=e,Qe(or),Qe(Bt),Ke(Bt,e)):Qe(or),Ke(or,r)}var $n=null,qd=!1,um=!1;function RO(e){$n===null?$n=[e]:$n.push(e)}function y$(e){qd=!0,RO(e)}function Wi(){if(!um&&$n!==null){um=!0;var e=0,t=De;try{var r=$n;for(De=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}$n=null,qd=!1}catch(i){throw $n!==null&&($n=$n.slice(e+1)),nO(t0,Wi),i}finally{De=t,um=!1}}return null}var Fa=[],Ba=0,nd=null,id=0,Or=[],Er=0,Ao=null,Tn=1,Mn="";function lo(e,t){Fa[Ba++]=id,Fa[Ba++]=nd,nd=e,id=t}function TO(e,t,r){Or[Er++]=Tn,Or[Er++]=Mn,Or[Er++]=Ao,Ao=e;var n=Tn;e=Mn;var i=32-Kr(n)-1;n&=~(1<<i),r+=1;var o=32-Kr(t)+i;if(30<o){var a=i-i%5;o=(n&(1<<a)-1).toString(32),n>>=a,i-=a,Tn=1<<32-Kr(t)+i|r<<i|n,Mn=o+e}else Tn=1<<o|r<<i|n,Mn=e}function c0(e){e.return!==null&&(lo(e,1),TO(e,1,0))}function f0(e){for(;e===nd;)nd=Fa[--Ba],Fa[Ba]=null,id=Fa[--Ba],Fa[Ba]=null;for(;e===Ao;)Ao=Or[--Er],Or[Er]=null,Mn=Or[--Er],Or[Er]=null,Tn=Or[--Er],Or[Er]=null}var hr=null,dr=null,Ze=!1,Wr=null;function MO(e,t){var r=Pr(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function b_(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,hr=e,dr=Si(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,hr=e,dr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Ao!==null?{id:Tn,overflow:Mn}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Pr(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,hr=e,dr=null,!0):!1;default:return!1}}function Ey(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Py(e){if(Ze){var t=dr;if(t){var r=t;if(!b_(e,t)){if(Ey(e))throw Error(G(418));t=Si(r.nextSibling);var n=hr;t&&b_(e,t)?MO(n,r):(e.flags=e.flags&-4097|2,Ze=!1,hr=e)}}else{if(Ey(e))throw Error(G(418));e.flags=e.flags&-4097|2,Ze=!1,hr=e}}}function __(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;hr=e}function ef(e){if(e!==hr)return!1;if(!Ze)return __(e),Ze=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!_y(e.type,e.memoizedProps)),t&&(t=dr)){if(Ey(e))throw IO(),Error(G(418));for(;t;)MO(e,t),t=Si(t.nextSibling)}if(__(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(G(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){dr=Si(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}dr=null}}else dr=hr?Si(e.stateNode.nextSibling):null;return!0}function IO(){for(var e=dr;e;)e=Si(e.nextSibling)}function as(){dr=hr=null,Ze=!1}function d0(e){Wr===null?Wr=[e]:Wr.push(e)}var g$=Gn.ReactCurrentBatchConfig;function Br(e,t){if(e&&e.defaultProps){t=it({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}var od=Ui(null),ad=null,Ua=null,h0=null;function v0(){h0=Ua=ad=null}function p0(e){var t=od.current;Qe(od),e._currentValue=t}function xy(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Ya(e,t){ad=e,h0=Ua=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ir=!0),e.firstContext=null)}function Cr(e){var t=e._currentValue;if(h0!==e)if(e={context:e,memoizedValue:t,next:null},Ua===null){if(ad===null)throw Error(G(308));Ua=e,ad.dependencies={lanes:0,firstContext:e}}else Ua=Ua.next=e;return t}var vo=null;function m0(e){vo===null?vo=[e]:vo.push(e)}function NO(e,t,r,n){var i=t.interleaved;return i===null?(r.next=r,m0(t)):(r.next=i.next,i.next=r),t.interleaved=r,zn(e,n)}function zn(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var ci=!1;function y0(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function DO(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Nn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Oi(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,$e&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,zn(e,r)}return i=n.interleaved,i===null?(t.next=t,m0(n)):(t.next=i.next,i.next=t),n.interleaved=t,zn(e,r)}function Sf(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,r0(e,r)}}function w_(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?i=o=a:o=o.next=a,r=r.next}while(r!==null);o===null?i=o=t:o=o.next=t}else i=o=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function sd(e,t,r,n){var i=e.updateQueue;ci=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var u=s,l=u.next;u.next=null,a===null?o=l:a.next=l,a=u;var c=e.alternate;c!==null&&(c=c.updateQueue,s=c.lastBaseUpdate,s!==a&&(s===null?c.firstBaseUpdate=l:s.next=l,c.lastBaseUpdate=u))}if(o!==null){var d=i.baseState;a=0,c=l=u=null,s=o;do{var f=s.lane,h=s.eventTime;if((n&f)===f){c!==null&&(c=c.next={eventTime:h,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var b=e,_=s;switch(f=t,h=r,_.tag){case 1:if(b=_.payload,typeof b=="function"){d=b.call(h,d,f);break e}d=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=_.payload,f=typeof b=="function"?b.call(h,d,f):b,f==null)break e;d=it({},d,f);break e;case 2:ci=!0}}s.callback!==null&&s.lane!==0&&(e.flags|=64,f=i.effects,f===null?i.effects=[s]:f.push(s))}else h={eventTime:h,lane:f,tag:s.tag,payload:s.payload,callback:s.callback,next:null},c===null?(l=c=h,u=d):c=c.next=h,a|=f;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;f=s,s=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(c===null&&(u=d),i.baseState=u,i.firstBaseUpdate=l,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do a|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);To|=a,e.lanes=a,e.memoizedState=d}}function S_(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(G(191,i));i.call(n)}}}var LO=new NS.Component().refs;function jy(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:it({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Hd={isMounted:function(e){return(e=e._reactInternals)?Go(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Qt(),i=Pi(e),o=Nn(n,i);o.payload=t,r!=null&&(o.callback=r),t=Oi(e,o,i),t!==null&&(Vr(t,e,i,n),Sf(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Qt(),i=Pi(e),o=Nn(n,i);o.tag=1,o.payload=t,r!=null&&(o.callback=r),t=Oi(e,o,i),t!==null&&(Vr(t,e,i,n),Sf(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Qt(),n=Pi(e),i=Nn(r,n);i.tag=2,t!=null&&(i.callback=t),t=Oi(e,i,n),t!==null&&(Vr(t,e,n,r),Sf(t,e,n))}};function O_(e,t,r,n,i,o,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,o,a):t.prototype&&t.prototype.isPureReactComponent?!qu(r,n)||!qu(i,o):!0}function FO(e,t,r){var n=!1,i=Ti,o=t.contextType;return typeof o=="object"&&o!==null?o=Cr(o):(i=ar(t)?$o:Bt.current,n=t.contextTypes,o=(n=n!=null)?os(e,i):Ti),t=new t(r,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Hd,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function E_(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Hd.enqueueReplaceState(t,t.state,null)}function ky(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs=LO,y0(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=Cr(o):(o=ar(t)?$o:Bt.current,i.context=os(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(jy(e,t,o,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Hd.enqueueReplaceState(i,i.state,null),sd(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function lu(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(G(309));var n=r.stateNode}if(!n)throw Error(G(147,e));var i=n,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(a){var s=i.refs;s===LO&&(s=i.refs={}),a===null?delete s[o]:s[o]=a},t._stringRef=o,t)}if(typeof e!="string")throw Error(G(284));if(!r._owner)throw Error(G(290,e))}return e}function tf(e,t){throw e=Object.prototype.toString.call(t),Error(G(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function P_(e){var t=e._init;return t(e._payload)}function BO(e){function t(g,p){if(e){var O=g.deletions;O===null?(g.deletions=[p],g.flags|=16):O.push(p)}}function r(g,p){if(!e)return null;for(;p!==null;)t(g,p),p=p.sibling;return null}function n(g,p){for(g=new Map;p!==null;)p.key!==null?g.set(p.key,p):g.set(p.index,p),p=p.sibling;return g}function i(g,p){return g=xi(g,p),g.index=0,g.sibling=null,g}function o(g,p,O){return g.index=O,e?(O=g.alternate,O!==null?(O=O.index,O<p?(g.flags|=2,p):O):(g.flags|=2,p)):(g.flags|=1048576,p)}function a(g){return e&&g.alternate===null&&(g.flags|=2),g}function s(g,p,O,x){return p===null||p.tag!==6?(p=pm(O,g.mode,x),p.return=g,p):(p=i(p,O),p.return=g,p)}function u(g,p,O,x){var P=O.type;return P===Ta?c(g,p,O.props.children,x,O.key):p!==null&&(p.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===li&&P_(P)===p.type)?(x=i(p,O.props),x.ref=lu(g,p,O),x.return=g,x):(x=kf(O.type,O.key,O.props,null,g.mode,x),x.ref=lu(g,p,O),x.return=g,x)}function l(g,p,O,x){return p===null||p.tag!==4||p.stateNode.containerInfo!==O.containerInfo||p.stateNode.implementation!==O.implementation?(p=mm(O,g.mode,x),p.return=g,p):(p=i(p,O.children||[]),p.return=g,p)}function c(g,p,O,x,P){return p===null||p.tag!==7?(p=So(O,g.mode,x,P),p.return=g,p):(p=i(p,O),p.return=g,p)}function d(g,p,O){if(typeof p=="string"&&p!==""||typeof p=="number")return p=pm(""+p,g.mode,O),p.return=g,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Kc:return O=kf(p.type,p.key,p.props,null,g.mode,O),O.ref=lu(g,null,p),O.return=g,O;case Ra:return p=mm(p,g.mode,O),p.return=g,p;case li:var x=p._init;return d(g,x(p._payload),O)}if(mu(p)||iu(p))return p=So(p,g.mode,O,null),p.return=g,p;tf(g,p)}return null}function f(g,p,O,x){var P=p!==null?p.key:null;if(typeof O=="string"&&O!==""||typeof O=="number")return P!==null?null:s(g,p,""+O,x);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case Kc:return O.key===P?u(g,p,O,x):null;case Ra:return O.key===P?l(g,p,O,x):null;case li:return P=O._init,f(g,p,P(O._payload),x)}if(mu(O)||iu(O))return P!==null?null:c(g,p,O,x,null);tf(g,O)}return null}function h(g,p,O,x,P){if(typeof x=="string"&&x!==""||typeof x=="number")return g=g.get(O)||null,s(p,g,""+x,P);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Kc:return g=g.get(x.key===null?O:x.key)||null,u(p,g,x,P);case Ra:return g=g.get(x.key===null?O:x.key)||null,l(p,g,x,P);case li:var C=x._init;return h(g,p,O,C(x._payload),P)}if(mu(x)||iu(x))return g=g.get(O)||null,c(p,g,x,P,null);tf(p,x)}return null}function b(g,p,O,x){for(var P=null,C=null,A=p,D=p=0,B=null;A!==null&&D<O.length;D++){A.index>D?(B=A,A=null):B=A.sibling;var V=f(g,A,O[D],x);if(V===null){A===null&&(A=B);break}e&&A&&V.alternate===null&&t(g,A),p=o(V,p,D),C===null?P=V:C.sibling=V,C=V,A=B}if(D===O.length)return r(g,A),Ze&&lo(g,D),P;if(A===null){for(;D<O.length;D++)A=d(g,O[D],x),A!==null&&(p=o(A,p,D),C===null?P=A:C.sibling=A,C=A);return Ze&&lo(g,D),P}for(A=n(g,A);D<O.length;D++)B=h(A,g,D,O[D],x),B!==null&&(e&&B.alternate!==null&&A.delete(B.key===null?D:B.key),p=o(B,p,D),C===null?P=B:C.sibling=B,C=B);return e&&A.forEach(function(X){return t(g,X)}),Ze&&lo(g,D),P}function _(g,p,O,x){var P=iu(O);if(typeof P!="function")throw Error(G(150));if(O=P.call(O),O==null)throw Error(G(151));for(var C=P=null,A=p,D=p=0,B=null,V=O.next();A!==null&&!V.done;D++,V=O.next()){A.index>D?(B=A,A=null):B=A.sibling;var X=f(g,A,V.value,x);if(X===null){A===null&&(A=B);break}e&&A&&X.alternate===null&&t(g,A),p=o(X,p,D),C===null?P=X:C.sibling=X,C=X,A=B}if(V.done)return r(g,A),Ze&&lo(g,D),P;if(A===null){for(;!V.done;D++,V=O.next())V=d(g,V.value,x),V!==null&&(p=o(V,p,D),C===null?P=V:C.sibling=V,C=V);return Ze&&lo(g,D),P}for(A=n(g,A);!V.done;D++,V=O.next())V=h(A,g,D,V.value,x),V!==null&&(e&&V.alternate!==null&&A.delete(V.key===null?D:V.key),p=o(V,p,D),C===null?P=V:C.sibling=V,C=V);return e&&A.forEach(function(fe){return t(g,fe)}),Ze&&lo(g,D),P}function j(g,p,O,x){if(typeof O=="object"&&O!==null&&O.type===Ta&&O.key===null&&(O=O.props.children),typeof O=="object"&&O!==null){switch(O.$$typeof){case Kc:e:{for(var P=O.key,C=p;C!==null;){if(C.key===P){if(P=O.type,P===Ta){if(C.tag===7){r(g,C.sibling),p=i(C,O.props.children),p.return=g,g=p;break e}}else if(C.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===li&&P_(P)===C.type){r(g,C.sibling),p=i(C,O.props),p.ref=lu(g,C,O),p.return=g,g=p;break e}r(g,C);break}else t(g,C);C=C.sibling}O.type===Ta?(p=So(O.props.children,g.mode,x,O.key),p.return=g,g=p):(x=kf(O.type,O.key,O.props,null,g.mode,x),x.ref=lu(g,p,O),x.return=g,g=x)}return a(g);case Ra:e:{for(C=O.key;p!==null;){if(p.key===C)if(p.tag===4&&p.stateNode.containerInfo===O.containerInfo&&p.stateNode.implementation===O.implementation){r(g,p.sibling),p=i(p,O.children||[]),p.return=g,g=p;break e}else{r(g,p);break}else t(g,p);p=p.sibling}p=mm(O,g.mode,x),p.return=g,g=p}return a(g);case li:return C=O._init,j(g,p,C(O._payload),x)}if(mu(O))return b(g,p,O,x);if(iu(O))return _(g,p,O,x);tf(g,O)}return typeof O=="string"&&O!==""||typeof O=="number"?(O=""+O,p!==null&&p.tag===6?(r(g,p.sibling),p=i(p,O),p.return=g,g=p):(r(g,p),p=pm(O,g.mode,x),p.return=g,g=p),a(g)):r(g,p)}return j}var ss=BO(!0),UO=BO(!1),Sl={},yn=Ui(Sl),Gu=Ui(Sl),Xu=Ui(Sl);function po(e){if(e===Sl)throw Error(G(174));return e}function g0(e,t){switch(Ke(Xu,t),Ke(Gu,e),Ke(yn,Sl),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ay(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ay(t,e)}Qe(yn),Ke(yn,t)}function us(){Qe(yn),Qe(Gu),Qe(Xu)}function WO(e){po(Xu.current);var t=po(yn.current),r=ay(t,e.type);t!==r&&(Ke(Gu,e),Ke(yn,r))}function b0(e){Gu.current===e&&(Qe(yn),Qe(Gu))}var rt=Ui(0);function ud(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var lm=[];function _0(){for(var e=0;e<lm.length;e++)lm[e]._workInProgressVersionPrimary=null;lm.length=0}var Of=Gn.ReactCurrentDispatcher,cm=Gn.ReactCurrentBatchConfig,Ro=0,nt=null,yt=null,jt=null,ld=!1,xu=!1,Ju=0,b$=0;function It(){throw Error(G(321))}function w0(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Hr(e[r],t[r]))return!1;return!0}function S0(e,t,r,n,i,o){if(Ro=o,nt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Of.current=e===null||e.memoizedState===null?O$:E$,e=r(n,i),xu){o=0;do{if(xu=!1,Ju=0,25<=o)throw Error(G(301));o+=1,jt=yt=null,t.updateQueue=null,Of.current=P$,e=r(n,i)}while(xu)}if(Of.current=cd,t=yt!==null&&yt.next!==null,Ro=0,jt=yt=nt=null,ld=!1,t)throw Error(G(300));return e}function O0(){var e=Ju!==0;return Ju=0,e}function cn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return jt===null?nt.memoizedState=jt=e:jt=jt.next=e,jt}function $r(){if(yt===null){var e=nt.alternate;e=e!==null?e.memoizedState:null}else e=yt.next;var t=jt===null?nt.memoizedState:jt.next;if(t!==null)jt=t,yt=e;else{if(e===null)throw Error(G(310));yt=e,e={memoizedState:yt.memoizedState,baseState:yt.baseState,baseQueue:yt.baseQueue,queue:yt.queue,next:null},jt===null?nt.memoizedState=jt=e:jt=jt.next=e}return jt}function Zu(e,t){return typeof t=="function"?t(e):t}function fm(e){var t=$r(),r=t.queue;if(r===null)throw Error(G(311));r.lastRenderedReducer=e;var n=yt,i=n.baseQueue,o=r.pending;if(o!==null){if(i!==null){var a=i.next;i.next=o.next,o.next=a}n.baseQueue=i=o,r.pending=null}if(i!==null){o=i.next,n=n.baseState;var s=a=null,u=null,l=o;do{var c=l.lane;if((Ro&c)===c)u!==null&&(u=u.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),n=l.hasEagerState?l.eagerState:e(n,l.action);else{var d={lane:c,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};u===null?(s=u=d,a=n):u=u.next=d,nt.lanes|=c,To|=c}l=l.next}while(l!==null&&l!==o);u===null?a=n:u.next=s,Hr(n,t.memoizedState)||(ir=!0),t.memoizedState=n,t.baseState=a,t.baseQueue=u,r.lastRenderedState=n}if(e=r.interleaved,e!==null){i=e;do o=i.lane,nt.lanes|=o,To|=o,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function dm(e){var t=$r(),r=t.queue;if(r===null)throw Error(G(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,o=t.memoizedState;if(i!==null){r.pending=null;var a=i=i.next;do o=e(o,a.action),a=a.next;while(a!==i);Hr(o,t.memoizedState)||(ir=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),r.lastRenderedState=o}return[o,n]}function zO(){}function KO(e,t){var r=nt,n=$r(),i=t(),o=!Hr(n.memoizedState,i);if(o&&(n.memoizedState=i,ir=!0),n=n.queue,E0(HO.bind(null,r,n,e),[e]),n.getSnapshot!==t||o||jt!==null&&jt.memoizedState.tag&1){if(r.flags|=2048,el(9,qO.bind(null,r,n,i,t),void 0,null),Ct===null)throw Error(G(349));Ro&30||VO(r,t,i)}return i}function VO(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=nt.updateQueue,t===null?(t={lastEffect:null,stores:null},nt.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function qO(e,t,r,n){t.value=r,t.getSnapshot=n,QO(t)&&YO(e)}function HO(e,t,r){return r(function(){QO(t)&&YO(e)})}function QO(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Hr(e,r)}catch{return!0}}function YO(e){var t=zn(e,1);t!==null&&Vr(t,e,1,-1)}function x_(e){var t=cn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Zu,lastRenderedState:e},t.queue=e,e=e.dispatch=S$.bind(null,nt,e),[t.memoizedState,e]}function el(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=nt.updateQueue,t===null?(t={lastEffect:null,stores:null},nt.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function GO(){return $r().memoizedState}function Ef(e,t,r,n){var i=cn();nt.flags|=e,i.memoizedState=el(1|t,r,void 0,n===void 0?null:n)}function Qd(e,t,r,n){var i=$r();n=n===void 0?null:n;var o=void 0;if(yt!==null){var a=yt.memoizedState;if(o=a.destroy,n!==null&&w0(n,a.deps)){i.memoizedState=el(t,r,o,n);return}}nt.flags|=e,i.memoizedState=el(1|t,r,o,n)}function j_(e,t){return Ef(8390656,8,e,t)}function E0(e,t){return Qd(2048,8,e,t)}function XO(e,t){return Qd(4,2,e,t)}function JO(e,t){return Qd(4,4,e,t)}function ZO(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function eE(e,t,r){return r=r!=null?r.concat([e]):null,Qd(4,4,ZO.bind(null,t,e),r)}function P0(){}function tE(e,t){var r=$r();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&w0(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function rE(e,t){var r=$r();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&w0(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function nE(e,t,r){return Ro&21?(Hr(r,t)||(r=aO(),nt.lanes|=r,To|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ir=!0),e.memoizedState=r)}function _$(e,t){var r=De;De=r!==0&&4>r?r:4,e(!0);var n=cm.transition;cm.transition={};try{e(!1),t()}finally{De=r,cm.transition=n}}function iE(){return $r().memoizedState}function w$(e,t,r){var n=Pi(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},oE(e))aE(t,r);else if(r=NO(e,t,r,n),r!==null){var i=Qt();Vr(r,e,n,i),sE(r,t,n)}}function S$(e,t,r){var n=Pi(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(oE(e))aE(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var a=t.lastRenderedState,s=o(a,r);if(i.hasEagerState=!0,i.eagerState=s,Hr(s,a)){var u=t.interleaved;u===null?(i.next=i,m0(t)):(i.next=u.next,u.next=i),t.interleaved=i;return}}catch{}finally{}r=NO(e,t,i,n),r!==null&&(i=Qt(),Vr(r,e,n,i),sE(r,t,n))}}function oE(e){var t=e.alternate;return e===nt||t!==null&&t===nt}function aE(e,t){xu=ld=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function sE(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,r0(e,r)}}var cd={readContext:Cr,useCallback:It,useContext:It,useEffect:It,useImperativeHandle:It,useInsertionEffect:It,useLayoutEffect:It,useMemo:It,useReducer:It,useRef:It,useState:It,useDebugValue:It,useDeferredValue:It,useTransition:It,useMutableSource:It,useSyncExternalStore:It,useId:It,unstable_isNewReconciler:!1},O$={readContext:Cr,useCallback:function(e,t){return cn().memoizedState=[e,t===void 0?null:t],e},useContext:Cr,useEffect:j_,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Ef(4194308,4,ZO.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Ef(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ef(4,2,e,t)},useMemo:function(e,t){var r=cn();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=cn();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=w$.bind(null,nt,e),[n.memoizedState,e]},useRef:function(e){var t=cn();return e={current:e},t.memoizedState=e},useState:x_,useDebugValue:P0,useDeferredValue:function(e){return cn().memoizedState=e},useTransition:function(){var e=x_(!1),t=e[0];return e=_$.bind(null,e[1]),cn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=nt,i=cn();if(Ze){if(r===void 0)throw Error(G(407));r=r()}else{if(r=t(),Ct===null)throw Error(G(349));Ro&30||VO(n,t,r)}i.memoizedState=r;var o={value:r,getSnapshot:t};return i.queue=o,j_(HO.bind(null,n,o,e),[e]),n.flags|=2048,el(9,qO.bind(null,n,o,r,t),void 0,null),r},useId:function(){var e=cn(),t=Ct.identifierPrefix;if(Ze){var r=Mn,n=Tn;r=(n&~(1<<32-Kr(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Ju++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=b$++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},E$={readContext:Cr,useCallback:tE,useContext:Cr,useEffect:E0,useImperativeHandle:eE,useInsertionEffect:XO,useLayoutEffect:JO,useMemo:rE,useReducer:fm,useRef:GO,useState:function(){return fm(Zu)},useDebugValue:P0,useDeferredValue:function(e){var t=$r();return nE(t,yt.memoizedState,e)},useTransition:function(){var e=fm(Zu)[0],t=$r().memoizedState;return[e,t]},useMutableSource:zO,useSyncExternalStore:KO,useId:iE,unstable_isNewReconciler:!1},P$={readContext:Cr,useCallback:tE,useContext:Cr,useEffect:E0,useImperativeHandle:eE,useInsertionEffect:XO,useLayoutEffect:JO,useMemo:rE,useReducer:dm,useRef:GO,useState:function(){return dm(Zu)},useDebugValue:P0,useDeferredValue:function(e){var t=$r();return yt===null?t.memoizedState=e:nE(t,yt.memoizedState,e)},useTransition:function(){var e=dm(Zu)[0],t=$r().memoizedState;return[e,t]},useMutableSource:zO,useSyncExternalStore:KO,useId:iE,unstable_isNewReconciler:!1};function ls(e,t){try{var r="",n=t;do r+=Zk(n),n=n.return;while(n);var i=r}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function hm(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Cy(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var x$=typeof WeakMap=="function"?WeakMap:Map;function uE(e,t,r){r=Nn(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){dd||(dd=!0,Fy=n),Cy(e,t)},r}function lE(e,t,r){r=Nn(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){Cy(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){Cy(e,t),typeof n!="function"&&(Ei===null?Ei=new Set([this]):Ei.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),r}function k_(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new x$;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=B$.bind(null,e,t,r),t.then(e,e))}function C_(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function $_(e,t,r,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Nn(-1,1),t.tag=2,Oi(r,t,1))),r.lanes|=1),e)}var j$=Gn.ReactCurrentOwner,ir=!1;function qt(e,t,r,n){t.child=e===null?UO(t,null,r,n):ss(t,e.child,r,n)}function A_(e,t,r,n,i){r=r.render;var o=t.ref;return Ya(t,i),n=S0(e,t,r,n,o,i),r=O0(),e!==null&&!ir?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Kn(e,t,i)):(Ze&&r&&c0(t),t.flags|=1,qt(e,t,n,i),t.child)}function R_(e,t,r,n,i){if(e===null){var o=r.type;return typeof o=="function"&&!T0(o)&&o.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=o,cE(e,t,o,n,i)):(e=kf(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&i)){var a=o.memoizedProps;if(r=r.compare,r=r!==null?r:qu,r(a,n)&&e.ref===t.ref)return Kn(e,t,i)}return t.flags|=1,e=xi(o,n),e.ref=t.ref,e.return=t,t.child=e}function cE(e,t,r,n,i){if(e!==null){var o=e.memoizedProps;if(qu(o,n)&&e.ref===t.ref)if(ir=!1,t.pendingProps=n=o,(e.lanes&i)!==0)e.flags&131072&&(ir=!0);else return t.lanes=e.lanes,Kn(e,t,i)}return $y(e,t,r,n,i)}function fE(e,t,r){var n=t.pendingProps,i=n.children,o=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ke(za,fr),fr|=r;else{if(!(r&1073741824))return e=o!==null?o.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ke(za,fr),fr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=o!==null?o.baseLanes:r,Ke(za,fr),fr|=n}else o!==null?(n=o.baseLanes|r,t.memoizedState=null):n=r,Ke(za,fr),fr|=n;return qt(e,t,i,r),t.child}function dE(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function $y(e,t,r,n,i){var o=ar(r)?$o:Bt.current;return o=os(t,o),Ya(t,i),r=S0(e,t,r,n,o,i),n=O0(),e!==null&&!ir?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Kn(e,t,i)):(Ze&&n&&c0(t),t.flags|=1,qt(e,t,r,i),t.child)}function T_(e,t,r,n,i){if(ar(r)){var o=!0;rd(t)}else o=!1;if(Ya(t,i),t.stateNode===null)Pf(e,t),FO(t,r,n),ky(t,r,n,i),n=!0;else if(e===null){var a=t.stateNode,s=t.memoizedProps;a.props=s;var u=a.context,l=r.contextType;typeof l=="object"&&l!==null?l=Cr(l):(l=ar(r)?$o:Bt.current,l=os(t,l));var c=r.getDerivedStateFromProps,d=typeof c=="function"||typeof a.getSnapshotBeforeUpdate=="function";d||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==n||u!==l)&&E_(t,a,n,l),ci=!1;var f=t.memoizedState;a.state=f,sd(t,n,a,i),u=t.memoizedState,s!==n||f!==u||or.current||ci?(typeof c=="function"&&(jy(t,r,c,n),u=t.memoizedState),(s=ci||O_(t,r,s,n,f,u,l))?(d||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=u),a.props=n,a.state=u,a.context=l,n=s):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{a=t.stateNode,DO(e,t),s=t.memoizedProps,l=t.type===t.elementType?s:Br(t.type,s),a.props=l,d=t.pendingProps,f=a.context,u=r.contextType,typeof u=="object"&&u!==null?u=Cr(u):(u=ar(r)?$o:Bt.current,u=os(t,u));var h=r.getDerivedStateFromProps;(c=typeof h=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==d||f!==u)&&E_(t,a,n,u),ci=!1,f=t.memoizedState,a.state=f,sd(t,n,a,i);var b=t.memoizedState;s!==d||f!==b||or.current||ci?(typeof h=="function"&&(jy(t,r,h,n),b=t.memoizedState),(l=ci||O_(t,r,l,n,f,b,u)||!1)?(c||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,b,u),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,b,u)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=b),a.props=n,a.state=b,a.context=u,n=l):(typeof a.componentDidUpdate!="function"||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),n=!1)}return Ay(e,t,r,n,o,i)}function Ay(e,t,r,n,i,o){dE(e,t);var a=(t.flags&128)!==0;if(!n&&!a)return i&&g_(t,r,!1),Kn(e,t,o);n=t.stateNode,j$.current=t;var s=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&a?(t.child=ss(t,e.child,null,o),t.child=ss(t,null,s,o)):qt(e,t,s,o),t.memoizedState=n.state,i&&g_(t,r,!0),t.child}function hE(e){var t=e.stateNode;t.pendingContext?y_(e,t.pendingContext,t.pendingContext!==t.context):t.context&&y_(e,t.context,!1),g0(e,t.containerInfo)}function M_(e,t,r,n,i){return as(),d0(i),t.flags|=256,qt(e,t,r,n),t.child}var Ry={dehydrated:null,treeContext:null,retryLane:0};function Ty(e){return{baseLanes:e,cachePool:null,transitions:null}}function vE(e,t,r){var n=t.pendingProps,i=rt.current,o=!1,a=(t.flags&128)!==0,s;if((s=a)||(s=e!==null&&e.memoizedState===null?!1:(i&2)!==0),s?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Ke(rt,i&1),e===null)return Py(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=n.children,e=n.fallback,o?(n=t.mode,o=t.child,a={mode:"hidden",children:a},!(n&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=Xd(a,n,0,null),e=So(e,n,r,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Ty(r),t.memoizedState=Ry,e):x0(t,a));if(i=e.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return k$(e,t,a,n,s,i,r);if(o){o=n.fallback,a=t.mode,i=e.child,s=i.sibling;var u={mode:"hidden",children:n.children};return!(a&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=u,t.deletions=null):(n=xi(i,u),n.subtreeFlags=i.subtreeFlags&14680064),s!==null?o=xi(s,o):(o=So(o,a,r,null),o.flags|=2),o.return=t,n.return=t,n.sibling=o,t.child=n,n=o,o=t.child,a=e.child.memoizedState,a=a===null?Ty(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=e.childLanes&~r,t.memoizedState=Ry,n}return o=e.child,e=o.sibling,n=xi(o,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function x0(e,t){return t=Xd({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function rf(e,t,r,n){return n!==null&&d0(n),ss(t,e.child,null,r),e=x0(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function k$(e,t,r,n,i,o,a){if(r)return t.flags&256?(t.flags&=-257,n=hm(Error(G(422))),rf(e,t,a,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=n.fallback,i=t.mode,n=Xd({mode:"visible",children:n.children},i,0,null),o=So(o,i,a,null),o.flags|=2,n.return=t,o.return=t,n.sibling=o,t.child=n,t.mode&1&&ss(t,e.child,null,a),t.child.memoizedState=Ty(a),t.memoizedState=Ry,o);if(!(t.mode&1))return rf(e,t,a,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var s=n.dgst;return n=s,o=Error(G(419)),n=hm(o,n,void 0),rf(e,t,a,n)}if(s=(a&e.childLanes)!==0,ir||s){if(n=Ct,n!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|a)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,zn(e,i),Vr(n,e,i,-1))}return R0(),n=hm(Error(G(421))),rf(e,t,a,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=U$.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,dr=Si(i.nextSibling),hr=t,Ze=!0,Wr=null,e!==null&&(Or[Er++]=Tn,Or[Er++]=Mn,Or[Er++]=Ao,Tn=e.id,Mn=e.overflow,Ao=t),t=x0(t,n.children),t.flags|=4096,t)}function I_(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),xy(e.return,t,r)}function vm(e,t,r,n,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=i)}function pE(e,t,r){var n=t.pendingProps,i=n.revealOrder,o=n.tail;if(qt(e,t,n.children,r),n=rt.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&I_(e,r,t);else if(e.tag===19)I_(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Ke(rt,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&ud(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),vm(t,!1,i,r,o);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&ud(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}vm(t,!0,r,null,o);break;case"together":vm(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Pf(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Kn(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),To|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(G(153));if(t.child!==null){for(e=t.child,r=xi(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=xi(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function C$(e,t,r){switch(t.tag){case 3:hE(t),as();break;case 5:WO(t);break;case 1:ar(t.type)&&rd(t);break;case 4:g0(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;Ke(od,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Ke(rt,rt.current&1),t.flags|=128,null):r&t.child.childLanes?vE(e,t,r):(Ke(rt,rt.current&1),e=Kn(e,t,r),e!==null?e.sibling:null);Ke(rt,rt.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return pE(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ke(rt,rt.current),n)break;return null;case 22:case 23:return t.lanes=0,fE(e,t,r)}return Kn(e,t,r)}var mE,My,yE,gE;mE=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};My=function(){};yE=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,po(yn.current);var o=null;switch(r){case"input":i=ry(e,i),n=ry(e,n),o=[];break;case"select":i=it({},i,{value:void 0}),n=it({},n,{value:void 0}),o=[];break;case"textarea":i=oy(e,i),n=oy(e,n),o=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=ed)}sy(r,n);var a;r=null;for(l in i)if(!n.hasOwnProperty(l)&&i.hasOwnProperty(l)&&i[l]!=null)if(l==="style"){var s=i[l];for(a in s)s.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else l!=="dangerouslySetInnerHTML"&&l!=="children"&&l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(Fu.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in n){var u=n[l];if(s=i!=null?i[l]:void 0,n.hasOwnProperty(l)&&u!==s&&(u!=null||s!=null))if(l==="style")if(s){for(a in s)!s.hasOwnProperty(a)||u&&u.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in u)u.hasOwnProperty(a)&&s[a]!==u[a]&&(r||(r={}),r[a]=u[a])}else r||(o||(o=[]),o.push(l,r)),r=u;else l==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,s=s?s.__html:void 0,u!=null&&s!==u&&(o=o||[]).push(l,u)):l==="children"?typeof u!="string"&&typeof u!="number"||(o=o||[]).push(l,""+u):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&(Fu.hasOwnProperty(l)?(u!=null&&l==="onScroll"&&Ve("scroll",e),o||s===u||(o=[])):(o=o||[]).push(l,u))}r&&(o=o||[]).push("style",r);var l=o;(t.updateQueue=l)&&(t.flags|=4)}};gE=function(e,t,r,n){r!==n&&(t.flags|=4)};function cu(e,t){if(!Ze)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Nt(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function $$(e,t,r){var n=t.pendingProps;switch(f0(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Nt(t),null;case 1:return ar(t.type)&&td(),Nt(t),null;case 3:return n=t.stateNode,us(),Qe(or),Qe(Bt),_0(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(ef(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Wr!==null&&(Wy(Wr),Wr=null))),My(e,t),Nt(t),null;case 5:b0(t);var i=po(Xu.current);if(r=t.type,e!==null&&t.stateNode!=null)yE(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(G(166));return Nt(t),null}if(e=po(yn.current),ef(t)){n=t.stateNode,r=t.type;var o=t.memoizedProps;switch(n[dn]=t,n[Yu]=o,e=(t.mode&1)!==0,r){case"dialog":Ve("cancel",n),Ve("close",n);break;case"iframe":case"object":case"embed":Ve("load",n);break;case"video":case"audio":for(i=0;i<gu.length;i++)Ve(gu[i],n);break;case"source":Ve("error",n);break;case"img":case"image":case"link":Ve("error",n),Ve("load",n);break;case"details":Ve("toggle",n);break;case"input":Kb(n,o),Ve("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},Ve("invalid",n);break;case"textarea":qb(n,o),Ve("invalid",n)}sy(r,o),i=null;for(var a in o)if(o.hasOwnProperty(a)){var s=o[a];a==="children"?typeof s=="string"?n.textContent!==s&&(o.suppressHydrationWarning!==!0&&Zc(n.textContent,s,e),i=["children",s]):typeof s=="number"&&n.textContent!==""+s&&(o.suppressHydrationWarning!==!0&&Zc(n.textContent,s,e),i=["children",""+s]):Fu.hasOwnProperty(a)&&s!=null&&a==="onScroll"&&Ve("scroll",n)}switch(r){case"input":Vc(n),Vb(n,o,!0);break;case"textarea":Vc(n),Hb(n);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(n.onclick=ed)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=VS(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=a.createElement(r,{is:n.is}):(e=a.createElement(r),r==="select"&&(a=e,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):e=a.createElementNS(e,r),e[dn]=t,e[Yu]=n,mE(e,t,!1,!1),t.stateNode=e;e:{switch(a=uy(r,n),r){case"dialog":Ve("cancel",e),Ve("close",e),i=n;break;case"iframe":case"object":case"embed":Ve("load",e),i=n;break;case"video":case"audio":for(i=0;i<gu.length;i++)Ve(gu[i],e);i=n;break;case"source":Ve("error",e),i=n;break;case"img":case"image":case"link":Ve("error",e),Ve("load",e),i=n;break;case"details":Ve("toggle",e),i=n;break;case"input":Kb(e,n),i=ry(e,n),Ve("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=it({},n,{value:void 0}),Ve("invalid",e);break;case"textarea":qb(e,n),i=oy(e,n),Ve("invalid",e);break;default:i=n}sy(r,i),s=i;for(o in s)if(s.hasOwnProperty(o)){var u=s[o];o==="style"?QS(e,u):o==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&qS(e,u)):o==="children"?typeof u=="string"?(r!=="textarea"||u!=="")&&Bu(e,u):typeof u=="number"&&Bu(e,""+u):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Fu.hasOwnProperty(o)?u!=null&&o==="onScroll"&&Ve("scroll",e):u!=null&&Gg(e,o,u,a))}switch(r){case"input":Vc(e),Vb(e,n,!1);break;case"textarea":Vc(e),Hb(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Ri(n.value));break;case"select":e.multiple=!!n.multiple,o=n.value,o!=null?Va(e,!!n.multiple,o,!1):n.defaultValue!=null&&Va(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=ed)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Nt(t),null;case 6:if(e&&t.stateNode!=null)gE(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(G(166));if(r=po(Xu.current),po(yn.current),ef(t)){if(n=t.stateNode,r=t.memoizedProps,n[dn]=t,(o=n.nodeValue!==r)&&(e=hr,e!==null))switch(e.tag){case 3:Zc(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Zc(n.nodeValue,r,(e.mode&1)!==0)}o&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[dn]=t,t.stateNode=n}return Nt(t),null;case 13:if(Qe(rt),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ze&&dr!==null&&t.mode&1&&!(t.flags&128))IO(),as(),t.flags|=98560,o=!1;else if(o=ef(t),n!==null&&n.dehydrated!==null){if(e===null){if(!o)throw Error(G(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(G(317));o[dn]=t}else as(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Nt(t),o=!1}else Wr!==null&&(Wy(Wr),Wr=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||rt.current&1?gt===0&&(gt=3):R0())),t.updateQueue!==null&&(t.flags|=4),Nt(t),null);case 4:return us(),My(e,t),e===null&&Hu(t.stateNode.containerInfo),Nt(t),null;case 10:return p0(t.type._context),Nt(t),null;case 17:return ar(t.type)&&td(),Nt(t),null;case 19:if(Qe(rt),o=t.memoizedState,o===null)return Nt(t),null;if(n=(t.flags&128)!==0,a=o.rendering,a===null)if(n)cu(o,!1);else{if(gt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=ud(e),a!==null){for(t.flags|=128,cu(o,!1),n=a.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)o=r,e=n,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,e=a.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Ke(rt,rt.current&1|2),t.child}e=e.sibling}o.tail!==null&&at()>cs&&(t.flags|=128,n=!0,cu(o,!1),t.lanes=4194304)}else{if(!n)if(e=ud(a),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),cu(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!Ze)return Nt(t),null}else 2*at()-o.renderingStartTime>cs&&r!==1073741824&&(t.flags|=128,n=!0,cu(o,!1),t.lanes=4194304);o.isBackwards?(a.sibling=t.child,t.child=a):(r=o.last,r!==null?r.sibling=a:t.child=a,o.last=a)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=at(),t.sibling=null,r=rt.current,Ke(rt,n?r&1|2:r&1),t):(Nt(t),null);case 22:case 23:return A0(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?fr&1073741824&&(Nt(t),t.subtreeFlags&6&&(t.flags|=8192)):Nt(t),null;case 24:return null;case 25:return null}throw Error(G(156,t.tag))}function A$(e,t){switch(f0(t),t.tag){case 1:return ar(t.type)&&td(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return us(),Qe(or),Qe(Bt),_0(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return b0(t),null;case 13:if(Qe(rt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(G(340));as()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Qe(rt),null;case 4:return us(),null;case 10:return p0(t.type._context),null;case 22:case 23:return A0(),null;case 24:return null;default:return null}}var nf=!1,Dt=!1,R$=typeof WeakSet=="function"?WeakSet:Set,oe=null;function Wa(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){ot(e,t,n)}else r.current=null}function Iy(e,t,r){try{r()}catch(n){ot(e,t,n)}}var N_=!1;function T$(e,t){if(gy=Xf,e=SO(),l0(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{r.nodeType,o.nodeType}catch{r=null;break e}var a=0,s=-1,u=-1,l=0,c=0,d=e,f=null;t:for(;;){for(var h;d!==r||i!==0&&d.nodeType!==3||(s=a+i),d!==o||n!==0&&d.nodeType!==3||(u=a+n),d.nodeType===3&&(a+=d.nodeValue.length),(h=d.firstChild)!==null;)f=d,d=h;for(;;){if(d===e)break t;if(f===r&&++l===i&&(s=a),f===o&&++c===n&&(u=a),(h=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=h}r=s===-1||u===-1?null:{start:s,end:u}}else r=null}r=r||{start:0,end:0}}else r=null;for(by={focusedElem:e,selectionRange:r},Xf=!1,oe=t;oe!==null;)if(t=oe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,oe=e;else for(;oe!==null;){t=oe;try{var b=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var _=b.memoizedProps,j=b.memoizedState,g=t.stateNode,p=g.getSnapshotBeforeUpdate(t.elementType===t.type?_:Br(t.type,_),j);g.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var O=t.stateNode.containerInfo;O.nodeType===1?O.textContent="":O.nodeType===9&&O.documentElement&&O.removeChild(O.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(G(163))}}catch(x){ot(t,t.return,x)}if(e=t.sibling,e!==null){e.return=t.return,oe=e;break}oe=t.return}return b=N_,N_=!1,b}function ju(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&Iy(t,r,o)}i=i.next}while(i!==n)}}function Yd(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Ny(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function bE(e){var t=e.alternate;t!==null&&(e.alternate=null,bE(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[dn],delete t[Yu],delete t[Sy],delete t[p$],delete t[m$])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function _E(e){return e.tag===5||e.tag===3||e.tag===4}function D_(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||_E(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Dy(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=ed));else if(n!==4&&(e=e.child,e!==null))for(Dy(e,t,r),e=e.sibling;e!==null;)Dy(e,t,r),e=e.sibling}function Ly(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Ly(e,t,r),e=e.sibling;e!==null;)Ly(e,t,r),e=e.sibling}var At=null,Ur=!1;function si(e,t,r){for(r=r.child;r!==null;)wE(e,t,r),r=r.sibling}function wE(e,t,r){if(mn&&typeof mn.onCommitFiberUnmount=="function")try{mn.onCommitFiberUnmount(Ud,r)}catch{}switch(r.tag){case 5:Dt||Wa(r,t);case 6:var n=At,i=Ur;At=null,si(e,t,r),At=n,Ur=i,At!==null&&(Ur?(e=At,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):At.removeChild(r.stateNode));break;case 18:At!==null&&(Ur?(e=At,r=r.stateNode,e.nodeType===8?sm(e.parentNode,r):e.nodeType===1&&sm(e,r),Ku(e)):sm(At,r.stateNode));break;case 4:n=At,i=Ur,At=r.stateNode.containerInfo,Ur=!0,si(e,t,r),At=n,Ur=i;break;case 0:case 11:case 14:case 15:if(!Dt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var o=i,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&Iy(r,t,a),i=i.next}while(i!==n)}si(e,t,r);break;case 1:if(!Dt&&(Wa(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(s){ot(r,t,s)}si(e,t,r);break;case 21:si(e,t,r);break;case 22:r.mode&1?(Dt=(n=Dt)||r.memoizedState!==null,si(e,t,r),Dt=n):si(e,t,r);break;default:si(e,t,r)}}function L_(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new R$),t.forEach(function(n){var i=W$.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Lr(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var o=e,a=t,s=a;e:for(;s!==null;){switch(s.tag){case 5:At=s.stateNode,Ur=!1;break e;case 3:At=s.stateNode.containerInfo,Ur=!0;break e;case 4:At=s.stateNode.containerInfo,Ur=!0;break e}s=s.return}if(At===null)throw Error(G(160));wE(o,a,i),At=null,Ur=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(l){ot(i,t,l)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)SE(t,e),t=t.sibling}function SE(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Lr(t,e),ln(e),n&4){try{ju(3,e,e.return),Yd(3,e)}catch(_){ot(e,e.return,_)}try{ju(5,e,e.return)}catch(_){ot(e,e.return,_)}}break;case 1:Lr(t,e),ln(e),n&512&&r!==null&&Wa(r,r.return);break;case 5:if(Lr(t,e),ln(e),n&512&&r!==null&&Wa(r,r.return),e.flags&32){var i=e.stateNode;try{Bu(i,"")}catch(_){ot(e,e.return,_)}}if(n&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,a=r!==null?r.memoizedProps:o,s=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{s==="input"&&o.type==="radio"&&o.name!=null&&zS(i,o),uy(s,a);var l=uy(s,o);for(a=0;a<u.length;a+=2){var c=u[a],d=u[a+1];c==="style"?QS(i,d):c==="dangerouslySetInnerHTML"?qS(i,d):c==="children"?Bu(i,d):Gg(i,c,d,l)}switch(s){case"input":ny(i,o);break;case"textarea":KS(i,o);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var h=o.value;h!=null?Va(i,!!o.multiple,h,!1):f!==!!o.multiple&&(o.defaultValue!=null?Va(i,!!o.multiple,o.defaultValue,!0):Va(i,!!o.multiple,o.multiple?[]:"",!1))}i[Yu]=o}catch(_){ot(e,e.return,_)}}break;case 6:if(Lr(t,e),ln(e),n&4){if(e.stateNode===null)throw Error(G(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(_){ot(e,e.return,_)}}break;case 3:if(Lr(t,e),ln(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Ku(t.containerInfo)}catch(_){ot(e,e.return,_)}break;case 4:Lr(t,e),ln(e);break;case 13:Lr(t,e),ln(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(C0=at())),n&4&&L_(e);break;case 22:if(c=r!==null&&r.memoizedState!==null,e.mode&1?(Dt=(l=Dt)||c,Lr(t,e),Dt=l):Lr(t,e),ln(e),n&8192){if(l=e.memoizedState!==null,(e.stateNode.isHidden=l)&&!c&&e.mode&1)for(oe=e,c=e.child;c!==null;){for(d=oe=c;oe!==null;){switch(f=oe,h=f.child,f.tag){case 0:case 11:case 14:case 15:ju(4,f,f.return);break;case 1:Wa(f,f.return);var b=f.stateNode;if(typeof b.componentWillUnmount=="function"){n=f,r=f.return;try{t=n,b.props=t.memoizedProps,b.state=t.memoizedState,b.componentWillUnmount()}catch(_){ot(n,r,_)}}break;case 5:Wa(f,f.return);break;case 22:if(f.memoizedState!==null){B_(d);continue}}h!==null?(h.return=f,oe=h):B_(d)}c=c.sibling}e:for(c=null,d=e;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,l?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(s=d.stateNode,u=d.memoizedProps.style,a=u!=null&&u.hasOwnProperty("display")?u.display:null,s.style.display=HS("display",a))}catch(_){ot(e,e.return,_)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=l?"":d.memoizedProps}catch(_){ot(e,e.return,_)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Lr(t,e),ln(e),n&4&&L_(e);break;case 21:break;default:Lr(t,e),ln(e)}}function ln(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(_E(r)){var n=r;break e}r=r.return}throw Error(G(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Bu(i,""),n.flags&=-33);var o=D_(e);Ly(e,o,i);break;case 3:case 4:var a=n.stateNode.containerInfo,s=D_(e);Dy(e,s,a);break;default:throw Error(G(161))}}catch(u){ot(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function M$(e,t,r){oe=e,OE(e)}function OE(e,t,r){for(var n=(e.mode&1)!==0;oe!==null;){var i=oe,o=i.child;if(i.tag===22&&n){var a=i.memoizedState!==null||nf;if(!a){var s=i.alternate,u=s!==null&&s.memoizedState!==null||Dt;s=nf;var l=Dt;if(nf=a,(Dt=u)&&!l)for(oe=i;oe!==null;)a=oe,u=a.child,a.tag===22&&a.memoizedState!==null?U_(i):u!==null?(u.return=a,oe=u):U_(i);for(;o!==null;)oe=o,OE(o),o=o.sibling;oe=i,nf=s,Dt=l}F_(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,oe=o):F_(e)}}function F_(e){for(;oe!==null;){var t=oe;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Dt||Yd(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Dt)if(r===null)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:Br(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&S_(t,o,n);break;case 3:var a=t.updateQueue;if(a!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}S_(t,a,r)}break;case 5:var s=t.stateNode;if(r===null&&t.flags&4){r=s;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&r.focus();break;case"img":u.src&&(r.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var l=t.alternate;if(l!==null){var c=l.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&Ku(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(G(163))}Dt||t.flags&512&&Ny(t)}catch(f){ot(t,t.return,f)}}if(t===e){oe=null;break}if(r=t.sibling,r!==null){r.return=t.return,oe=r;break}oe=t.return}}function B_(e){for(;oe!==null;){var t=oe;if(t===e){oe=null;break}var r=t.sibling;if(r!==null){r.return=t.return,oe=r;break}oe=t.return}}function U_(e){for(;oe!==null;){var t=oe;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Yd(4,t)}catch(u){ot(t,r,u)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(u){ot(t,i,u)}}var o=t.return;try{Ny(t)}catch(u){ot(t,o,u)}break;case 5:var a=t.return;try{Ny(t)}catch(u){ot(t,a,u)}}}catch(u){ot(t,t.return,u)}if(t===e){oe=null;break}var s=t.sibling;if(s!==null){s.return=t.return,oe=s;break}oe=t.return}}var I$=Math.ceil,fd=Gn.ReactCurrentDispatcher,j0=Gn.ReactCurrentOwner,xr=Gn.ReactCurrentBatchConfig,$e=0,Ct=null,ct=null,Rt=0,fr=0,za=Ui(0),gt=0,tl=null,To=0,Gd=0,k0=0,ku=null,rr=null,C0=0,cs=1/0,Cn=null,dd=!1,Fy=null,Ei=null,of=!1,mi=null,hd=0,Cu=0,By=null,xf=-1,jf=0;function Qt(){return $e&6?at():xf!==-1?xf:xf=at()}function Pi(e){return e.mode&1?$e&2&&Rt!==0?Rt&-Rt:g$.transition!==null?(jf===0&&(jf=aO()),jf):(e=De,e!==0||(e=window.event,e=e===void 0?16:hO(e.type)),e):1}function Vr(e,t,r,n){if(50<Cu)throw Cu=0,By=null,Error(G(185));bl(e,r,n),(!($e&2)||e!==Ct)&&(e===Ct&&(!($e&2)&&(Gd|=r),gt===4&&hi(e,Rt)),sr(e,n),r===1&&$e===0&&!(t.mode&1)&&(cs=at()+500,qd&&Wi()))}function sr(e,t){var r=e.callbackNode;gC(e,t);var n=Gf(e,e===Ct?Rt:0);if(n===0)r!==null&&Gb(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Gb(r),t===1)e.tag===0?y$(W_.bind(null,e)):RO(W_.bind(null,e)),h$(function(){!($e&6)&&Wi()}),r=null;else{switch(sO(n)){case 1:r=t0;break;case 4:r=iO;break;case 16:r=Yf;break;case 536870912:r=oO;break;default:r=Yf}r=AE(r,EE.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function EE(e,t){if(xf=-1,jf=0,$e&6)throw Error(G(327));var r=e.callbackNode;if(Ga()&&e.callbackNode!==r)return null;var n=Gf(e,e===Ct?Rt:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=vd(e,n);else{t=n;var i=$e;$e|=2;var o=xE();(Ct!==e||Rt!==t)&&(Cn=null,cs=at()+500,wo(e,t));do try{L$();break}catch(s){PE(e,s)}while(!0);v0(),fd.current=o,$e=i,ct!==null?t=0:(Ct=null,Rt=0,t=gt)}if(t!==0){if(t===2&&(i=hy(e),i!==0&&(n=i,t=Uy(e,i))),t===1)throw r=tl,wo(e,0),hi(e,n),sr(e,at()),r;if(t===6)hi(e,n);else{if(i=e.current.alternate,!(n&30)&&!N$(i)&&(t=vd(e,n),t===2&&(o=hy(e),o!==0&&(n=o,t=Uy(e,o))),t===1))throw r=tl,wo(e,0),hi(e,n),sr(e,at()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(G(345));case 2:co(e,rr,Cn);break;case 3:if(hi(e,n),(n&130023424)===n&&(t=C0+500-at(),10<t)){if(Gf(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){Qt(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=wy(co.bind(null,e,rr,Cn),t);break}co(e,rr,Cn);break;case 4:if(hi(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var a=31-Kr(n);o=1<<a,a=t[a],a>i&&(i=a),n&=~o}if(n=i,n=at()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*I$(n/1960))-n,10<n){e.timeoutHandle=wy(co.bind(null,e,rr,Cn),n);break}co(e,rr,Cn);break;case 5:co(e,rr,Cn);break;default:throw Error(G(329))}}}return sr(e,at()),e.callbackNode===r?EE.bind(null,e):null}function Uy(e,t){var r=ku;return e.current.memoizedState.isDehydrated&&(wo(e,t).flags|=256),e=vd(e,t),e!==2&&(t=rr,rr=r,t!==null&&Wy(t)),e}function Wy(e){rr===null?rr=e:rr.push.apply(rr,e)}function N$(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],o=i.getSnapshot;i=i.value;try{if(!Hr(o(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function hi(e,t){for(t&=~k0,t&=~Gd,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Kr(t),n=1<<r;e[r]=-1,t&=~n}}function W_(e){if($e&6)throw Error(G(327));Ga();var t=Gf(e,0);if(!(t&1))return sr(e,at()),null;var r=vd(e,t);if(e.tag!==0&&r===2){var n=hy(e);n!==0&&(t=n,r=Uy(e,n))}if(r===1)throw r=tl,wo(e,0),hi(e,t),sr(e,at()),r;if(r===6)throw Error(G(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,co(e,rr,Cn),sr(e,at()),null}function $0(e,t){var r=$e;$e|=1;try{return e(t)}finally{$e=r,$e===0&&(cs=at()+500,qd&&Wi())}}function Mo(e){mi!==null&&mi.tag===0&&!($e&6)&&Ga();var t=$e;$e|=1;var r=xr.transition,n=De;try{if(xr.transition=null,De=1,e)return e()}finally{De=n,xr.transition=r,$e=t,!($e&6)&&Wi()}}function A0(){fr=za.current,Qe(za)}function wo(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,d$(r)),ct!==null)for(r=ct.return;r!==null;){var n=r;switch(f0(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&td();break;case 3:us(),Qe(or),Qe(Bt),_0();break;case 5:b0(n);break;case 4:us();break;case 13:Qe(rt);break;case 19:Qe(rt);break;case 10:p0(n.type._context);break;case 22:case 23:A0()}r=r.return}if(Ct=e,ct=e=xi(e.current,null),Rt=fr=t,gt=0,tl=null,k0=Gd=To=0,rr=ku=null,vo!==null){for(t=0;t<vo.length;t++)if(r=vo[t],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,o=r.pending;if(o!==null){var a=o.next;o.next=i,n.next=a}r.pending=n}vo=null}return e}function PE(e,t){do{var r=ct;try{if(v0(),Of.current=cd,ld){for(var n=nt.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}ld=!1}if(Ro=0,jt=yt=nt=null,xu=!1,Ju=0,j0.current=null,r===null||r.return===null){gt=1,tl=t,ct=null;break}e:{var o=e,a=r.return,s=r,u=t;if(t=Rt,s.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var l=u,c=s,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var h=C_(a);if(h!==null){h.flags&=-257,$_(h,a,s,o,t),h.mode&1&&k_(o,l,t),t=h,u=l;var b=t.updateQueue;if(b===null){var _=new Set;_.add(u),t.updateQueue=_}else b.add(u);break e}else{if(!(t&1)){k_(o,l,t),R0();break e}u=Error(G(426))}}else if(Ze&&s.mode&1){var j=C_(a);if(j!==null){!(j.flags&65536)&&(j.flags|=256),$_(j,a,s,o,t),d0(ls(u,s));break e}}o=u=ls(u,s),gt!==4&&(gt=2),ku===null?ku=[o]:ku.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var g=uE(o,u,t);w_(o,g);break e;case 1:s=u;var p=o.type,O=o.stateNode;if(!(o.flags&128)&&(typeof p.getDerivedStateFromError=="function"||O!==null&&typeof O.componentDidCatch=="function"&&(Ei===null||!Ei.has(O)))){o.flags|=65536,t&=-t,o.lanes|=t;var x=lE(o,s,t);w_(o,x);break e}}o=o.return}while(o!==null)}kE(r)}catch(P){t=P,ct===r&&r!==null&&(ct=r=r.return);continue}break}while(!0)}function xE(){var e=fd.current;return fd.current=cd,e===null?cd:e}function R0(){(gt===0||gt===3||gt===2)&&(gt=4),Ct===null||!(To&268435455)&&!(Gd&268435455)||hi(Ct,Rt)}function vd(e,t){var r=$e;$e|=2;var n=xE();(Ct!==e||Rt!==t)&&(Cn=null,wo(e,t));do try{D$();break}catch(i){PE(e,i)}while(!0);if(v0(),$e=r,fd.current=n,ct!==null)throw Error(G(261));return Ct=null,Rt=0,gt}function D$(){for(;ct!==null;)jE(ct)}function L$(){for(;ct!==null&&!lC();)jE(ct)}function jE(e){var t=$E(e.alternate,e,fr);e.memoizedProps=e.pendingProps,t===null?kE(e):ct=t,j0.current=null}function kE(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=A$(r,t),r!==null){r.flags&=32767,ct=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{gt=6,ct=null;return}}else if(r=$$(r,t,fr),r!==null){ct=r;return}if(t=t.sibling,t!==null){ct=t;return}ct=t=e}while(t!==null);gt===0&&(gt=5)}function co(e,t,r){var n=De,i=xr.transition;try{xr.transition=null,De=1,F$(e,t,r,n)}finally{xr.transition=i,De=n}return null}function F$(e,t,r,n){do Ga();while(mi!==null);if($e&6)throw Error(G(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(G(177));e.callbackNode=null,e.callbackPriority=0;var o=r.lanes|r.childLanes;if(bC(e,o),e===Ct&&(ct=Ct=null,Rt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||of||(of=!0,AE(Yf,function(){return Ga(),null})),o=(r.flags&15990)!==0,r.subtreeFlags&15990||o){o=xr.transition,xr.transition=null;var a=De;De=1;var s=$e;$e|=4,j0.current=null,T$(e,r),SE(r,e),o$(by),Xf=!!gy,by=gy=null,e.current=r,M$(r),cC(),$e=s,De=a,xr.transition=o}else e.current=r;if(of&&(of=!1,mi=e,hd=i),o=e.pendingLanes,o===0&&(Ei=null),hC(r.stateNode),sr(e,at()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(dd)throw dd=!1,e=Fy,Fy=null,e;return hd&1&&e.tag!==0&&Ga(),o=e.pendingLanes,o&1?e===By?Cu++:(Cu=0,By=e):Cu=0,Wi(),null}function Ga(){if(mi!==null){var e=sO(hd),t=xr.transition,r=De;try{if(xr.transition=null,De=16>e?16:e,mi===null)var n=!1;else{if(e=mi,mi=null,hd=0,$e&6)throw Error(G(331));var i=$e;for($e|=4,oe=e.current;oe!==null;){var o=oe,a=o.child;if(oe.flags&16){var s=o.deletions;if(s!==null){for(var u=0;u<s.length;u++){var l=s[u];for(oe=l;oe!==null;){var c=oe;switch(c.tag){case 0:case 11:case 15:ju(8,c,o)}var d=c.child;if(d!==null)d.return=c,oe=d;else for(;oe!==null;){c=oe;var f=c.sibling,h=c.return;if(bE(c),c===l){oe=null;break}if(f!==null){f.return=h,oe=f;break}oe=h}}}var b=o.alternate;if(b!==null){var _=b.child;if(_!==null){b.child=null;do{var j=_.sibling;_.sibling=null,_=j}while(_!==null)}}oe=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,oe=a;else e:for(;oe!==null;){if(o=oe,o.flags&2048)switch(o.tag){case 0:case 11:case 15:ju(9,o,o.return)}var g=o.sibling;if(g!==null){g.return=o.return,oe=g;break e}oe=o.return}}var p=e.current;for(oe=p;oe!==null;){a=oe;var O=a.child;if(a.subtreeFlags&2064&&O!==null)O.return=a,oe=O;else e:for(a=p;oe!==null;){if(s=oe,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:Yd(9,s)}}catch(P){ot(s,s.return,P)}if(s===a){oe=null;break e}var x=s.sibling;if(x!==null){x.return=s.return,oe=x;break e}oe=s.return}}if($e=i,Wi(),mn&&typeof mn.onPostCommitFiberRoot=="function")try{mn.onPostCommitFiberRoot(Ud,e)}catch{}n=!0}return n}finally{De=r,xr.transition=t}}return!1}function z_(e,t,r){t=ls(r,t),t=uE(e,t,1),e=Oi(e,t,1),t=Qt(),e!==null&&(bl(e,1,t),sr(e,t))}function ot(e,t,r){if(e.tag===3)z_(e,e,r);else for(;t!==null;){if(t.tag===3){z_(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Ei===null||!Ei.has(n))){e=ls(r,e),e=lE(t,e,1),t=Oi(t,e,1),e=Qt(),t!==null&&(bl(t,1,e),sr(t,e));break}}t=t.return}}function B$(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Qt(),e.pingedLanes|=e.suspendedLanes&r,Ct===e&&(Rt&r)===r&&(gt===4||gt===3&&(Rt&130023424)===Rt&&500>at()-C0?wo(e,0):k0|=r),sr(e,t)}function CE(e,t){t===0&&(e.mode&1?(t=Qc,Qc<<=1,!(Qc&130023424)&&(Qc=4194304)):t=1);var r=Qt();e=zn(e,t),e!==null&&(bl(e,t,r),sr(e,r))}function U$(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),CE(e,r)}function W$(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(G(314))}n!==null&&n.delete(t),CE(e,r)}var $E;$E=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||or.current)ir=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return ir=!1,C$(e,t,r);ir=!!(e.flags&131072)}else ir=!1,Ze&&t.flags&1048576&&TO(t,id,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Pf(e,t),e=t.pendingProps;var i=os(t,Bt.current);Ya(t,r),i=S0(null,t,n,e,i,r);var o=O0();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ar(n)?(o=!0,rd(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,y0(t),i.updater=Hd,t.stateNode=i,i._reactInternals=t,ky(t,n,e,r),t=Ay(null,t,n,!0,o,r)):(t.tag=0,Ze&&o&&c0(t),qt(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Pf(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=K$(n),e=Br(n,e),i){case 0:t=$y(null,t,n,e,r);break e;case 1:t=T_(null,t,n,e,r);break e;case 11:t=A_(null,t,n,e,r);break e;case 14:t=R_(null,t,n,Br(n.type,e),r);break e}throw Error(G(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Br(n,i),$y(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Br(n,i),T_(e,t,n,i,r);case 3:e:{if(hE(t),e===null)throw Error(G(387));n=t.pendingProps,o=t.memoizedState,i=o.element,DO(e,t),sd(t,n,null,r);var a=t.memoizedState;if(n=a.element,o.isDehydrated)if(o={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=ls(Error(G(423)),t),t=M_(e,t,n,r,i);break e}else if(n!==i){i=ls(Error(G(424)),t),t=M_(e,t,n,r,i);break e}else for(dr=Si(t.stateNode.containerInfo.firstChild),hr=t,Ze=!0,Wr=null,r=UO(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(as(),n===i){t=Kn(e,t,r);break e}qt(e,t,n,r)}t=t.child}return t;case 5:return WO(t),e===null&&Py(t),n=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,a=i.children,_y(n,i)?a=null:o!==null&&_y(n,o)&&(t.flags|=32),dE(e,t),qt(e,t,a,r),t.child;case 6:return e===null&&Py(t),null;case 13:return vE(e,t,r);case 4:return g0(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=ss(t,null,n,r):qt(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Br(n,i),A_(e,t,n,i,r);case 7:return qt(e,t,t.pendingProps,r),t.child;case 8:return qt(e,t,t.pendingProps.children,r),t.child;case 12:return qt(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,o=t.memoizedProps,a=i.value,Ke(od,n._currentValue),n._currentValue=a,o!==null)if(Hr(o.value,a)){if(o.children===i.children&&!or.current){t=Kn(e,t,r);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var s=o.dependencies;if(s!==null){a=o.child;for(var u=s.firstContext;u!==null;){if(u.context===n){if(o.tag===1){u=Nn(-1,r&-r),u.tag=2;var l=o.updateQueue;if(l!==null){l=l.shared;var c=l.pending;c===null?u.next=u:(u.next=c.next,c.next=u),l.pending=u}}o.lanes|=r,u=o.alternate,u!==null&&(u.lanes|=r),xy(o.return,r,t),s.lanes|=r;break}u=u.next}}else if(o.tag===10)a=o.type===t.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(G(341));a.lanes|=r,s=a.alternate,s!==null&&(s.lanes|=r),xy(a,r,t),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===t){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}qt(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,Ya(t,r),i=Cr(i),n=n(i),t.flags|=1,qt(e,t,n,r),t.child;case 14:return n=t.type,i=Br(n,t.pendingProps),i=Br(n.type,i),R_(e,t,n,i,r);case 15:return cE(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Br(n,i),Pf(e,t),t.tag=1,ar(n)?(e=!0,rd(t)):e=!1,Ya(t,r),FO(t,n,i),ky(t,n,i,r),Ay(null,t,n,!0,e,r);case 19:return pE(e,t,r);case 22:return fE(e,t,r)}throw Error(G(156,t.tag))};function AE(e,t){return nO(e,t)}function z$(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pr(e,t,r,n){return new z$(e,t,r,n)}function T0(e){return e=e.prototype,!(!e||!e.isReactComponent)}function K$(e){if(typeof e=="function")return T0(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Jg)return 11;if(e===Zg)return 14}return 2}function xi(e,t){var r=e.alternate;return r===null?(r=Pr(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function kf(e,t,r,n,i,o){var a=2;if(n=e,typeof e=="function")T0(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case Ta:return So(r.children,i,o,t);case Xg:a=8,i|=8;break;case Jm:return e=Pr(12,r,t,i|2),e.elementType=Jm,e.lanes=o,e;case Zm:return e=Pr(13,r,t,i),e.elementType=Zm,e.lanes=o,e;case ey:return e=Pr(19,r,t,i),e.elementType=ey,e.lanes=o,e;case BS:return Xd(r,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case LS:a=10;break e;case FS:a=9;break e;case Jg:a=11;break e;case Zg:a=14;break e;case li:a=16,n=null;break e}throw Error(G(130,e==null?e:typeof e,""))}return t=Pr(a,r,t,i),t.elementType=e,t.type=n,t.lanes=o,t}function So(e,t,r,n){return e=Pr(7,e,n,t),e.lanes=r,e}function Xd(e,t,r,n){return e=Pr(22,e,n,t),e.elementType=BS,e.lanes=r,e.stateNode={isHidden:!1},e}function pm(e,t,r){return e=Pr(6,e,null,t),e.lanes=r,e}function mm(e,t,r){return t=Pr(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function V$(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Gp(0),this.expirationTimes=Gp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gp(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function M0(e,t,r,n,i,o,a,s,u){return e=new V$(e,t,r,s,u),t===1?(t=1,o===!0&&(t|=8)):t=0,o=Pr(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},y0(o),e}function q$(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ra,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function RE(e){if(!e)return Ti;e=e._reactInternals;e:{if(Go(e)!==e||e.tag!==1)throw Error(G(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ar(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(G(171))}if(e.tag===1){var r=e.type;if(ar(r))return AO(e,r,t)}return t}function TE(e,t,r,n,i,o,a,s,u){return e=M0(r,n,!0,e,i,o,a,s,u),e.context=RE(null),r=e.current,n=Qt(),i=Pi(r),o=Nn(n,i),o.callback=t??null,Oi(r,o,i),e.current.lanes=i,bl(e,i,n),sr(e,n),e}function Jd(e,t,r,n){var i=t.current,o=Qt(),a=Pi(i);return r=RE(r),t.context===null?t.context=r:t.pendingContext=r,t=Nn(o,a),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Oi(i,t,a),e!==null&&(Vr(e,i,a,o),Sf(e,i,a)),a}function pd(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function K_(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function I0(e,t){K_(e,t),(e=e.alternate)&&K_(e,t)}function H$(){return null}var ME=typeof reportError=="function"?reportError:function(e){console.error(e)};function N0(e){this._internalRoot=e}Zd.prototype.render=N0.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(G(409));Jd(e,t,null,null)};Zd.prototype.unmount=N0.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Mo(function(){Jd(null,e,null,null)}),t[Wn]=null}};function Zd(e){this._internalRoot=e}Zd.prototype.unstable_scheduleHydration=function(e){if(e){var t=cO();e={blockedOn:null,target:e,priority:t};for(var r=0;r<di.length&&t!==0&&t<di[r].priority;r++);di.splice(r,0,e),r===0&&dO(e)}};function D0(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function eh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function V_(){}function Q$(e,t,r,n,i){if(i){if(typeof n=="function"){var o=n;n=function(){var l=pd(a);o.call(l)}}var a=TE(t,n,e,0,null,!1,!1,"",V_);return e._reactRootContainer=a,e[Wn]=a.current,Hu(e.nodeType===8?e.parentNode:e),Mo(),a}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var s=n;n=function(){var l=pd(u);s.call(l)}}var u=M0(e,0,!1,null,null,!1,!1,"",V_);return e._reactRootContainer=u,e[Wn]=u.current,Hu(e.nodeType===8?e.parentNode:e),Mo(function(){Jd(t,u,r,n)}),u}function th(e,t,r,n,i){var o=r._reactRootContainer;if(o){var a=o;if(typeof i=="function"){var s=i;i=function(){var u=pd(a);s.call(u)}}Jd(t,a,e,i)}else a=Q$(r,t,e,i,n);return pd(a)}uO=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=yu(t.pendingLanes);r!==0&&(r0(t,r|1),sr(t,at()),!($e&6)&&(cs=at()+500,Wi()))}break;case 13:Mo(function(){var n=zn(e,1);if(n!==null){var i=Qt();Vr(n,e,1,i)}}),I0(e,1)}};n0=function(e){if(e.tag===13){var t=zn(e,134217728);if(t!==null){var r=Qt();Vr(t,e,134217728,r)}I0(e,134217728)}};lO=function(e){if(e.tag===13){var t=Pi(e),r=zn(e,t);if(r!==null){var n=Qt();Vr(r,e,t,n)}I0(e,t)}};cO=function(){return De};fO=function(e,t){var r=De;try{return De=e,t()}finally{De=r}};cy=function(e,t,r){switch(t){case"input":if(ny(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=Vd(n);if(!i)throw Error(G(90));WS(n),ny(n,i)}}}break;case"textarea":KS(e,r);break;case"select":t=r.value,t!=null&&Va(e,!!r.multiple,t,!1)}};XS=$0;JS=Mo;var Y$={usingClientEntryPoint:!1,Events:[wl,Da,Vd,YS,GS,$0]},fu={findFiberByHostInstance:ho,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},G$={bundleType:fu.bundleType,version:fu.version,rendererPackageName:fu.rendererPackageName,rendererConfig:fu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Gn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=tO(e),e===null?null:e.stateNode},findFiberByHostInstance:fu.findFiberByHostInstance||H$,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var af=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!af.isDisabled&&af.supportsFiber)try{Ud=af.inject(G$),mn=af}catch{}}mr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Y$;mr.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!D0(t))throw Error(G(200));return q$(e,t,null,r)};mr.createRoot=function(e,t){if(!D0(e))throw Error(G(299));var r=!1,n="",i=ME;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=M0(e,1,!1,null,null,r,!1,n,i),e[Wn]=t.current,Hu(e.nodeType===8?e.parentNode:e),new N0(t)};mr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(G(188)):(e=Object.keys(e).join(","),Error(G(268,e)));return e=tO(t),e=e===null?null:e.stateNode,e};mr.flushSync=function(e){return Mo(e)};mr.hydrate=function(e,t,r){if(!eh(t))throw Error(G(200));return th(null,e,t,!0,r)};mr.hydrateRoot=function(e,t,r){if(!D0(e))throw Error(G(405));var n=r!=null&&r.hydratedSources||null,i=!1,o="",a=ME;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),t=TE(t,null,e,1,r??null,i,!1,o,a),e[Wn]=t.current,Hu(e),n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new Zd(t)};mr.render=function(e,t,r){if(!eh(t))throw Error(G(200));return th(null,e,t,!1,r)};mr.unmountComponentAtNode=function(e){if(!eh(e))throw Error(G(40));return e._reactRootContainer?(Mo(function(){th(null,null,e,!1,function(){e._reactRootContainer=null,e[Wn]=null})}),!0):!1};mr.unstable_batchedUpdates=$0;mr.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!eh(r))throw Error(G(200));if(e==null||e._reactInternals===void 0)throw Error(G(38));return th(e,t,r,!1,n)};mr.version="18.2.0-next-9e3b772b8-20220608";function IE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(IE)}catch(e){console.error(e)}}IE(),TS.exports=mr;var X$=TS.exports,q_=X$;Gm.createRoot=q_.createRoot,Gm.hydrateRoot=q_.hydrateRoot;var Le={},fs={};Object.defineProperty(fs,"__esModule",{value:!0});var J$=H,Z$=(0,J$.createContext)(null);fs.default=Z$;var md={},eA=M&&M.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),tA=M&&M.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),rA=M&&M.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&eA(t,e,r);return tA(t,e),t},nA=M&&M.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(md,"__esModule",{value:!0});var H_=rA(H),iA=nA(fs),oA=function(e){var t=e.db,r=e.children,n=(0,H_.useMemo)(function(){return{db:t}},[t]);return H_.default.createElement(iA.default.Provider,{value:n},r)};md.default=oA;var rl={},nl={},aA=M&&M.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(nl,"__esModule",{value:!0});var sA=H,uA=aA(fs);function lA(){var e=(0,sA.useContext)(uA.default).db;return e}nl.default=lA;var cA=M&&M.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(rl,"__esModule",{value:!0});var Q_=H,fA=cA(nl);function dA(e){var t=(0,Q_.useState)(null),r=t[0],n=t[1],i=(0,fA.default)();return(0,Q_.useEffect)(function(){if(i){var o=i[e];if(o&&n(o),i.newCollections$){var a=i.newCollections$.subscribe(function(s){s[e]&&n(s[e])});return function(){a.unsubscribe()}}}},[i,e]),r}rl.default=dA;var yd={},il={},NE={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.isRxQuery=e.isObject=e.getCancelablePromise=void 0;var t=function(i){var o=!1,a=new Promise(function(s,u){i.then(function(l){o||s(l)},function(l){o||u(l)})});return[a,function(){o=!0}]};e.getCancelablePromise=t;var r=function(i){return typeof i=="object"&&i!==null};e.isObject=r;var n=function(i){return(0,e.isObject)(i)&&"skip"in i&&"limit"in i&&"$"in i&&(0,e.isObject)(i.$)&&"subscribe"in i.$&&typeof i.$.subscribe=="function"};e.isRxQuery=n})(NE);var tr=M&&M.__assign||function(){return tr=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},tr.apply(this,arguments)};Object.defineProperty(il,"__esModule",{value:!0});var oo=H,Y_=NE,nr;(function(e){e[e.Reset=0]="Reset",e[e.FetchMore=1]="FetchMore",e[e.FetchPage=2]="FetchPage",e[e.FetchSuccess=3]="FetchSuccess",e[e.CountPages=4]="CountPages",e[e.QueryChanged=5]="QueryChanged"})(nr||(nr={}));var hA=function(e,t){switch(t.type){case nr.Reset:return tr(tr({},e),{result:[],isFetching:!0,page:1});case nr.FetchMore:return tr(tr({},e),{isFetching:!0,page:e.page+1});case nr.FetchPage:return tr(tr({},e),{isFetching:!0,page:t.page});case nr.CountPages:return tr(tr({},e),{pageCount:t.pageCount});case nr.FetchSuccess:return tr(tr({},e),{result:t.docs,isFetching:!1,isExhausted:t.pageSize?t.pagination==="Infinite"?t.docs.length<e.page*t.pageSize:!1:!0});case nr.QueryChanged:return tr(tr({},e),{isFetching:!0});default:return e}},vA=function(e,t){if(!e)return[];if(e instanceof Map)return Array.from(e,function(n){var i=n[1];return t?i.toJSON():i});var r=Array.isArray(e)?e:[e];return t?r.map(function(n){return n.toJSON()}):r},pA=function(e){var t=Array.isArray(e)?e:[e];return t.length};function mA(e,t){t===void 0&&(t={});var r=t.pageSize,n=t.pagination,i=n===void 0?"Infinite":n,o=t.json,a={result:[],page:r?1:void 0,isFetching:!0,isExhausted:!1,pageCount:0},s=(0,oo.useReducer)(hA,a),u=s[0],l=s[1],c=(0,oo.useCallback)(function(b){!r||i!=="Traditional"||b<1||b>u.pageCount||l({type:nr.FetchPage,page:b})},[r,i,u.pageCount]),d=(0,oo.useCallback)(function(){!r||i!=="Infinite"||u.isFetching||u.isExhausted||l({type:nr.FetchMore})},[r,i,u.isFetching,u.isExhausted]),f=(0,oo.useCallback)(function(){r&&u.page!==1&&l({type:nr.Reset})},[r,u.page]),h=(0,oo.useCallback)(function(b){var _=b;r&&i==="Traditional"&&(_=_.skip((u.page-1)*r).limit(r)),r&&i==="Infinite"&&(_=_.limit(u.page*r)),l({type:nr.QueryChanged});var j=_.$.subscribe(function(g){var p=vA(g,o);l({type:nr.FetchSuccess,docs:p,pagination:i,pageSize:r})});return function(){j.unsubscribe()}},[o,r,i,u.page]);return(0,oo.useEffect)(function(){if(e&&(0,Y_.isRxQuery)(e))return h(e)},[e,h]),(0,oo.useEffect)(function(){if(!(!e||!r||i!=="Traditional"||"then"in e)&&(0,Y_.isRxQuery)(e)){var b=e.$.subscribe(function(_){var j=pA(_);l({type:nr.CountPages,pageCount:Math.ceil(j/r)})});return function(){b.unsubscribe()}}},[e,r,i]),{result:u.result,isFetching:u.isFetching,isExhausted:u.isExhausted,pageCount:u.pageCount,currentPage:u.page,fetchPage:c,fetchMore:d,resetList:f}}il.default=mA;var Ka=M&&M.__assign||function(){return Ka=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Ka.apply(this,arguments)},DE=M&&M.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(yd,"__esModule",{value:!0});var yA=H,gA=DE(rl),G_=DE(il);function bA(e,t,r){r===void 0&&(r={});var n=(0,gA.default)(e),i=(0,yA.useMemo)(function(){return!n||typeof t!="function"?null:t(n)},[n,t]);return r.json?(0,G_.default)(i,Ka(Ka({},r),{json:!0})):(0,G_.default)(i,Ka(Ka({},r),{json:!1}))}yd.default=bA;var rh={},kt={},Ie={},xs={},Re={};Object.defineProperty(Re,"__esModule",{value:!0});Re.isFunction=void 0;function _A(e){return typeof e=="function"}Re.isFunction=_A;var bt={},Ol={},bn={};Object.defineProperty(bn,"__esModule",{value:!0});bn.createErrorClass=void 0;function wA(e){var t=function(n){Error.call(n),n.stack=new Error().stack},r=e(t);return r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,r}bn.createErrorClass=wA;Object.defineProperty(Ol,"__esModule",{value:!0});Ol.UnsubscriptionError=void 0;var SA=bn;Ol.UnsubscriptionError=SA.createErrorClass(function(e){return function(r){e(this),this.message=r?r.length+` errors occurred during unsubscription:
`+r.map(function(n,i){return i+1+") "+n.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=r}});var Jr={};Object.defineProperty(Jr,"__esModule",{value:!0});Jr.arrRemove=void 0;function OA(e,t){if(e){var r=e.indexOf(t);0<=r&&e.splice(r,1)}}Jr.arrRemove=OA;var X_=M&&M.__values||function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},J_=M&&M.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return o},Z_=M&&M.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(bt,"__esModule",{value:!0});bt.isSubscription=bt.EMPTY_SUBSCRIPTION=bt.Subscription=void 0;var $u=Re,ym=Ol,e1=Jr,L0=function(){function e(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var t,r,n,i,o;if(!this.closed){this.closed=!0;var a=this._parentage;if(a)if(this._parentage=null,Array.isArray(a))try{for(var s=X_(a),u=s.next();!u.done;u=s.next()){var l=u.value;l.remove(this)}}catch(_){t={error:_}}finally{try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(t)throw t.error}}else a.remove(this);var c=this.initialTeardown;if($u.isFunction(c))try{c()}catch(_){o=_ instanceof ym.UnsubscriptionError?_.errors:[_]}var d=this._finalizers;if(d){this._finalizers=null;try{for(var f=X_(d),h=f.next();!h.done;h=f.next()){var b=h.value;try{t1(b)}catch(_){o=o??[],_ instanceof ym.UnsubscriptionError?o=Z_(Z_([],J_(o)),J_(_.errors)):o.push(_)}}}catch(_){n={error:_}}finally{try{h&&!h.done&&(i=f.return)&&i.call(f)}finally{if(n)throw n.error}}}if(o)throw new ym.UnsubscriptionError(o)}},e.prototype.add=function(t){var r;if(t&&t!==this)if(this.closed)t1(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(r=this._finalizers)!==null&&r!==void 0?r:[]).push(t)}},e.prototype._hasParent=function(t){var r=this._parentage;return r===t||Array.isArray(r)&&r.includes(t)},e.prototype._addParent=function(t){var r=this._parentage;this._parentage=Array.isArray(r)?(r.push(t),r):r?[r,t]:t},e.prototype._removeParent=function(t){var r=this._parentage;r===t?this._parentage=null:Array.isArray(r)&&e1.arrRemove(r,t)},e.prototype.remove=function(t){var r=this._finalizers;r&&e1.arrRemove(r,t),t instanceof e&&t._removeParent(this)},e.EMPTY=function(){var t=new e;return t.closed=!0,t}(),e}();bt.Subscription=L0;bt.EMPTY_SUBSCRIPTION=L0.EMPTY;function EA(e){return e instanceof L0||e&&"closed"in e&&$u.isFunction(e.remove)&&$u.isFunction(e.add)&&$u.isFunction(e.unsubscribe)}bt.isSubscription=EA;function t1(e){$u.isFunction(e)?e():e.unsubscribe()}var zi={};Object.defineProperty(zi,"__esModule",{value:!0});zi.config=void 0;zi.config={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var El={},F0={};(function(e){var t=M&&M.__read||function(n,i){var o=typeof Symbol=="function"&&n[Symbol.iterator];if(!o)return n;var a=o.call(n),s,u=[],l;try{for(;(i===void 0||i-- >0)&&!(s=a.next()).done;)u.push(s.value)}catch(c){l={error:c}}finally{try{s&&!s.done&&(o=a.return)&&o.call(a)}finally{if(l)throw l.error}}return u},r=M&&M.__spreadArray||function(n,i){for(var o=0,a=i.length,s=n.length;o<a;o++,s++)n[s]=i[o];return n};Object.defineProperty(e,"__esModule",{value:!0}),e.timeoutProvider=void 0,e.timeoutProvider={setTimeout:function(n,i){for(var o=[],a=2;a<arguments.length;a++)o[a-2]=arguments[a];var s=e.timeoutProvider.delegate;return s!=null&&s.setTimeout?s.setTimeout.apply(s,r([n,i],t(o))):setTimeout.apply(void 0,r([n,i],t(o)))},clearTimeout:function(n){var i=e.timeoutProvider.delegate;return((i==null?void 0:i.clearTimeout)||clearTimeout)(n)},delegate:void 0}})(F0);Object.defineProperty(El,"__esModule",{value:!0});El.reportUnhandledError=void 0;var PA=zi,xA=F0;function jA(e){xA.timeoutProvider.setTimeout(function(){var t=PA.config.onUnhandledError;if(t)t(e);else throw e})}El.reportUnhandledError=jA;var St={};Object.defineProperty(St,"__esModule",{value:!0});St.noop=void 0;function kA(){}St.noop=kA;var vn={};Object.defineProperty(vn,"__esModule",{value:!0});vn.createNotification=vn.nextNotification=vn.errorNotification=vn.COMPLETE_NOTIFICATION=void 0;vn.COMPLETE_NOTIFICATION=function(){return nh("C",void 0,void 0)}();function CA(e){return nh("E",void 0,e)}vn.errorNotification=CA;function $A(e){return nh("N",e,void 0)}vn.nextNotification=$A;function nh(e,t,r){return{kind:e,value:t,error:r}}vn.createNotification=nh;var Mi={};Object.defineProperty(Mi,"__esModule",{value:!0});Mi.captureError=Mi.errorContext=void 0;var LE=zi,mo=null;function AA(e){if(LE.config.useDeprecatedSynchronousErrorHandling){var t=!mo;if(t&&(mo={errorThrown:!1,error:null}),e(),t){var r=mo,n=r.errorThrown,i=r.error;if(mo=null,n)throw i}}else e()}Mi.errorContext=AA;function RA(e){LE.config.useDeprecatedSynchronousErrorHandling&&mo&&(mo.errorThrown=!0,mo.error=e)}Mi.captureError=RA;(function(e){var t=M&&M.__extends||function(){var p=function(O,x){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(P,C){P.__proto__=C}||function(P,C){for(var A in C)Object.prototype.hasOwnProperty.call(C,A)&&(P[A]=C[A])},p(O,x)};return function(O,x){if(typeof x!="function"&&x!==null)throw new TypeError("Class extends value "+String(x)+" is not a constructor or null");p(O,x);function P(){this.constructor=O}O.prototype=x===null?Object.create(x):(P.prototype=x.prototype,new P)}}();Object.defineProperty(e,"__esModule",{value:!0}),e.EMPTY_OBSERVER=e.SafeSubscriber=e.Subscriber=void 0;var r=Re,n=bt,i=zi,o=El,a=St,s=vn,u=F0,l=Mi,c=function(p){t(O,p);function O(x){var P=p.call(this)||this;return P.isStopped=!1,x?(P.destination=x,n.isSubscription(x)&&x.add(P)):P.destination=e.EMPTY_OBSERVER,P}return O.create=function(x,P,C){return new b(x,P,C)},O.prototype.next=function(x){this.isStopped?g(s.nextNotification(x),this):this._next(x)},O.prototype.error=function(x){this.isStopped?g(s.errorNotification(x),this):(this.isStopped=!0,this._error(x))},O.prototype.complete=function(){this.isStopped?g(s.COMPLETE_NOTIFICATION,this):(this.isStopped=!0,this._complete())},O.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,p.prototype.unsubscribe.call(this),this.destination=null)},O.prototype._next=function(x){this.destination.next(x)},O.prototype._error=function(x){try{this.destination.error(x)}finally{this.unsubscribe()}},O.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},O}(n.Subscription);e.Subscriber=c;var d=Function.prototype.bind;function f(p,O){return d.call(p,O)}var h=function(){function p(O){this.partialObserver=O}return p.prototype.next=function(O){var x=this.partialObserver;if(x.next)try{x.next(O)}catch(P){_(P)}},p.prototype.error=function(O){var x=this.partialObserver;if(x.error)try{x.error(O)}catch(P){_(P)}else _(O)},p.prototype.complete=function(){var O=this.partialObserver;if(O.complete)try{O.complete()}catch(x){_(x)}},p}(),b=function(p){t(O,p);function O(x,P,C){var A=p.call(this)||this,D;if(r.isFunction(x)||!x)D={next:x??void 0,error:P??void 0,complete:C??void 0};else{var B;A&&i.config.useDeprecatedNextContext?(B=Object.create(x),B.unsubscribe=function(){return A.unsubscribe()},D={next:x.next&&f(x.next,B),error:x.error&&f(x.error,B),complete:x.complete&&f(x.complete,B)}):D=x}return A.destination=new h(D),A}return O}(c);e.SafeSubscriber=b;function _(p){i.config.useDeprecatedSynchronousErrorHandling?l.captureError(p):o.reportUnhandledError(p)}function j(p){throw p}function g(p,O){var x=i.config.onStoppedNotification;x&&u.timeoutProvider.setTimeout(function(){return x(p,O)})}e.EMPTY_OBSERVER={closed:!0,next:a.noop,error:j,complete:a.noop}})(xs);var Xo={};Object.defineProperty(Xo,"__esModule",{value:!0});Xo.observable=void 0;Xo.observable=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();var Vn={},Ot={};Object.defineProperty(Ot,"__esModule",{value:!0});Ot.identity=void 0;function TA(e){return e}Ot.identity=TA;Object.defineProperty(Vn,"__esModule",{value:!0});Vn.pipeFromArray=Vn.pipe=void 0;var MA=Ot;function IA(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return FE(e)}Vn.pipe=IA;function FE(e){return e.length===0?MA.identity:e.length===1?e[0]:function(r){return e.reduce(function(n,i){return i(n)},r)}}Vn.pipeFromArray=FE;Object.defineProperty(Ie,"__esModule",{value:!0});Ie.Observable=void 0;var zy=xs,NA=bt,DA=Xo,LA=Vn,FA=zi,gm=Re,BA=Mi,UA=function(){function e(t){t&&(this._subscribe=t)}return e.prototype.lift=function(t){var r=new e;return r.source=this,r.operator=t,r},e.prototype.subscribe=function(t,r,n){var i=this,o=zA(t)?t:new zy.SafeSubscriber(t,r,n);return BA.errorContext(function(){var a=i,s=a.operator,u=a.source;o.add(s?s.call(o,u):u?i._subscribe(o):i._trySubscribe(o))}),o},e.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(r){t.error(r)}},e.prototype.forEach=function(t,r){var n=this;return r=r1(r),new r(function(i,o){var a=new zy.SafeSubscriber({next:function(s){try{t(s)}catch(u){o(u),a.unsubscribe()}},error:o,complete:i});n.subscribe(a)})},e.prototype._subscribe=function(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)},e.prototype[DA.observable]=function(){return this},e.prototype.pipe=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return LA.pipeFromArray(t)(this)},e.prototype.toPromise=function(t){var r=this;return t=r1(t),new t(function(n,i){var o;r.subscribe(function(a){return o=a},function(a){return i(a)},function(){return n(o)})})},e.create=function(t){return new e(t)},e}();Ie.Observable=UA;function r1(e){var t;return(t=e??FA.config.Promise)!==null&&t!==void 0?t:Promise}function WA(e){return e&&gm.isFunction(e.next)&&gm.isFunction(e.error)&&gm.isFunction(e.complete)}function zA(e){return e&&e instanceof zy.Subscriber||WA(e)&&NA.isSubscription(e)}var Jo={},Pl={},re={};Object.defineProperty(re,"__esModule",{value:!0});re.operate=re.hasLift=void 0;var KA=Re;function BE(e){return KA.isFunction(e==null?void 0:e.lift)}re.hasLift=BE;function VA(e){return function(t){if(BE(t))return t.lift(function(r){try{return e(r,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}re.operate=VA;var ue={},qA=M&&M.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(ue,"__esModule",{value:!0});ue.OperatorSubscriber=ue.createOperatorSubscriber=void 0;var HA=xs;function QA(e,t,r,n,i){return new UE(e,t,r,n,i)}ue.createOperatorSubscriber=QA;var UE=function(e){qA(t,e);function t(r,n,i,o,a,s){var u=e.call(this,r)||this;return u.onFinalize=a,u.shouldUnsubscribe=s,u._next=n?function(l){try{n(l)}catch(c){r.error(c)}}:e.prototype._next,u._error=o?function(l){try{o(l)}catch(c){r.error(c)}finally{this.unsubscribe()}}:e.prototype._error,u._complete=i?function(){try{i()}catch(l){r.error(l)}finally{this.unsubscribe()}}:e.prototype._complete,u}return t.prototype.unsubscribe=function(){var r;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var n=this.closed;e.prototype.unsubscribe.call(this),!n&&((r=this.onFinalize)===null||r===void 0||r.call(this))}},t}(HA.Subscriber);ue.OperatorSubscriber=UE;Object.defineProperty(Pl,"__esModule",{value:!0});Pl.refCount=void 0;var YA=re,GA=ue;function XA(){return YA.operate(function(e,t){var r=null;e._refCount++;var n=GA.createOperatorSubscriber(t,void 0,void 0,void 0,function(){if(!e||e._refCount<=0||0<--e._refCount){r=null;return}var i=e._connection,o=r;r=null,i&&(!o||i===o)&&i.unsubscribe(),t.unsubscribe()});e.subscribe(n),n.closed||(r=e.connect())})}Pl.refCount=XA;var JA=M&&M.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(Jo,"__esModule",{value:!0});Jo.ConnectableObservable=void 0;var ZA=Ie,n1=bt,eR=Pl,tR=ue,rR=re,nR=function(e){JA(t,e);function t(r,n){var i=e.call(this)||this;return i.source=r,i.subjectFactory=n,i._subject=null,i._refCount=0,i._connection=null,rR.hasLift(r)&&(i.lift=r.lift),i}return t.prototype._subscribe=function(r){return this.getSubject().subscribe(r)},t.prototype.getSubject=function(){var r=this._subject;return(!r||r.isStopped)&&(this._subject=this.subjectFactory()),this._subject},t.prototype._teardown=function(){this._refCount=0;var r=this._connection;this._subject=this._connection=null,r==null||r.unsubscribe()},t.prototype.connect=function(){var r=this,n=this._connection;if(!n){n=this._connection=new n1.Subscription;var i=this.getSubject();n.add(this.source.subscribe(tR.createOperatorSubscriber(i,void 0,function(){r._teardown(),i.complete()},function(o){r._teardown(),i.error(o)},function(){return r._teardown()}))),n.closed&&(this._connection=null,n=n1.Subscription.EMPTY)}return n},t.prototype.refCount=function(){return eR.refCount()(this)},t}(ZA.Observable);Jo.ConnectableObservable=nR;var ih={},WE={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.performanceTimestampProvider=void 0,e.performanceTimestampProvider={now:function(){return(e.performanceTimestampProvider.delegate||performance).now()},delegate:void 0}})(WE);var B0={};(function(e){var t=M&&M.__read||function(i,o){var a=typeof Symbol=="function"&&i[Symbol.iterator];if(!a)return i;var s=a.call(i),u,l=[],c;try{for(;(o===void 0||o-- >0)&&!(u=s.next()).done;)l.push(u.value)}catch(d){c={error:d}}finally{try{u&&!u.done&&(a=s.return)&&a.call(s)}finally{if(c)throw c.error}}return l},r=M&&M.__spreadArray||function(i,o){for(var a=0,s=o.length,u=i.length;a<s;a++,u++)i[u]=o[a];return i};Object.defineProperty(e,"__esModule",{value:!0}),e.animationFrameProvider=void 0;var n=bt;e.animationFrameProvider={schedule:function(i){var o=requestAnimationFrame,a=cancelAnimationFrame,s=e.animationFrameProvider.delegate;s&&(o=s.requestAnimationFrame,a=s.cancelAnimationFrame);var u=o(function(l){a=void 0,i(l)});return new n.Subscription(function(){return a==null?void 0:a(u)})},requestAnimationFrame:function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];var a=e.animationFrameProvider.delegate;return((a==null?void 0:a.requestAnimationFrame)||requestAnimationFrame).apply(void 0,r([],t(i)))},cancelAnimationFrame:function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];var a=e.animationFrameProvider.delegate;return((a==null?void 0:a.cancelAnimationFrame)||cancelAnimationFrame).apply(void 0,r([],t(i)))},delegate:void 0}})(B0);Object.defineProperty(ih,"__esModule",{value:!0});ih.animationFrames=void 0;var iR=Ie,oR=WE,i1=B0;function aR(e){return e?zE(e):sR}ih.animationFrames=aR;function zE(e){return new iR.Observable(function(t){var r=e||oR.performanceTimestampProvider,n=r.now(),i=0,o=function(){t.closed||(i=i1.animationFrameProvider.requestAnimationFrame(function(a){i=0;var s=r.now();t.next({timestamp:e?s:a,elapsed:s-n}),o()}))};return o(),function(){i&&i1.animationFrameProvider.cancelAnimationFrame(i)}})}var sR=zE(),lt={},xl={};Object.defineProperty(xl,"__esModule",{value:!0});xl.ObjectUnsubscribedError=void 0;var uR=bn;xl.ObjectUnsubscribedError=uR.createErrorClass(function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}});var KE=M&&M.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),lR=M&&M.__values||function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(lt,"__esModule",{value:!0});lt.AnonymousSubject=lt.Subject=void 0;var o1=Ie,Ky=bt,cR=xl,fR=Jr,bm=Mi,VE=function(e){KE(t,e);function t(){var r=e.call(this)||this;return r.closed=!1,r.currentObservers=null,r.observers=[],r.isStopped=!1,r.hasError=!1,r.thrownError=null,r}return t.prototype.lift=function(r){var n=new Vy(this,this);return n.operator=r,n},t.prototype._throwIfClosed=function(){if(this.closed)throw new cR.ObjectUnsubscribedError},t.prototype.next=function(r){var n=this;bm.errorContext(function(){var i,o;if(n._throwIfClosed(),!n.isStopped){n.currentObservers||(n.currentObservers=Array.from(n.observers));try{for(var a=lR(n.currentObservers),s=a.next();!s.done;s=a.next()){var u=s.value;u.next(r)}}catch(l){i={error:l}}finally{try{s&&!s.done&&(o=a.return)&&o.call(a)}finally{if(i)throw i.error}}}})},t.prototype.error=function(r){var n=this;bm.errorContext(function(){if(n._throwIfClosed(),!n.isStopped){n.hasError=n.isStopped=!0,n.thrownError=r;for(var i=n.observers;i.length;)i.shift().error(r)}})},t.prototype.complete=function(){var r=this;bm.errorContext(function(){if(r._throwIfClosed(),!r.isStopped){r.isStopped=!0;for(var n=r.observers;n.length;)n.shift().complete()}})},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var r;return((r=this.observers)===null||r===void 0?void 0:r.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(r){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,r)},t.prototype._subscribe=function(r){return this._throwIfClosed(),this._checkFinalizedStatuses(r),this._innerSubscribe(r)},t.prototype._innerSubscribe=function(r){var n=this,i=this,o=i.hasError,a=i.isStopped,s=i.observers;return o||a?Ky.EMPTY_SUBSCRIPTION:(this.currentObservers=null,s.push(r),new Ky.Subscription(function(){n.currentObservers=null,fR.arrRemove(s,r)}))},t.prototype._checkFinalizedStatuses=function(r){var n=this,i=n.hasError,o=n.thrownError,a=n.isStopped;i?r.error(o):a&&r.complete()},t.prototype.asObservable=function(){var r=new o1.Observable;return r.source=this,r},t.create=function(r,n){return new Vy(r,n)},t}(o1.Observable);lt.Subject=VE;var Vy=function(e){KE(t,e);function t(r,n){var i=e.call(this)||this;return i.destination=r,i.source=n,i}return t.prototype.next=function(r){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.next)===null||i===void 0||i.call(n,r)},t.prototype.error=function(r){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.error)===null||i===void 0||i.call(n,r)},t.prototype.complete=function(){var r,n;(n=(r=this.destination)===null||r===void 0?void 0:r.complete)===null||n===void 0||n.call(r)},t.prototype._subscribe=function(r){var n,i;return(i=(n=this.source)===null||n===void 0?void 0:n.subscribe(r))!==null&&i!==void 0?i:Ky.EMPTY_SUBSCRIPTION},t}(VE);lt.AnonymousSubject=Vy;var jl={},dR=M&&M.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(jl,"__esModule",{value:!0});jl.BehaviorSubject=void 0;var hR=lt,vR=function(e){dR(t,e);function t(r){var n=e.call(this)||this;return n._value=r,n}return Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),t.prototype._subscribe=function(r){var n=e.prototype._subscribe.call(this,r);return!n.closed&&r.next(this._value),n},t.prototype.getValue=function(){var r=this,n=r.hasError,i=r.thrownError,o=r._value;if(n)throw i;return this._throwIfClosed(),o},t.prototype.next=function(r){e.prototype.next.call(this,this._value=r)},t}(hR.Subject);jl.BehaviorSubject=vR;var js={},oh={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.dateTimestampProvider=void 0,e.dateTimestampProvider={now:function(){return(e.dateTimestampProvider.delegate||Date).now()},delegate:void 0}})(oh);var pR=M&&M.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(js,"__esModule",{value:!0});js.ReplaySubject=void 0;var mR=lt,yR=oh,gR=function(e){pR(t,e);function t(r,n,i){r===void 0&&(r=1/0),n===void 0&&(n=1/0),i===void 0&&(i=yR.dateTimestampProvider);var o=e.call(this)||this;return o._bufferSize=r,o._windowTime=n,o._timestampProvider=i,o._buffer=[],o._infiniteTimeWindow=!0,o._infiniteTimeWindow=n===1/0,o._bufferSize=Math.max(1,r),o._windowTime=Math.max(1,n),o}return t.prototype.next=function(r){var n=this,i=n.isStopped,o=n._buffer,a=n._infiniteTimeWindow,s=n._timestampProvider,u=n._windowTime;i||(o.push(r),!a&&o.push(s.now()+u)),this._trimBuffer(),e.prototype.next.call(this,r)},t.prototype._subscribe=function(r){this._throwIfClosed(),this._trimBuffer();for(var n=this._innerSubscribe(r),i=this,o=i._infiniteTimeWindow,a=i._buffer,s=a.slice(),u=0;u<s.length&&!r.closed;u+=o?1:2)r.next(s[u]);return this._checkFinalizedStatuses(r),n},t.prototype._trimBuffer=function(){var r=this,n=r._bufferSize,i=r._timestampProvider,o=r._buffer,a=r._infiniteTimeWindow,s=(a?1:2)*n;if(n<1/0&&s<o.length&&o.splice(0,o.length-s),!a){for(var u=i.now(),l=0,c=1;c<o.length&&o[c]<=u;c+=2)l=c;l&&o.splice(0,l+1)}},t}(mR.Subject);js.ReplaySubject=gR;var ks={},bR=M&&M.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(ks,"__esModule",{value:!0});ks.AsyncSubject=void 0;var _R=lt,wR=function(e){bR(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r._value=null,r._hasValue=!1,r._isComplete=!1,r}return t.prototype._checkFinalizedStatuses=function(r){var n=this,i=n.hasError,o=n._hasValue,a=n._value,s=n.thrownError,u=n.isStopped,l=n._isComplete;i?r.error(s):(u||l)&&(o&&r.next(a),r.complete())},t.prototype.next=function(r){this.isStopped||(this._value=r,this._hasValue=!0)},t.prototype.complete=function(){var r=this,n=r._hasValue,i=r._value,o=r._isComplete;o||(this._isComplete=!0,n&&e.prototype.next.call(this,i),e.prototype.complete.call(this))},t}(_R.Subject);ks.AsyncSubject=wR;var qE={},ah={},Ki={},sh={},SR=M&&M.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(sh,"__esModule",{value:!0});sh.Action=void 0;var OR=bt,ER=function(e){SR(t,e);function t(r,n){return e.call(this)||this}return t.prototype.schedule=function(r,n){return this},t}(OR.Subscription);sh.Action=ER;var HE={};(function(e){var t=M&&M.__read||function(n,i){var o=typeof Symbol=="function"&&n[Symbol.iterator];if(!o)return n;var a=o.call(n),s,u=[],l;try{for(;(i===void 0||i-- >0)&&!(s=a.next()).done;)u.push(s.value)}catch(c){l={error:c}}finally{try{s&&!s.done&&(o=a.return)&&o.call(a)}finally{if(l)throw l.error}}return u},r=M&&M.__spreadArray||function(n,i){for(var o=0,a=i.length,s=n.length;o<a;o++,s++)n[s]=i[o];return n};Object.defineProperty(e,"__esModule",{value:!0}),e.intervalProvider=void 0,e.intervalProvider={setInterval:function(n,i){for(var o=[],a=2;a<arguments.length;a++)o[a-2]=arguments[a];var s=e.intervalProvider.delegate;return s!=null&&s.setInterval?s.setInterval.apply(s,r([n,i],t(o))):setInterval.apply(void 0,r([n,i],t(o)))},clearInterval:function(n){var i=e.intervalProvider.delegate;return((i==null?void 0:i.clearInterval)||clearInterval)(n)},delegate:void 0}})(HE);var PR=M&&M.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(Ki,"__esModule",{value:!0});Ki.AsyncAction=void 0;var xR=sh,a1=HE,jR=Jr,kR=function(e){PR(t,e);function t(r,n){var i=e.call(this,r,n)||this;return i.scheduler=r,i.work=n,i.pending=!1,i}return t.prototype.schedule=function(r,n){var i;if(n===void 0&&(n=0),this.closed)return this;this.state=r;var o=this.id,a=this.scheduler;return o!=null&&(this.id=this.recycleAsyncId(a,o,n)),this.pending=!0,this.delay=n,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(a,this.id,n),this},t.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),a1.intervalProvider.setInterval(r.flush.bind(r,this),i)},t.prototype.recycleAsyncId=function(r,n,i){if(i===void 0&&(i=0),i!=null&&this.delay===i&&this.pending===!1)return n;n!=null&&a1.intervalProvider.clearInterval(n)},t.prototype.execute=function(r,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var i=this._execute(r,n);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(r,n){var i=!1,o;try{this.work(r)}catch(a){i=!0,o=a||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),o},t.prototype.unsubscribe=function(){if(!this.closed){var r=this,n=r.id,i=r.scheduler,o=i.actions;this.work=this.state=this.scheduler=null,this.pending=!1,jR.arrRemove(o,this),n!=null&&(this.id=this.recycleAsyncId(i,n,null)),this.delay=null,e.prototype.unsubscribe.call(this)}},t}(xR.Action);Ki.AsyncAction=kR;var QE={},ds={};Object.defineProperty(ds,"__esModule",{value:!0});ds.TestTools=ds.Immediate=void 0;var CR=1,_m,gd={};function s1(e){return e in gd?(delete gd[e],!0):!1}ds.Immediate={setImmediate:function(e){var t=CR++;return gd[t]=!0,_m||(_m=Promise.resolve()),_m.then(function(){return s1(t)&&e()}),t},clearImmediate:function(e){s1(e)}};ds.TestTools={pending:function(){return Object.keys(gd).length}};(function(e){var t=M&&M.__read||function(a,s){var u=typeof Symbol=="function"&&a[Symbol.iterator];if(!u)return a;var l=u.call(a),c,d=[],f;try{for(;(s===void 0||s-- >0)&&!(c=l.next()).done;)d.push(c.value)}catch(h){f={error:h}}finally{try{c&&!c.done&&(u=l.return)&&u.call(l)}finally{if(f)throw f.error}}return d},r=M&&M.__spreadArray||function(a,s){for(var u=0,l=s.length,c=a.length;u<l;u++,c++)a[c]=s[u];return a};Object.defineProperty(e,"__esModule",{value:!0}),e.immediateProvider=void 0;var n=ds,i=n.Immediate.setImmediate,o=n.Immediate.clearImmediate;e.immediateProvider={setImmediate:function(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];var u=e.immediateProvider.delegate;return((u==null?void 0:u.setImmediate)||i).apply(void 0,r([],t(a)))},clearImmediate:function(a){var s=e.immediateProvider.delegate;return((s==null?void 0:s.clearImmediate)||o)(a)},delegate:void 0}})(QE);var $R=M&&M.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(ah,"__esModule",{value:!0});ah.AsapAction=void 0;var AR=Ki,u1=QE,RR=function(e){$R(t,e);function t(r,n){var i=e.call(this,r,n)||this;return i.scheduler=r,i.work=n,i}return t.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),i!==null&&i>0?e.prototype.requestAsyncId.call(this,r,n,i):(r.actions.push(this),r._scheduled||(r._scheduled=u1.immediateProvider.setImmediate(r.flush.bind(r,void 0))))},t.prototype.recycleAsyncId=function(r,n,i){var o;if(i===void 0&&(i=0),i!=null?i>0:this.delay>0)return e.prototype.recycleAsyncId.call(this,r,n,i);var a=r.actions;n!=null&&((o=a[a.length-1])===null||o===void 0?void 0:o.id)!==n&&(u1.immediateProvider.clearImmediate(n),r._scheduled===n&&(r._scheduled=void 0))},t}(AR.AsyncAction);ah.AsapAction=RR;var uh={},Vi={},kl={};Object.defineProperty(kl,"__esModule",{value:!0});kl.Scheduler=void 0;var TR=oh,MR=function(){function e(t,r){r===void 0&&(r=e.now),this.schedulerActionCtor=t,this.now=r}return e.prototype.schedule=function(t,r,n){return r===void 0&&(r=0),new this.schedulerActionCtor(this,t).schedule(n,r)},e.now=TR.dateTimestampProvider.now,e}();kl.Scheduler=MR;var IR=M&&M.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(Vi,"__esModule",{value:!0});Vi.AsyncScheduler=void 0;var l1=kl,NR=function(e){IR(t,e);function t(r,n){n===void 0&&(n=l1.Scheduler.now);var i=e.call(this,r,n)||this;return i.actions=[],i._active=!1,i}return t.prototype.flush=function(r){var n=this.actions;if(this._active){n.push(r);return}var i;this._active=!0;do if(i=r.execute(r.state,r.delay))break;while(r=n.shift());if(this._active=!1,i){for(;r=n.shift();)r.unsubscribe();throw i}},t}(l1.Scheduler);Vi.AsyncScheduler=NR;var DR=M&&M.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(uh,"__esModule",{value:!0});uh.AsapScheduler=void 0;var LR=Vi,FR=function(e){DR(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.flush=function(r){this._active=!0;var n=this._scheduled;this._scheduled=void 0;var i=this.actions,o;r=r||i.shift();do if(o=r.execute(r.state,r.delay))break;while((r=i[0])&&r.id===n&&i.shift());if(this._active=!1,o){for(;(r=i[0])&&r.id===n&&i.shift();)r.unsubscribe();throw o}},t}(LR.AsyncScheduler);uh.AsapScheduler=FR;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.asap=e.asapScheduler=void 0;var t=ah,r=uh;e.asapScheduler=new r.AsapScheduler(t.AsapAction),e.asap=e.asapScheduler})(qE);var ur={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.async=e.asyncScheduler=void 0;var t=Ki,r=Vi;e.asyncScheduler=new r.AsyncScheduler(t.AsyncAction),e.async=e.asyncScheduler})(ur);var YE={},lh={},BR=M&&M.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(lh,"__esModule",{value:!0});lh.QueueAction=void 0;var UR=Ki,WR=function(e){BR(t,e);function t(r,n){var i=e.call(this,r,n)||this;return i.scheduler=r,i.work=n,i}return t.prototype.schedule=function(r,n){return n===void 0&&(n=0),n>0?e.prototype.schedule.call(this,r,n):(this.delay=n,this.state=r,this.scheduler.flush(this),this)},t.prototype.execute=function(r,n){return n>0||this.closed?e.prototype.execute.call(this,r,n):this._execute(r,n)},t.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),i!=null&&i>0||i==null&&this.delay>0?e.prototype.requestAsyncId.call(this,r,n,i):(r.flush(this),0)},t}(UR.AsyncAction);lh.QueueAction=WR;var ch={},zR=M&&M.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(ch,"__esModule",{value:!0});ch.QueueScheduler=void 0;var KR=Vi,VR=function(e){zR(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t}(KR.AsyncScheduler);ch.QueueScheduler=VR;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.queue=e.queueScheduler=void 0;var t=lh,r=ch;e.queueScheduler=new r.QueueScheduler(t.QueueAction),e.queue=e.queueScheduler})(YE);var GE={},fh={},qR=M&&M.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(fh,"__esModule",{value:!0});fh.AnimationFrameAction=void 0;var HR=Ki,c1=B0,QR=function(e){qR(t,e);function t(r,n){var i=e.call(this,r,n)||this;return i.scheduler=r,i.work=n,i}return t.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),i!==null&&i>0?e.prototype.requestAsyncId.call(this,r,n,i):(r.actions.push(this),r._scheduled||(r._scheduled=c1.animationFrameProvider.requestAnimationFrame(function(){return r.flush(void 0)})))},t.prototype.recycleAsyncId=function(r,n,i){var o;if(i===void 0&&(i=0),i!=null?i>0:this.delay>0)return e.prototype.recycleAsyncId.call(this,r,n,i);var a=r.actions;n!=null&&((o=a[a.length-1])===null||o===void 0?void 0:o.id)!==n&&(c1.animationFrameProvider.cancelAnimationFrame(n),r._scheduled=void 0)},t}(HR.AsyncAction);fh.AnimationFrameAction=QR;var dh={},YR=M&&M.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(dh,"__esModule",{value:!0});dh.AnimationFrameScheduler=void 0;var GR=Vi,XR=function(e){YR(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.flush=function(r){this._active=!0;var n=this._scheduled;this._scheduled=void 0;var i=this.actions,o;r=r||i.shift();do if(o=r.execute(r.state,r.delay))break;while((r=i[0])&&r.id===n&&i.shift());if(this._active=!1,o){for(;(r=i[0])&&r.id===n&&i.shift();)r.unsubscribe();throw o}},t}(GR.AsyncScheduler);dh.AnimationFrameScheduler=XR;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.animationFrame=e.animationFrameScheduler=void 0;var t=fh,r=dh;e.animationFrameScheduler=new r.AnimationFrameScheduler(t.AnimationFrameAction),e.animationFrame=e.animationFrameScheduler})(GE);var hs={},XE=M&&M.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(hs,"__esModule",{value:!0});hs.VirtualAction=hs.VirtualTimeScheduler=void 0;var JR=Ki,ZR=bt,eT=Vi,tT=function(e){XE(t,e);function t(r,n){r===void 0&&(r=JE),n===void 0&&(n=1/0);var i=e.call(this,r,function(){return i.frame})||this;return i.maxFrames=n,i.frame=0,i.index=-1,i}return t.prototype.flush=function(){for(var r=this,n=r.actions,i=r.maxFrames,o,a;(a=n[0])&&a.delay<=i&&(n.shift(),this.frame=a.delay,!(o=a.execute(a.state,a.delay))););if(o){for(;a=n.shift();)a.unsubscribe();throw o}},t.frameTimeFactor=10,t}(eT.AsyncScheduler);hs.VirtualTimeScheduler=tT;var JE=function(e){XE(t,e);function t(r,n,i){i===void 0&&(i=r.index+=1);var o=e.call(this,r,n)||this;return o.scheduler=r,o.work=n,o.index=i,o.active=!0,o.index=r.index=i,o}return t.prototype.schedule=function(r,n){if(n===void 0&&(n=0),Number.isFinite(n)){if(!this.id)return e.prototype.schedule.call(this,r,n);this.active=!1;var i=new t(this.scheduler,this.work);return this.add(i),i.schedule(r,n)}else return ZR.Subscription.EMPTY},t.prototype.requestAsyncId=function(r,n,i){i===void 0&&(i=0),this.delay=r.frame+i;var o=r.actions;return o.push(this),o.sort(t.sortActions),1},t.prototype.recycleAsyncId=function(r,n,i){},t.prototype._execute=function(r,n){if(this.active===!0)return e.prototype._execute.call(this,r,n)},t.sortActions=function(r,n){return r.delay===n.delay?r.index===n.index?0:r.index>n.index?1:-1:r.delay>n.delay?1:-1},t}(JR.AsyncAction);hs.VirtualAction=JE;var hh={},Qr={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.empty=e.EMPTY=void 0;var t=Ie;e.EMPTY=new t.Observable(function(i){return i.complete()});function r(i){return i?n(i):e.EMPTY}e.empty=r;function n(i){return new t.Observable(function(o){return i.schedule(function(){return o.complete()})})}})(Qr);var Cs={},dt={},Zo={};Object.defineProperty(Zo,"__esModule",{value:!0});Zo.isScheduler=void 0;var rT=Re;function nT(e){return e&&rT.isFunction(e.schedule)}Zo.isScheduler=nT;Object.defineProperty(dt,"__esModule",{value:!0});dt.popNumber=dt.popScheduler=dt.popResultSelector=void 0;var iT=Re,oT=Zo;function U0(e){return e[e.length-1]}function aT(e){return iT.isFunction(U0(e))?e.pop():void 0}dt.popResultSelector=aT;function sT(e){return oT.isScheduler(U0(e))?e.pop():void 0}dt.popScheduler=sT;function uT(e,t){return typeof U0(e)=="number"?e.pop():t}dt.popNumber=uT;var Zr={},Cl={},vh={},de={},$s={};Object.defineProperty($s,"__esModule",{value:!0});$s.isArrayLike=void 0;$s.isArrayLike=function(e){return e&&typeof e.length=="number"&&typeof e!="function"};var $l={};Object.defineProperty($l,"__esModule",{value:!0});$l.isPromise=void 0;var lT=Re;function cT(e){return lT.isFunction(e==null?void 0:e.then)}$l.isPromise=cT;var Al={};Object.defineProperty(Al,"__esModule",{value:!0});Al.isInteropObservable=void 0;var fT=Xo,dT=Re;function hT(e){return dT.isFunction(e[fT.observable])}Al.isInteropObservable=hT;var Rl={};Object.defineProperty(Rl,"__esModule",{value:!0});Rl.isAsyncIterable=void 0;var vT=Re;function pT(e){return Symbol.asyncIterator&&vT.isFunction(e==null?void 0:e[Symbol.asyncIterator])}Rl.isAsyncIterable=pT;var Tl={};Object.defineProperty(Tl,"__esModule",{value:!0});Tl.createInvalidObservableTypeError=void 0;function mT(e){return new TypeError("You provided "+(e!==null&&typeof e=="object"?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}Tl.createInvalidObservableTypeError=mT;var Ml={},Io={};Object.defineProperty(Io,"__esModule",{value:!0});Io.iterator=Io.getSymbolIterator=void 0;function ZE(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}Io.getSymbolIterator=ZE;Io.iterator=ZE();Object.defineProperty(Ml,"__esModule",{value:!0});Ml.isIterable=void 0;var yT=Io,gT=Re;function bT(e){return gT.isFunction(e==null?void 0:e[yT.iterator])}Ml.isIterable=bT;var Ii={},_T=M&&M.__generator||function(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(l){return function(c){return u([l,c])}}function u(l){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=l[0]&2?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[l[0]&2,o.value]),l[0]){case 0:case 1:o=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){r.label=l[1];break}if(l[0]===6&&r.label<o[1]){r.label=o[1],o=l;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(l);break}o[2]&&r.ops.pop(),r.trys.pop();continue}l=t.call(e,r)}catch(c){l=[6,c],i=0}finally{n=o=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},Xa=M&&M.__await||function(e){return this instanceof Xa?(this.v=e,this):new Xa(e)},wT=M&&M.__asyncGenerator||function(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),i,o=[];return i={},a("next"),a("throw"),a("return"),i[Symbol.asyncIterator]=function(){return this},i;function a(f){n[f]&&(i[f]=function(h){return new Promise(function(b,_){o.push([f,h,b,_])>1||s(f,h)})})}function s(f,h){try{u(n[f](h))}catch(b){d(o[0][3],b)}}function u(f){f.value instanceof Xa?Promise.resolve(f.value.v).then(l,c):d(o[0][2],f)}function l(f){s("next",f)}function c(f){s("throw",f)}function d(f,h){f(h),o.shift(),o.length&&s(o[0][0],o[0][1])}};Object.defineProperty(Ii,"__esModule",{value:!0});Ii.isReadableStreamLike=Ii.readableStreamLikeToAsyncGenerator=void 0;var ST=Re;function OT(e){return wT(this,arguments,function(){var r,n,i,o;return _T(this,function(a){switch(a.label){case 0:r=e.getReader(),a.label=1;case 1:a.trys.push([1,,9,10]),a.label=2;case 2:return[4,Xa(r.read())];case 3:return n=a.sent(),i=n.value,o=n.done,o?[4,Xa(void 0)]:[3,5];case 4:return[2,a.sent()];case 5:return[4,Xa(i)];case 6:return[4,a.sent()];case 7:return a.sent(),[3,2];case 8:return[3,10];case 9:return r.releaseLock(),[7];case 10:return[2]}})})}Ii.readableStreamLikeToAsyncGenerator=OT;function ET(e){return ST.isFunction(e==null?void 0:e.getReader)}Ii.isReadableStreamLike=ET;var PT=M&&M.__awaiter||function(e,t,r,n){function i(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function s(c){try{l(n.next(c))}catch(d){a(d)}}function u(c){try{l(n.throw(c))}catch(d){a(d)}}function l(c){c.done?o(c.value):i(c.value).then(s,u)}l((n=n.apply(e,t||[])).next())})},xT=M&&M.__generator||function(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(l){return function(c){return u([l,c])}}function u(l){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=l[0]&2?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[l[0]&2,o.value]),l[0]){case 0:case 1:o=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){r.label=l[1];break}if(l[0]===6&&r.label<o[1]){r.label=o[1],o=l;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(l);break}o[2]&&r.ops.pop(),r.trys.pop();continue}l=t.call(e,r)}catch(c){l=[6,c],i=0}finally{n=o=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},jT=M&&M.__asyncValues||function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof qy=="function"?qy(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(o){r[o]=e[o]&&function(a){return new Promise(function(s,u){a=e[o](a),i(s,u,a.done,a.value)})}}function i(o,a,s,u){Promise.resolve(u).then(function(l){o({value:l,done:s})},a)}},qy=M&&M.__values||function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(de,"__esModule",{value:!0});de.fromReadableStreamLike=de.fromAsyncIterable=de.fromIterable=de.fromPromise=de.fromArrayLike=de.fromInteropObservable=de.innerFrom=void 0;var kT=$s,CT=$l,As=Ie,$T=Al,AT=Rl,RT=Tl,TT=Ml,eP=Ii,MT=Re,IT=El,NT=Xo;function DT(e){if(e instanceof As.Observable)return e;if(e!=null){if($T.isInteropObservable(e))return tP(e);if(kT.isArrayLike(e))return rP(e);if(CT.isPromise(e))return nP(e);if(AT.isAsyncIterable(e))return W0(e);if(TT.isIterable(e))return iP(e);if(eP.isReadableStreamLike(e))return oP(e)}throw RT.createInvalidObservableTypeError(e)}de.innerFrom=DT;function tP(e){return new As.Observable(function(t){var r=e[NT.observable]();if(MT.isFunction(r.subscribe))return r.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}de.fromInteropObservable=tP;function rP(e){return new As.Observable(function(t){for(var r=0;r<e.length&&!t.closed;r++)t.next(e[r]);t.complete()})}de.fromArrayLike=rP;function nP(e){return new As.Observable(function(t){e.then(function(r){t.closed||(t.next(r),t.complete())},function(r){return t.error(r)}).then(null,IT.reportUnhandledError)})}de.fromPromise=nP;function iP(e){return new As.Observable(function(t){var r,n;try{for(var i=qy(e),o=i.next();!o.done;o=i.next()){var a=o.value;if(t.next(a),t.closed)return}}catch(s){r={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}t.complete()})}de.fromIterable=iP;function W0(e){return new As.Observable(function(t){LT(e,t).catch(function(r){return t.error(r)})})}de.fromAsyncIterable=W0;function oP(e){return W0(eP.readableStreamLikeToAsyncGenerator(e))}de.fromReadableStreamLike=oP;function LT(e,t){var r,n,i,o;return PT(this,void 0,void 0,function(){var a,s;return xT(this,function(u){switch(u.label){case 0:u.trys.push([0,5,6,11]),r=jT(e),u.label=1;case 1:return[4,r.next()];case 2:if(n=u.sent(),!!n.done)return[3,4];if(a=n.value,t.next(a),t.closed)return[2];u.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return s=u.sent(),i={error:s},[3,11];case 6:return u.trys.push([6,,9,10]),n&&!n.done&&(o=r.return)?[4,o.call(r)]:[3,8];case 7:u.sent(),u.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}})})}var ea={},en={};Object.defineProperty(en,"__esModule",{value:!0});en.executeSchedule=void 0;function FT(e,t,r,n,i){n===void 0&&(n=0),i===void 0&&(i=!1);var o=t.schedule(function(){r(),i?e.add(this.schedule(null,n)):this.unsubscribe()},n);if(e.add(o),!i)return o}en.executeSchedule=FT;Object.defineProperty(ea,"__esModule",{value:!0});ea.observeOn=void 0;var wm=en,BT=re,UT=ue;function WT(e,t){return t===void 0&&(t=0),BT.operate(function(r,n){r.subscribe(UT.createOperatorSubscriber(n,function(i){return wm.executeSchedule(n,e,function(){return n.next(i)},t)},function(){return wm.executeSchedule(n,e,function(){return n.complete()},t)},function(i){return wm.executeSchedule(n,e,function(){return n.error(i)},t)}))})}ea.observeOn=WT;var ta={};Object.defineProperty(ta,"__esModule",{value:!0});ta.subscribeOn=void 0;var zT=re;function KT(e,t){return t===void 0&&(t=0),zT.operate(function(r,n){n.add(e.schedule(function(){return r.subscribe(n)},t))})}ta.subscribeOn=KT;Object.defineProperty(vh,"__esModule",{value:!0});vh.scheduleObservable=void 0;var VT=de,qT=ea,HT=ta;function QT(e,t){return VT.innerFrom(e).pipe(HT.subscribeOn(t),qT.observeOn(t))}vh.scheduleObservable=QT;var ph={};Object.defineProperty(ph,"__esModule",{value:!0});ph.schedulePromise=void 0;var YT=de,GT=ea,XT=ta;function JT(e,t){return YT.innerFrom(e).pipe(XT.subscribeOn(t),GT.observeOn(t))}ph.schedulePromise=JT;var mh={};Object.defineProperty(mh,"__esModule",{value:!0});mh.scheduleArray=void 0;var ZT=Ie;function eM(e,t){return new ZT.Observable(function(r){var n=0;return t.schedule(function(){n===e.length?r.complete():(r.next(e[n++]),r.closed||this.schedule())})})}mh.scheduleArray=eM;var Il={};Object.defineProperty(Il,"__esModule",{value:!0});Il.scheduleIterable=void 0;var tM=Ie,rM=Io,nM=Re,f1=en;function iM(e,t){return new tM.Observable(function(r){var n;return f1.executeSchedule(r,t,function(){n=e[rM.iterator](),f1.executeSchedule(r,t,function(){var i,o,a;try{i=n.next(),o=i.value,a=i.done}catch(s){r.error(s);return}a?r.complete():r.next(o)},0,!0)}),function(){return nM.isFunction(n==null?void 0:n.return)&&n.return()}})}Il.scheduleIterable=iM;var Nl={};Object.defineProperty(Nl,"__esModule",{value:!0});Nl.scheduleAsyncIterable=void 0;var oM=Ie,d1=en;function aM(e,t){if(!e)throw new Error("Iterable cannot be null");return new oM.Observable(function(r){d1.executeSchedule(r,t,function(){var n=e[Symbol.asyncIterator]();d1.executeSchedule(r,t,function(){n.next().then(function(i){i.done?r.complete():r.next(i.value)})},0,!0)})})}Nl.scheduleAsyncIterable=aM;var yh={};Object.defineProperty(yh,"__esModule",{value:!0});yh.scheduleReadableStreamLike=void 0;var sM=Nl,uM=Ii;function lM(e,t){return sM.scheduleAsyncIterable(uM.readableStreamLikeToAsyncGenerator(e),t)}yh.scheduleReadableStreamLike=lM;Object.defineProperty(Cl,"__esModule",{value:!0});Cl.scheduled=void 0;var cM=vh,fM=ph,dM=mh,hM=Il,vM=Nl,pM=Al,mM=$l,yM=$s,gM=Ml,bM=Rl,_M=Tl,wM=Ii,SM=yh;function OM(e,t){if(e!=null){if(pM.isInteropObservable(e))return cM.scheduleObservable(e,t);if(yM.isArrayLike(e))return dM.scheduleArray(e,t);if(mM.isPromise(e))return fM.schedulePromise(e,t);if(bM.isAsyncIterable(e))return vM.scheduleAsyncIterable(e,t);if(gM.isIterable(e))return hM.scheduleIterable(e,t);if(wM.isReadableStreamLike(e))return SM.scheduleReadableStreamLike(e,t)}throw _M.createInvalidObservableTypeError(e)}Cl.scheduled=OM;Object.defineProperty(Zr,"__esModule",{value:!0});Zr.from=void 0;var EM=Cl,PM=de;function xM(e,t){return t?EM.scheduled(e,t):PM.innerFrom(e)}Zr.from=xM;Object.defineProperty(Cs,"__esModule",{value:!0});Cs.of=void 0;var jM=dt,kM=Zr;function CM(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=jM.popScheduler(e);return kM.from(e,r)}Cs.of=CM;var Dl={};Object.defineProperty(Dl,"__esModule",{value:!0});Dl.throwError=void 0;var $M=Ie,AM=Re;function RM(e,t){var r=AM.isFunction(e)?e:function(){return e},n=function(i){return i.error(r())};return new $M.Observable(t?function(i){return t.schedule(n,0,i)}:n)}Dl.throwError=RM;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.observeNotification=e.Notification=e.NotificationKind=void 0;var t=Qr,r=Cs,n=Dl,i=Re;(function(s){s.NEXT="N",s.ERROR="E",s.COMPLETE="C"})(e.NotificationKind||(e.NotificationKind={}));var o=function(){function s(u,l,c){this.kind=u,this.value=l,this.error=c,this.hasValue=u==="N"}return s.prototype.observe=function(u){return a(this,u)},s.prototype.do=function(u,l,c){var d=this,f=d.kind,h=d.value,b=d.error;return f==="N"?u==null?void 0:u(h):f==="E"?l==null?void 0:l(b):c==null?void 0:c()},s.prototype.accept=function(u,l,c){var d;return i.isFunction((d=u)===null||d===void 0?void 0:d.next)?this.observe(u):this.do(u,l,c)},s.prototype.toObservable=function(){var u=this,l=u.kind,c=u.value,d=u.error,f=l==="N"?r.of(c):l==="E"?n.throwError(function(){return d}):l==="C"?t.EMPTY:0;if(!f)throw new TypeError("Unexpected notification kind "+l);return f},s.createNext=function(u){return new s("N",u)},s.createError=function(u){return new s("E",void 0,u)},s.createComplete=function(){return s.completeNotification},s.completeNotification=new s("C"),s}();e.Notification=o;function a(s,u){var l,c,d,f=s,h=f.kind,b=f.value,_=f.error;if(typeof h!="string")throw new TypeError('Invalid notification, missing "kind"');h==="N"?(l=u.next)===null||l===void 0||l.call(u,b):h==="E"?(c=u.error)===null||c===void 0||c.call(u,_):(d=u.complete)===null||d===void 0||d.call(u)}e.observeNotification=a})(hh);var gh={};Object.defineProperty(gh,"__esModule",{value:!0});gh.isObservable=void 0;var TM=Ie,h1=Re;function MM(e){return!!e&&(e instanceof TM.Observable||h1.isFunction(e.lift)&&h1.isFunction(e.subscribe))}gh.isObservable=MM;var bh={},_n={};Object.defineProperty(_n,"__esModule",{value:!0});_n.EmptyError=void 0;var IM=bn;_n.EmptyError=IM.createErrorClass(function(e){return function(){e(this),this.name="EmptyError",this.message="no elements in sequence"}});Object.defineProperty(bh,"__esModule",{value:!0});bh.lastValueFrom=void 0;var NM=_n;function DM(e,t){var r=typeof t=="object";return new Promise(function(n,i){var o=!1,a;e.subscribe({next:function(s){a=s,o=!0},error:i,complete:function(){o?n(a):r?n(t.defaultValue):i(new NM.EmptyError)}})})}bh.lastValueFrom=DM;var _h={};Object.defineProperty(_h,"__esModule",{value:!0});_h.firstValueFrom=void 0;var LM=_n,FM=xs;function BM(e,t){var r=typeof t=="object";return new Promise(function(n,i){var o=new FM.SafeSubscriber({next:function(a){n(a),o.unsubscribe()},error:i,complete:function(){r?n(t.defaultValue):i(new LM.EmptyError)}});e.subscribe(o)})}_h.firstValueFrom=BM;var Ll={};Object.defineProperty(Ll,"__esModule",{value:!0});Ll.ArgumentOutOfRangeError=void 0;var UM=bn;Ll.ArgumentOutOfRangeError=UM.createErrorClass(function(e){return function(){e(this),this.name="ArgumentOutOfRangeError",this.message="argument out of range"}});var Fl={};Object.defineProperty(Fl,"__esModule",{value:!0});Fl.NotFoundError=void 0;var WM=bn;Fl.NotFoundError=WM.createErrorClass(function(e){return function(r){e(this),this.name="NotFoundError",this.message=r}});var Bl={};Object.defineProperty(Bl,"__esModule",{value:!0});Bl.SequenceError=void 0;var zM=bn;Bl.SequenceError=zM.createErrorClass(function(e){return function(r){e(this),this.name="SequenceError",this.message=r}});var bd={},Rs={};Object.defineProperty(Rs,"__esModule",{value:!0});Rs.isValidDate=void 0;function KM(e){return e instanceof Date&&!isNaN(e)}Rs.isValidDate=KM;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.timeout=e.TimeoutError=void 0;var t=ur,r=Rs,n=re,i=de,o=bn,a=ue,s=en;e.TimeoutError=o.createErrorClass(function(c){return function(f){f===void 0&&(f=null),c(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=f}});function u(c,d){var f=r.isValidDate(c)?{first:c}:typeof c=="number"?{each:c}:c,h=f.first,b=f.each,_=f.with,j=_===void 0?l:_,g=f.scheduler,p=g===void 0?d??t.asyncScheduler:g,O=f.meta,x=O===void 0?null:O;if(h==null&&b==null)throw new TypeError("No timeout provided.");return n.operate(function(P,C){var A,D,B=null,V=0,X=function(fe){D=s.executeSchedule(C,p,function(){try{A.unsubscribe(),i.innerFrom(j({meta:x,lastValue:B,seen:V})).subscribe(C)}catch(he){C.error(he)}},fe)};A=P.subscribe(a.createOperatorSubscriber(C,function(fe){D==null||D.unsubscribe(),V++,C.next(B=fe),b>0&&X(b)},void 0,void 0,function(){D!=null&&D.closed||D==null||D.unsubscribe(),B=null})),!V&&X(h!=null?typeof h=="number"?h:+h-p.now():b)})}e.timeout=u;function l(c){throw new e.TimeoutError(c)}})(bd);var wh={},Ul={},wn={},Sn={};Object.defineProperty(Sn,"__esModule",{value:!0});Sn.map=void 0;var VM=re,qM=ue;function HM(e,t){return VM.operate(function(r,n){var i=0;r.subscribe(qM.createOperatorSubscriber(n,function(o){n.next(e.call(t,o,i++))}))})}Sn.map=HM;var QM=M&&M.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return o},YM=M&&M.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(wn,"__esModule",{value:!0});wn.mapOneOrManyArgs=void 0;var GM=Sn,XM=Array.isArray;function JM(e,t){return XM(t)?e.apply(void 0,YM([],QM(t))):e(t)}function ZM(e){return GM.map(function(t){return JM(e,t)})}wn.mapOneOrManyArgs=ZM;var eI=M&&M.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return o},v1=M&&M.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(Ul,"__esModule",{value:!0});Ul.bindCallbackInternals=void 0;var tI=Zo,rI=Ie,nI=ta,iI=wn,oI=ea,aI=ks;function Hy(e,t,r,n){if(r)if(tI.isScheduler(r))n=r;else return function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return Hy(e,t,n).apply(this,i).pipe(iI.mapOneOrManyArgs(r))};return n?function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return Hy(e,t).apply(this,i).pipe(nI.subscribeOn(n),oI.observeOn(n))}:function(){for(var i=this,o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];var s=new aI.AsyncSubject,u=!0;return new rI.Observable(function(l){var c=s.subscribe(l);if(u){u=!1;var d=!1,f=!1;t.apply(i,v1(v1([],eI(o)),[function(){for(var h=[],b=0;b<arguments.length;b++)h[b]=arguments[b];if(e){var _=h.shift();if(_!=null){s.error(_);return}}s.next(1<h.length?h:h[0]),f=!0,d&&s.complete()}])),f&&s.complete(),d=!0}return c})}}Ul.bindCallbackInternals=Hy;Object.defineProperty(wh,"__esModule",{value:!0});wh.bindCallback=void 0;var sI=Ul;function uI(e,t,r){return sI.bindCallbackInternals(!1,e,t,r)}wh.bindCallback=uI;var Sh={};Object.defineProperty(Sh,"__esModule",{value:!0});Sh.bindNodeCallback=void 0;var lI=Ul;function cI(e,t,r){return lI.bindCallbackInternals(!0,e,t,r)}Sh.bindNodeCallback=cI;var Ni={},Wl={};Object.defineProperty(Wl,"__esModule",{value:!0});Wl.argsArgArrayOrObject=void 0;var fI=Array.isArray,dI=Object.getPrototypeOf,hI=Object.prototype,vI=Object.keys;function pI(e){if(e.length===1){var t=e[0];if(fI(t))return{args:t,keys:null};if(mI(t)){var r=vI(t);return{args:r.map(function(n){return t[n]}),keys:r}}}return{args:e,keys:null}}Wl.argsArgArrayOrObject=pI;function mI(e){return e&&typeof e=="object"&&dI(e)===hI}var zl={};Object.defineProperty(zl,"__esModule",{value:!0});zl.createObject=void 0;function yI(e,t){return e.reduce(function(r,n,i){return r[n]=t[i],r},{})}zl.createObject=yI;Object.defineProperty(Ni,"__esModule",{value:!0});Ni.combineLatestInit=Ni.combineLatest=void 0;var gI=Ie,bI=Wl,aP=Zr,sP=Ot,_I=wn,p1=dt,wI=zl,SI=ue,OI=en;function EI(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=p1.popScheduler(e),n=p1.popResultSelector(e),i=bI.argsArgArrayOrObject(e),o=i.args,a=i.keys;if(o.length===0)return aP.from([],r);var s=new gI.Observable(uP(o,r,a?function(u){return wI.createObject(a,u)}:sP.identity));return n?s.pipe(_I.mapOneOrManyArgs(n)):s}Ni.combineLatest=EI;function uP(e,t,r){return r===void 0&&(r=sP.identity),function(n){m1(t,function(){for(var i=e.length,o=new Array(i),a=i,s=i,u=function(c){m1(t,function(){var d=aP.from(e[c],t),f=!1;d.subscribe(SI.createOperatorSubscriber(n,function(h){o[c]=h,f||(f=!0,s--),s||n.next(r(o.slice()))},function(){--a||n.complete()}))},n)},l=0;l<i;l++)u(l)},n)}}Ni.combineLatestInit=uP;function m1(e,t,r){e?OI.executeSchedule(r,e,t):t()}var ra={},Ts={},na={},tn={},Ms={};Object.defineProperty(Ms,"__esModule",{value:!0});Ms.mergeInternals=void 0;var PI=de,xI=en,y1=ue;function jI(e,t,r,n,i,o,a,s){var u=[],l=0,c=0,d=!1,f=function(){d&&!u.length&&!l&&t.complete()},h=function(_){return l<n?b(_):u.push(_)},b=function(_){o&&t.next(_),l++;var j=!1;PI.innerFrom(r(_,c++)).subscribe(y1.createOperatorSubscriber(t,function(g){i==null||i(g),o?h(g):t.next(g)},function(){j=!0},void 0,function(){if(j)try{l--;for(var g=function(){var p=u.shift();a?xI.executeSchedule(t,a,function(){return b(p)}):b(p)};u.length&&l<n;)g();f()}catch(p){t.error(p)}}))};return e.subscribe(y1.createOperatorSubscriber(t,h,function(){d=!0,f()})),function(){s==null||s()}}Ms.mergeInternals=jI;Object.defineProperty(tn,"__esModule",{value:!0});tn.mergeMap=void 0;var kI=Sn,CI=de,$I=re,AI=Ms,RI=Re;function lP(e,t,r){return r===void 0&&(r=1/0),RI.isFunction(t)?lP(function(n,i){return kI.map(function(o,a){return t(n,o,i,a)})(CI.innerFrom(e(n,i)))},r):(typeof t=="number"&&(r=t),$I.operate(function(n,i){return AI.mergeInternals(n,i,e,r)}))}tn.mergeMap=lP;Object.defineProperty(na,"__esModule",{value:!0});na.mergeAll=void 0;var TI=tn,MI=Ot;function II(e){return e===void 0&&(e=1/0),TI.mergeMap(MI.identity,e)}na.mergeAll=II;Object.defineProperty(Ts,"__esModule",{value:!0});Ts.concatAll=void 0;var NI=na;function DI(){return NI.mergeAll(1)}Ts.concatAll=DI;Object.defineProperty(ra,"__esModule",{value:!0});ra.concat=void 0;var LI=Ts,FI=dt,BI=Zr;function UI(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return LI.concatAll()(BI.from(e,FI.popScheduler(e)))}ra.concat=UI;var Oh={},ia={};Object.defineProperty(ia,"__esModule",{value:!0});ia.defer=void 0;var WI=Ie,zI=de;function KI(e){return new WI.Observable(function(t){zI.innerFrom(e()).subscribe(t)})}ia.defer=KI;Object.defineProperty(Oh,"__esModule",{value:!0});Oh.connectable=void 0;var VI=lt,qI=Ie,HI=ia,QI={connector:function(){return new VI.Subject},resetOnDisconnect:!0};function YI(e,t){t===void 0&&(t=QI);var r=null,n=t.connector,i=t.resetOnDisconnect,o=i===void 0?!0:i,a=n(),s=new qI.Observable(function(u){return a.subscribe(u)});return s.connect=function(){return(!r||r.closed)&&(r=HI.defer(function(){return e}).subscribe(a),o&&r.add(function(){return a=n()})),r},s}Oh.connectable=YI;var Eh={};Object.defineProperty(Eh,"__esModule",{value:!0});Eh.forkJoin=void 0;var GI=Ie,XI=Wl,JI=de,ZI=dt,e2=ue,t2=wn,r2=zl;function n2(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=ZI.popResultSelector(e),n=XI.argsArgArrayOrObject(e),i=n.args,o=n.keys,a=new GI.Observable(function(s){var u=i.length;if(!u){s.complete();return}for(var l=new Array(u),c=u,d=u,f=function(b){var _=!1;JI.innerFrom(i[b]).subscribe(e2.createOperatorSubscriber(s,function(j){_||(_=!0,d--),l[b]=j},function(){return c--},void 0,function(){(!c||!_)&&(d||s.next(o?r2.createObject(o,l):l),s.complete())}))},h=0;h<u;h++)f(h)});return r?a.pipe(t2.mapOneOrManyArgs(r)):a}Eh.forkJoin=n2;var Ph={},i2=M&&M.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return o};Object.defineProperty(Ph,"__esModule",{value:!0});Ph.fromEvent=void 0;var o2=de,a2=Ie,s2=tn,u2=$s,No=Re,l2=wn,c2=["addListener","removeListener"],f2=["addEventListener","removeEventListener"],d2=["on","off"];function Qy(e,t,r,n){if(No.isFunction(r)&&(n=r,r=void 0),n)return Qy(e,t,r).pipe(l2.mapOneOrManyArgs(n));var i=i2(p2(e)?f2.map(function(s){return function(u){return e[s](t,u,r)}}):h2(e)?c2.map(g1(e,t)):v2(e)?d2.map(g1(e,t)):[],2),o=i[0],a=i[1];if(!o&&u2.isArrayLike(e))return s2.mergeMap(function(s){return Qy(s,t,r)})(o2.innerFrom(e));if(!o)throw new TypeError("Invalid event target");return new a2.Observable(function(s){var u=function(){for(var l=[],c=0;c<arguments.length;c++)l[c]=arguments[c];return s.next(1<l.length?l:l[0])};return o(u),function(){return a(u)}})}Ph.fromEvent=Qy;function g1(e,t){return function(r){return function(n){return e[r](t,n)}}}function h2(e){return No.isFunction(e.addListener)&&No.isFunction(e.removeListener)}function v2(e){return No.isFunction(e.on)&&No.isFunction(e.off)}function p2(e){return No.isFunction(e.addEventListener)&&No.isFunction(e.removeEventListener)}var xh={};Object.defineProperty(xh,"__esModule",{value:!0});xh.fromEventPattern=void 0;var m2=Ie,y2=Re,g2=wn;function cP(e,t,r){return r?cP(e,t).pipe(g2.mapOneOrManyArgs(r)):new m2.Observable(function(n){var i=function(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];return n.next(a.length===1?a[0]:a)},o=e(i);return y2.isFunction(t)?function(){return t(i,o)}:void 0})}xh.fromEventPattern=cP;var jh={},b2=M&&M.__generator||function(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(l){return function(c){return u([l,c])}}function u(l){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=l[0]&2?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[l[0]&2,o.value]),l[0]){case 0:case 1:o=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){r.label=l[1];break}if(l[0]===6&&r.label<o[1]){r.label=o[1],o=l;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(l);break}o[2]&&r.ops.pop(),r.trys.pop();continue}l=t.call(e,r)}catch(c){l=[6,c],i=0}finally{n=o=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}};Object.defineProperty(jh,"__esModule",{value:!0});jh.generate=void 0;var b1=Ot,_2=Zo,w2=ia,S2=Il;function O2(e,t,r,n,i){var o,a,s,u;arguments.length===1?(o=e,u=o.initialState,t=o.condition,r=o.iterate,a=o.resultSelector,s=a===void 0?b1.identity:a,i=o.scheduler):(u=e,!n||_2.isScheduler(n)?(s=b1.identity,i=n):s=n);function l(){var c;return b2(this,function(d){switch(d.label){case 0:c=u,d.label=1;case 1:return!t||t(c)?[4,s(c)]:[3,4];case 2:d.sent(),d.label=3;case 3:return c=r(c),[3,1];case 4:return[2]}})}return w2.defer(i?function(){return S2.scheduleIterable(l(),i)}:l)}jh.generate=O2;var kh={};Object.defineProperty(kh,"__esModule",{value:!0});kh.iif=void 0;var E2=ia;function P2(e,t,r){return E2.defer(function(){return e()?t:r})}kh.iif=P2;var Kl={},On={};Object.defineProperty(On,"__esModule",{value:!0});On.timer=void 0;var x2=Ie,j2=ur,k2=Zo,C2=Rs;function $2(e,t,r){e===void 0&&(e=0),r===void 0&&(r=j2.async);var n=-1;return t!=null&&(k2.isScheduler(t)?r=t:n=t),new x2.Observable(function(i){var o=C2.isValidDate(e)?+e-r.now():e;o<0&&(o=0);var a=0;return r.schedule(function(){i.closed||(i.next(a++),0<=n?this.schedule(void 0,n):i.complete())},o)})}On.timer=$2;Object.defineProperty(Kl,"__esModule",{value:!0});Kl.interval=void 0;var A2=ur,R2=On;function T2(e,t){return e===void 0&&(e=0),t===void 0&&(t=A2.asyncScheduler),e<0&&(e=0),R2.timer(e,e,t)}Kl.interval=T2;var Ch={};Object.defineProperty(Ch,"__esModule",{value:!0});Ch.merge=void 0;var M2=na,I2=de,N2=Qr,_1=dt,D2=Zr;function L2(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=_1.popScheduler(e),n=_1.popNumber(e,1/0),i=e;return i.length?i.length===1?I2.innerFrom(i[0]):M2.mergeAll(n)(D2.from(i,r)):N2.EMPTY}Ch.merge=L2;var Yy={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.never=e.NEVER=void 0;var t=Ie,r=St;e.NEVER=new t.Observable(r.noop);function n(){return e.NEVER}e.never=n})(Yy);var Vl={},Xn={};Object.defineProperty(Xn,"__esModule",{value:!0});Xn.argsOrArgArray=void 0;var F2=Array.isArray;function B2(e){return e.length===1&&F2(e[0])?e[0]:e}Xn.argsOrArgArray=B2;Object.defineProperty(Vl,"__esModule",{value:!0});Vl.onErrorResumeNext=void 0;var U2=Ie,W2=Xn,z2=ue,w1=St,K2=de;function V2(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=W2.argsOrArgArray(e);return new U2.Observable(function(n){var i=0,o=function(){if(i<r.length){var a=void 0;try{a=K2.innerFrom(r[i++])}catch{o();return}var s=new z2.OperatorSubscriber(n,void 0,w1.noop,w1.noop);a.subscribe(s),s.add(o)}else n.complete()};o()})}Vl.onErrorResumeNext=V2;var $h={};Object.defineProperty($h,"__esModule",{value:!0});$h.pairs=void 0;var q2=Zr;function H2(e,t){return q2.from(Object.entries(e),t)}$h.pairs=H2;var Ah={},Rh={};Object.defineProperty(Rh,"__esModule",{value:!0});Rh.not=void 0;function Q2(e,t){return function(r,n){return!e.call(t,r,n)}}Rh.not=Q2;var Jn={};Object.defineProperty(Jn,"__esModule",{value:!0});Jn.filter=void 0;var Y2=re,G2=ue;function X2(e,t){return Y2.operate(function(r,n){var i=0;r.subscribe(G2.createOperatorSubscriber(n,function(o){return e.call(t,o,i++)&&n.next(o)}))})}Jn.filter=X2;Object.defineProperty(Ah,"__esModule",{value:!0});Ah.partition=void 0;var J2=Rh,S1=Jn,O1=de;function Z2(e,t,r){return[S1.filter(t,r)(O1.innerFrom(e)),S1.filter(J2.not(t,r))(O1.innerFrom(e))]}Ah.partition=Z2;var Do={};Object.defineProperty(Do,"__esModule",{value:!0});Do.raceInit=Do.race=void 0;var eN=Ie,fP=de,tN=Xn,rN=ue;function nN(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e=tN.argsOrArgArray(e),e.length===1?fP.innerFrom(e[0]):new eN.Observable(dP(e))}Do.race=nN;function dP(e){return function(t){for(var r=[],n=function(o){r.push(fP.innerFrom(e[o]).subscribe(rN.createOperatorSubscriber(t,function(a){if(r){for(var s=0;s<r.length;s++)s!==o&&r[s].unsubscribe();r=null}t.next(a)})))},i=0;r&&!t.closed&&i<e.length;i++)n(i)}}Do.raceInit=dP;var Th={};Object.defineProperty(Th,"__esModule",{value:!0});Th.range=void 0;var iN=Ie,oN=Qr;function aN(e,t,r){if(t==null&&(t=e,e=0),t<=0)return oN.EMPTY;var n=t+e;return new iN.Observable(r?function(i){var o=e;return r.schedule(function(){o<n?(i.next(o++),this.schedule()):i.complete()})}:function(i){for(var o=e;o<n&&!i.closed;)i.next(o++);i.complete()})}Th.range=aN;var Mh={};Object.defineProperty(Mh,"__esModule",{value:!0});Mh.using=void 0;var sN=Ie,uN=de,lN=Qr;function cN(e,t){return new sN.Observable(function(r){var n=e(),i=t(n),o=i?uN.innerFrom(i):lN.EMPTY;return o.subscribe(r),function(){n&&n.unsubscribe()}})}Mh.using=cN;var Is={},fN=M&&M.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return o},dN=M&&M.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(Is,"__esModule",{value:!0});Is.zip=void 0;var hN=Ie,vN=de,pN=Xn,mN=Qr,yN=ue,gN=dt;function bN(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=gN.popResultSelector(e),n=pN.argsOrArgArray(e);return n.length?new hN.Observable(function(i){var o=n.map(function(){return[]}),a=n.map(function(){return!1});i.add(function(){o=a=null});for(var s=function(l){vN.innerFrom(n[l]).subscribe(yN.createOperatorSubscriber(i,function(c){if(o[l].push(c),o.every(function(f){return f.length})){var d=o.map(function(f){return f.shift()});i.next(r?r.apply(void 0,dN([],fN(d))):d),o.some(function(f,h){return!f.length&&a[h]})&&i.complete()}},function(){a[l]=!0,!o[l].length&&i.complete()}))},u=0;!i.closed&&u<n.length;u++)s(u);return function(){o=a=null}}):mN.EMPTY}Is.zip=bN;var hP={};Object.defineProperty(hP,"__esModule",{value:!0});var ql={};Object.defineProperty(ql,"__esModule",{value:!0});ql.audit=void 0;var _N=re,wN=de,E1=ue;function SN(e){return _N.operate(function(t,r){var n=!1,i=null,o=null,a=!1,s=function(){if(o==null||o.unsubscribe(),o=null,n){n=!1;var l=i;i=null,r.next(l)}a&&r.complete()},u=function(){o=null,a&&r.complete()};t.subscribe(E1.createOperatorSubscriber(r,function(l){n=!0,i=l,o||wN.innerFrom(e(l)).subscribe(o=E1.createOperatorSubscriber(r,s,u))},function(){a=!0,(!n||!o||o.closed)&&r.complete()}))})}ql.audit=SN;var Ih={};Object.defineProperty(Ih,"__esModule",{value:!0});Ih.auditTime=void 0;var ON=ur,EN=ql,PN=On;function xN(e,t){return t===void 0&&(t=ON.asyncScheduler),EN.audit(function(){return PN.timer(e,t)})}Ih.auditTime=xN;var Nh={};Object.defineProperty(Nh,"__esModule",{value:!0});Nh.buffer=void 0;var jN=re,kN=St,P1=ue,CN=de;function $N(e){return jN.operate(function(t,r){var n=[];return t.subscribe(P1.createOperatorSubscriber(r,function(i){return n.push(i)},function(){r.next(n),r.complete()})),CN.innerFrom(e).subscribe(P1.createOperatorSubscriber(r,function(){var i=n;n=[],r.next(i)},kN.noop)),function(){n=null}})}Nh.buffer=$N;var Dh={},Sm=M&&M.__values||function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(Dh,"__esModule",{value:!0});Dh.bufferCount=void 0;var AN=re,RN=ue,TN=Jr;function MN(e,t){return t===void 0&&(t=null),t=t??e,AN.operate(function(r,n){var i=[],o=0;r.subscribe(RN.createOperatorSubscriber(n,function(a){var s,u,l,c,d=null;o++%t===0&&i.push([]);try{for(var f=Sm(i),h=f.next();!h.done;h=f.next()){var b=h.value;b.push(a),e<=b.length&&(d=d??[],d.push(b))}}catch(g){s={error:g}}finally{try{h&&!h.done&&(u=f.return)&&u.call(f)}finally{if(s)throw s.error}}if(d)try{for(var _=Sm(d),j=_.next();!j.done;j=_.next()){var b=j.value;TN.arrRemove(i,b),n.next(b)}}catch(g){l={error:g}}finally{try{j&&!j.done&&(c=_.return)&&c.call(_)}finally{if(l)throw l.error}}},function(){var a,s;try{for(var u=Sm(i),l=u.next();!l.done;l=u.next()){var c=l.value;n.next(c)}}catch(d){a={error:d}}finally{try{l&&!l.done&&(s=u.return)&&s.call(u)}finally{if(a)throw a.error}}n.complete()},void 0,function(){i=null}))})}Dh.bufferCount=MN;var Lh={},IN=M&&M.__values||function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(Lh,"__esModule",{value:!0});Lh.bufferTime=void 0;var NN=bt,DN=re,LN=ue,FN=Jr,BN=ur,UN=dt,x1=en;function WN(e){for(var t,r,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var o=(t=UN.popScheduler(n))!==null&&t!==void 0?t:BN.asyncScheduler,a=(r=n[0])!==null&&r!==void 0?r:null,s=n[1]||1/0;return DN.operate(function(u,l){var c=[],d=!1,f=function(_){var j=_.buffer,g=_.subs;g.unsubscribe(),FN.arrRemove(c,_),l.next(j),d&&h()},h=function(){if(c){var _=new NN.Subscription;l.add(_);var j=[],g={buffer:j,subs:_};c.push(g),x1.executeSchedule(_,o,function(){return f(g)},e)}};a!==null&&a>=0?x1.executeSchedule(l,o,h,a,!0):d=!0,h();var b=LN.createOperatorSubscriber(l,function(_){var j,g,p=c.slice();try{for(var O=IN(p),x=O.next();!x.done;x=O.next()){var P=x.value,C=P.buffer;C.push(_),s<=C.length&&f(P)}}catch(A){j={error:A}}finally{try{x&&!x.done&&(g=O.return)&&g.call(O)}finally{if(j)throw j.error}}},function(){for(;c!=null&&c.length;)l.next(c.shift().buffer);b==null||b.unsubscribe(),l.complete(),l.unsubscribe()},void 0,function(){return c=null});u.subscribe(b)})}Lh.bufferTime=WN;var Fh={},zN=M&&M.__values||function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(Fh,"__esModule",{value:!0});Fh.bufferToggle=void 0;var KN=bt,VN=re,j1=de,Om=ue,k1=St,qN=Jr;function HN(e,t){return VN.operate(function(r,n){var i=[];j1.innerFrom(e).subscribe(Om.createOperatorSubscriber(n,function(o){var a=[];i.push(a);var s=new KN.Subscription,u=function(){qN.arrRemove(i,a),n.next(a),s.unsubscribe()};s.add(j1.innerFrom(t(o)).subscribe(Om.createOperatorSubscriber(n,u,k1.noop)))},k1.noop)),r.subscribe(Om.createOperatorSubscriber(n,function(o){var a,s;try{for(var u=zN(i),l=u.next();!l.done;l=u.next()){var c=l.value;c.push(o)}}catch(d){a={error:d}}finally{try{l&&!l.done&&(s=u.return)&&s.call(u)}finally{if(a)throw a.error}}},function(){for(;i.length>0;)n.next(i.shift());n.complete()}))})}Fh.bufferToggle=HN;var Bh={};Object.defineProperty(Bh,"__esModule",{value:!0});Bh.bufferWhen=void 0;var QN=re,YN=St,C1=ue,GN=de;function XN(e){return QN.operate(function(t,r){var n=null,i=null,o=function(){i==null||i.unsubscribe();var a=n;n=[],a&&r.next(a),GN.innerFrom(e()).subscribe(i=C1.createOperatorSubscriber(r,o,YN.noop))};o(),t.subscribe(C1.createOperatorSubscriber(r,function(a){return n==null?void 0:n.push(a)},function(){n&&r.next(n),r.complete()},void 0,function(){return n=i=null}))})}Bh.bufferWhen=XN;var Uh={};Object.defineProperty(Uh,"__esModule",{value:!0});Uh.catchError=void 0;var JN=de,ZN=ue,eD=re;function vP(e){return eD.operate(function(t,r){var n=null,i=!1,o;n=t.subscribe(ZN.createOperatorSubscriber(r,void 0,void 0,function(a){o=JN.innerFrom(e(a,vP(e)(t))),n?(n.unsubscribe(),n=null,o.subscribe(r)):i=!0})),i&&(n.unsubscribe(),n=null,o.subscribe(r))})}Uh.catchError=vP;var Wh={},Hl={},Ql={},Yl={},qi={},Gl={};Object.defineProperty(Gl,"__esModule",{value:!0});Gl.scanInternals=void 0;var tD=ue;function rD(e,t,r,n,i){return function(o,a){var s=r,u=t,l=0;o.subscribe(tD.createOperatorSubscriber(a,function(c){var d=l++;u=s?e(u,c,d):(s=!0,c),n&&a.next(u)},i&&function(){s&&a.next(u),a.complete()}))}}Gl.scanInternals=rD;Object.defineProperty(qi,"__esModule",{value:!0});qi.reduce=void 0;var nD=Gl,iD=re;function oD(e,t){return iD.operate(nD.scanInternals(e,t,arguments.length>=2,!1,!0))}qi.reduce=oD;Object.defineProperty(Yl,"__esModule",{value:!0});Yl.toArray=void 0;var aD=qi,sD=re,uD=function(e,t){return e.push(t),e};function lD(){return sD.operate(function(e,t){aD.reduce(uD,[])(e).subscribe(t)})}Yl.toArray=lD;Object.defineProperty(Ql,"__esModule",{value:!0});Ql.joinAllInternals=void 0;var cD=Ot,fD=wn,dD=Vn,hD=tn,vD=Yl;function pD(e,t){return dD.pipe(vD.toArray(),hD.mergeMap(function(r){return e(r)}),t?fD.mapOneOrManyArgs(t):cD.identity)}Ql.joinAllInternals=pD;Object.defineProperty(Hl,"__esModule",{value:!0});Hl.combineLatestAll=void 0;var mD=Ni,yD=Ql;function gD(e){return yD.joinAllInternals(mD.combineLatest,e)}Hl.combineLatestAll=gD;Object.defineProperty(Wh,"__esModule",{value:!0});Wh.combineAll=void 0;var bD=Hl;Wh.combineAll=bD.combineLatestAll;var zh={},Kh={},$1=M&&M.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return o},A1=M&&M.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(Kh,"__esModule",{value:!0});Kh.combineLatest=void 0;var _D=Ni,wD=re,SD=Xn,OD=wn,ED=Vn,PD=dt;function pP(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=PD.popResultSelector(e);return r?ED.pipe(pP.apply(void 0,A1([],$1(e))),OD.mapOneOrManyArgs(r)):wD.operate(function(n,i){_D.combineLatestInit(A1([n],$1(SD.argsOrArgArray(e))))(i)})}Kh.combineLatest=pP;var xD=M&&M.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return o},jD=M&&M.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(zh,"__esModule",{value:!0});zh.combineLatestWith=void 0;var kD=Kh;function CD(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return kD.combineLatest.apply(void 0,jD([],xD(e)))}zh.combineLatestWith=CD;var Xl={};Object.defineProperty(Xl,"__esModule",{value:!0});Xl.concatMap=void 0;var R1=tn,$D=Re;function AD(e,t){return $D.isFunction(t)?R1.mergeMap(e,t,1):R1.mergeMap(e,1)}Xl.concatMap=AD;var Vh={};Object.defineProperty(Vh,"__esModule",{value:!0});Vh.concatMapTo=void 0;var T1=Xl,RD=Re;function TD(e,t){return RD.isFunction(t)?T1.concatMap(function(){return e},t):T1.concatMap(function(){return e})}Vh.concatMapTo=TD;var qh={},Hh={},MD=M&&M.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return o},ID=M&&M.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(Hh,"__esModule",{value:!0});Hh.concat=void 0;var ND=re,DD=Ts,LD=dt,FD=Zr;function BD(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=LD.popScheduler(e);return ND.operate(function(n,i){DD.concatAll()(FD.from(ID([n],MD(e)),r)).subscribe(i)})}Hh.concat=BD;var UD=M&&M.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return o},WD=M&&M.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(qh,"__esModule",{value:!0});qh.concatWith=void 0;var zD=Hh;function KD(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return zD.concat.apply(void 0,WD([],UD(e)))}qh.concatWith=KD;var Ns={},Qh={};Object.defineProperty(Qh,"__esModule",{value:!0});Qh.fromSubscribable=void 0;var VD=Ie;function qD(e){return new VD.Observable(function(t){return e.subscribe(t)})}Qh.fromSubscribable=qD;Object.defineProperty(Ns,"__esModule",{value:!0});Ns.connect=void 0;var HD=lt,QD=de,YD=re,GD=Qh,XD={connector:function(){return new HD.Subject}};function JD(e,t){t===void 0&&(t=XD);var r=t.connector;return YD.operate(function(n,i){var o=r();QD.innerFrom(e(GD.fromSubscribable(o))).subscribe(i),i.add(n.subscribe(o))})}Ns.connect=JD;var Yh={};Object.defineProperty(Yh,"__esModule",{value:!0});Yh.count=void 0;var ZD=qi;function eL(e){return ZD.reduce(function(t,r,n){return!e||e(r,n)?t+1:t},0)}Yh.count=eL;var Gh={};Object.defineProperty(Gh,"__esModule",{value:!0});Gh.debounce=void 0;var tL=re,rL=St,M1=ue,nL=de;function iL(e){return tL.operate(function(t,r){var n=!1,i=null,o=null,a=function(){if(o==null||o.unsubscribe(),o=null,n){n=!1;var s=i;i=null,r.next(s)}};t.subscribe(M1.createOperatorSubscriber(r,function(s){o==null||o.unsubscribe(),n=!0,i=s,o=M1.createOperatorSubscriber(r,a,rL.noop),nL.innerFrom(e(s)).subscribe(o)},function(){a(),r.complete()},void 0,function(){i=o=null}))})}Gh.debounce=iL;var Xh={};Object.defineProperty(Xh,"__esModule",{value:!0});Xh.debounceTime=void 0;var oL=ur,aL=re,sL=ue;function uL(e,t){return t===void 0&&(t=oL.asyncScheduler),aL.operate(function(r,n){var i=null,o=null,a=null,s=function(){if(i){i.unsubscribe(),i=null;var l=o;o=null,n.next(l)}};function u(){var l=a+e,c=t.now();if(c<l){i=this.schedule(void 0,l-c),n.add(i);return}s()}r.subscribe(sL.createOperatorSubscriber(n,function(l){o=l,a=t.now(),i||(i=t.schedule(u,e),n.add(i))},function(){s(),n.complete()},void 0,function(){o=i=null}))})}Xh.debounceTime=uL;var oa={};Object.defineProperty(oa,"__esModule",{value:!0});oa.defaultIfEmpty=void 0;var lL=re,cL=ue;function fL(e){return lL.operate(function(t,r){var n=!1;t.subscribe(cL.createOperatorSubscriber(r,function(i){n=!0,r.next(i)},function(){n||r.next(e),r.complete()}))})}oa.defaultIfEmpty=fL;var Jh={},Jl={},aa={};Object.defineProperty(aa,"__esModule",{value:!0});aa.take=void 0;var dL=Qr,hL=re,vL=ue;function pL(e){return e<=0?function(){return dL.EMPTY}:hL.operate(function(t,r){var n=0;t.subscribe(vL.createOperatorSubscriber(r,function(i){++n<=e&&(r.next(i),e<=n&&r.complete())}))})}aa.take=pL;var Zl={};Object.defineProperty(Zl,"__esModule",{value:!0});Zl.ignoreElements=void 0;var mL=re,yL=ue,gL=St;function bL(){return mL.operate(function(e,t){e.subscribe(yL.createOperatorSubscriber(t,gL.noop))})}Zl.ignoreElements=bL;var ec={};Object.defineProperty(ec,"__esModule",{value:!0});ec.mapTo=void 0;var _L=Sn;function wL(e){return _L.map(function(){return e})}ec.mapTo=wL;Object.defineProperty(Jl,"__esModule",{value:!0});Jl.delayWhen=void 0;var SL=ra,I1=aa,OL=Zl,EL=ec,PL=tn,xL=de;function mP(e,t){return t?function(r){return SL.concat(t.pipe(I1.take(1),OL.ignoreElements()),r.pipe(mP(e)))}:PL.mergeMap(function(r,n){return xL.innerFrom(e(r,n)).pipe(I1.take(1),EL.mapTo(r))})}Jl.delayWhen=mP;Object.defineProperty(Jh,"__esModule",{value:!0});Jh.delay=void 0;var jL=ur,kL=Jl,CL=On;function $L(e,t){t===void 0&&(t=jL.asyncScheduler);var r=CL.timer(e,t);return kL.delayWhen(function(){return r})}Jh.delay=$L;var Zh={};Object.defineProperty(Zh,"__esModule",{value:!0});Zh.dematerialize=void 0;var AL=hh,RL=re,TL=ue;function ML(){return RL.operate(function(e,t){e.subscribe(TL.createOperatorSubscriber(t,function(r){return AL.observeNotification(r,t)}))})}Zh.dematerialize=ML;var ev={};Object.defineProperty(ev,"__esModule",{value:!0});ev.distinct=void 0;var IL=re,N1=ue,NL=St,DL=de;function LL(e,t){return IL.operate(function(r,n){var i=new Set;r.subscribe(N1.createOperatorSubscriber(n,function(o){var a=e?e(o):o;i.has(a)||(i.add(a),n.next(o))})),t&&DL.innerFrom(t).subscribe(N1.createOperatorSubscriber(n,function(){return i.clear()},NL.noop))})}ev.distinct=LL;var tc={};Object.defineProperty(tc,"__esModule",{value:!0});tc.distinctUntilChanged=void 0;var FL=Ot,BL=re,UL=ue;function WL(e,t){return t===void 0&&(t=FL.identity),e=e??zL,BL.operate(function(r,n){var i,o=!0;r.subscribe(UL.createOperatorSubscriber(n,function(a){var s=t(a);(o||!e(i,s))&&(o=!1,i=s,n.next(a))}))})}tc.distinctUntilChanged=WL;function zL(e,t){return e===t}var tv={};Object.defineProperty(tv,"__esModule",{value:!0});tv.distinctUntilKeyChanged=void 0;var KL=tc;function VL(e,t){return KL.distinctUntilChanged(function(r,n){return t?t(r[e],n[e]):r[e]===n[e]})}tv.distinctUntilKeyChanged=VL;var rv={},sa={};Object.defineProperty(sa,"__esModule",{value:!0});sa.throwIfEmpty=void 0;var qL=_n,HL=re,QL=ue;function YL(e){return e===void 0&&(e=GL),HL.operate(function(t,r){var n=!1;t.subscribe(QL.createOperatorSubscriber(r,function(i){n=!0,r.next(i)},function(){return n?r.complete():r.error(e())}))})}sa.throwIfEmpty=YL;function GL(){return new qL.EmptyError}Object.defineProperty(rv,"__esModule",{value:!0});rv.elementAt=void 0;var D1=Ll,XL=Jn,JL=sa,ZL=oa,eF=aa;function tF(e,t){if(e<0)throw new D1.ArgumentOutOfRangeError;var r=arguments.length>=2;return function(n){return n.pipe(XL.filter(function(i,o){return o===e}),eF.take(1),r?ZL.defaultIfEmpty(t):JL.throwIfEmpty(function(){return new D1.ArgumentOutOfRangeError}))}}rv.elementAt=tF;var nv={},rF=M&&M.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return o},nF=M&&M.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(nv,"__esModule",{value:!0});nv.endWith=void 0;var iF=ra,oF=Cs;function aF(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(r){return iF.concat(r,oF.of.apply(void 0,nF([],rF(e))))}}nv.endWith=aF;var iv={};Object.defineProperty(iv,"__esModule",{value:!0});iv.every=void 0;var sF=re,uF=ue;function lF(e,t){return sF.operate(function(r,n){var i=0;r.subscribe(uF.createOperatorSubscriber(n,function(o){e.call(t,o,i++,r)||(n.next(!1),n.complete())},function(){n.next(!0),n.complete()}))})}iv.every=lF;var ov={},rc={},nc={};Object.defineProperty(nc,"__esModule",{value:!0});nc.exhaustMap=void 0;var cF=Sn,L1=de,fF=re,F1=ue;function yP(e,t){return t?function(r){return r.pipe(yP(function(n,i){return L1.innerFrom(e(n,i)).pipe(cF.map(function(o,a){return t(n,o,i,a)}))}))}:fF.operate(function(r,n){var i=0,o=null,a=!1;r.subscribe(F1.createOperatorSubscriber(n,function(s){o||(o=F1.createOperatorSubscriber(n,void 0,function(){o=null,a&&n.complete()}),L1.innerFrom(e(s,i++)).subscribe(o))},function(){a=!0,!o&&n.complete()}))})}nc.exhaustMap=yP;Object.defineProperty(rc,"__esModule",{value:!0});rc.exhaustAll=void 0;var dF=nc,hF=Ot;function vF(){return dF.exhaustMap(hF.identity)}rc.exhaustAll=vF;Object.defineProperty(ov,"__esModule",{value:!0});ov.exhaust=void 0;var pF=rc;ov.exhaust=pF.exhaustAll;var av={};Object.defineProperty(av,"__esModule",{value:!0});av.expand=void 0;var mF=re,yF=Ms;function gF(e,t,r){return t===void 0&&(t=1/0),t=(t||0)<1?1/0:t,mF.operate(function(n,i){return yF.mergeInternals(n,i,e,t,void 0,!0,r)})}av.expand=gF;var sv={};Object.defineProperty(sv,"__esModule",{value:!0});sv.finalize=void 0;var bF=re;function _F(e){return bF.operate(function(t,r){try{t.subscribe(r)}finally{r.add(e)}})}sv.finalize=_F;var Lo={};Object.defineProperty(Lo,"__esModule",{value:!0});Lo.createFind=Lo.find=void 0;var wF=re,SF=ue;function OF(e,t){return wF.operate(gP(e,t,"value"))}Lo.find=OF;function gP(e,t,r){var n=r==="index";return function(i,o){var a=0;i.subscribe(SF.createOperatorSubscriber(o,function(s){var u=a++;e.call(t,s,u,i)&&(o.next(n?u:s),o.complete())},function(){o.next(n?-1:void 0),o.complete()}))}}Lo.createFind=gP;var uv={};Object.defineProperty(uv,"__esModule",{value:!0});uv.findIndex=void 0;var EF=re,PF=Lo;function xF(e,t){return EF.operate(PF.createFind(e,t,"index"))}uv.findIndex=xF;var lv={};Object.defineProperty(lv,"__esModule",{value:!0});lv.first=void 0;var jF=_n,kF=Jn,CF=aa,$F=oa,AF=sa,RF=Ot;function TF(e,t){var r=arguments.length>=2;return function(n){return n.pipe(e?kF.filter(function(i,o){return e(i,o,n)}):RF.identity,CF.take(1),r?$F.defaultIfEmpty(t):AF.throwIfEmpty(function(){return new jF.EmptyError}))}}lv.first=TF;var cv={};Object.defineProperty(cv,"__esModule",{value:!0});cv.groupBy=void 0;var MF=Ie,IF=de,NF=lt,DF=re,B1=ue;function LF(e,t,r,n){return DF.operate(function(i,o){var a;!t||typeof t=="function"?a=t:(r=t.duration,a=t.element,n=t.connector);var s=new Map,u=function(b){s.forEach(b),b(o)},l=function(b){return u(function(_){return _.error(b)})},c=0,d=!1,f=new B1.OperatorSubscriber(o,function(b){try{var _=e(b),j=s.get(_);if(!j){s.set(_,j=n?n():new NF.Subject);var g=h(_,j);if(o.next(g),r){var p=B1.createOperatorSubscriber(j,function(){j.complete(),p==null||p.unsubscribe()},void 0,void 0,function(){return s.delete(_)});f.add(IF.innerFrom(r(g)).subscribe(p))}}j.next(a?a(b):b)}catch(O){l(O)}},function(){return u(function(b){return b.complete()})},l,function(){return s.clear()},function(){return d=!0,c===0});i.subscribe(f);function h(b,_){var j=new MF.Observable(function(g){c++;var p=_.subscribe(g);return function(){p.unsubscribe(),--c===0&&d&&f.unsubscribe()}});return j.key=b,j}})}cv.groupBy=LF;var fv={};Object.defineProperty(fv,"__esModule",{value:!0});fv.isEmpty=void 0;var FF=re,BF=ue;function UF(){return FF.operate(function(e,t){e.subscribe(BF.createOperatorSubscriber(t,function(){t.next(!1),t.complete()},function(){t.next(!0),t.complete()}))})}fv.isEmpty=UF;var dv={},ic={},WF=M&&M.__values||function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(ic,"__esModule",{value:!0});ic.takeLast=void 0;var zF=Qr,KF=re,VF=ue;function qF(e){return e<=0?function(){return zF.EMPTY}:KF.operate(function(t,r){var n=[];t.subscribe(VF.createOperatorSubscriber(r,function(i){n.push(i),e<n.length&&n.shift()},function(){var i,o;try{for(var a=WF(n),s=a.next();!s.done;s=a.next()){var u=s.value;r.next(u)}}catch(l){i={error:l}}finally{try{s&&!s.done&&(o=a.return)&&o.call(a)}finally{if(i)throw i.error}}r.complete()},void 0,function(){n=null}))})}ic.takeLast=qF;Object.defineProperty(dv,"__esModule",{value:!0});dv.last=void 0;var HF=_n,QF=Jn,YF=ic,GF=sa,XF=oa,JF=Ot;function ZF(e,t){var r=arguments.length>=2;return function(n){return n.pipe(e?QF.filter(function(i,o){return e(i,o,n)}):JF.identity,YF.takeLast(1),r?XF.defaultIfEmpty(t):GF.throwIfEmpty(function(){return new HF.EmptyError}))}}dv.last=ZF;var hv={};Object.defineProperty(hv,"__esModule",{value:!0});hv.materialize=void 0;var Em=hh,e3=re,t3=ue;function r3(){return e3.operate(function(e,t){e.subscribe(t3.createOperatorSubscriber(t,function(r){t.next(Em.Notification.createNext(r))},function(){t.next(Em.Notification.createComplete()),t.complete()},function(r){t.next(Em.Notification.createError(r)),t.complete()}))})}hv.materialize=r3;var vv={};Object.defineProperty(vv,"__esModule",{value:!0});vv.max=void 0;var n3=qi,i3=Re;function o3(e){return n3.reduce(i3.isFunction(e)?function(t,r){return e(t,r)>0?t:r}:function(t,r){return t>r?t:r})}vv.max=o3;var pv={};Object.defineProperty(pv,"__esModule",{value:!0});pv.flatMap=void 0;var a3=tn;pv.flatMap=a3.mergeMap;var mv={};Object.defineProperty(mv,"__esModule",{value:!0});mv.mergeMapTo=void 0;var U1=tn,s3=Re;function u3(e,t,r){return r===void 0&&(r=1/0),s3.isFunction(t)?U1.mergeMap(function(){return e},t,r):(typeof t=="number"&&(r=t),U1.mergeMap(function(){return e},r))}mv.mergeMapTo=u3;var yv={};Object.defineProperty(yv,"__esModule",{value:!0});yv.mergeScan=void 0;var l3=re,c3=Ms;function f3(e,t,r){return r===void 0&&(r=1/0),l3.operate(function(n,i){var o=t;return c3.mergeInternals(n,i,function(a,s){return e(o,a,s)},r,function(a){o=a},!1,void 0,function(){return o=null})})}yv.mergeScan=f3;var gv={},bv={},d3=M&&M.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return o},h3=M&&M.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(bv,"__esModule",{value:!0});bv.merge=void 0;var v3=re,p3=Xn,m3=na,W1=dt,y3=Zr;function g3(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=W1.popScheduler(e),n=W1.popNumber(e,1/0);return e=p3.argsOrArgArray(e),v3.operate(function(i,o){m3.mergeAll(n)(y3.from(h3([i],d3(e)),r)).subscribe(o)})}bv.merge=g3;var b3=M&&M.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return o},_3=M&&M.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(gv,"__esModule",{value:!0});gv.mergeWith=void 0;var w3=bv;function S3(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return w3.merge.apply(void 0,_3([],b3(e)))}gv.mergeWith=S3;var _v={};Object.defineProperty(_v,"__esModule",{value:!0});_v.min=void 0;var O3=qi,E3=Re;function P3(e){return O3.reduce(E3.isFunction(e)?function(t,r){return e(t,r)<0?t:r}:function(t,r){return t<r?t:r})}_v.min=P3;var Ds={};Object.defineProperty(Ds,"__esModule",{value:!0});Ds.multicast=void 0;var x3=Jo,z1=Re,j3=Ns;function k3(e,t){var r=z1.isFunction(e)?e:function(){return e};return z1.isFunction(t)?j3.connect(t,{connector:r}):function(n){return new x3.ConnectableObservable(n,r)}}Ds.multicast=k3;var vs={},C3=M&&M.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return o},$3=M&&M.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(vs,"__esModule",{value:!0});vs.onErrorResumeNext=vs.onErrorResumeNextWith=void 0;var A3=Xn,R3=Vl;function bP(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=A3.argsOrArgArray(e);return function(n){return R3.onErrorResumeNext.apply(void 0,$3([n],C3(r)))}}vs.onErrorResumeNextWith=bP;vs.onErrorResumeNext=bP;var wv={};Object.defineProperty(wv,"__esModule",{value:!0});wv.pairwise=void 0;var T3=re,M3=ue;function I3(){return T3.operate(function(e,t){var r,n=!1;e.subscribe(M3.createOperatorSubscriber(t,function(i){var o=r;r=i,n&&t.next([o,i]),n=!0}))})}wv.pairwise=I3;var Sv={};Object.defineProperty(Sv,"__esModule",{value:!0});Sv.pluck=void 0;var N3=Sn;function D3(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=e.length;if(r===0)throw new Error("list of properties cannot be empty.");return N3.map(function(n){for(var i=n,o=0;o<r;o++){var a=i==null?void 0:i[e[o]];if(typeof a<"u")i=a;else return}return i})}Sv.pluck=D3;var Ov={};Object.defineProperty(Ov,"__esModule",{value:!0});Ov.publish=void 0;var L3=lt,F3=Ds,B3=Ns;function U3(e){return e?function(t){return B3.connect(e)(t)}:function(t){return F3.multicast(new L3.Subject)(t)}}Ov.publish=U3;var Ev={};Object.defineProperty(Ev,"__esModule",{value:!0});Ev.publishBehavior=void 0;var W3=jl,z3=Jo;function K3(e){return function(t){var r=new W3.BehaviorSubject(e);return new z3.ConnectableObservable(t,function(){return r})}}Ev.publishBehavior=K3;var Pv={};Object.defineProperty(Pv,"__esModule",{value:!0});Pv.publishLast=void 0;var V3=ks,q3=Jo;function H3(){return function(e){var t=new V3.AsyncSubject;return new q3.ConnectableObservable(e,function(){return t})}}Pv.publishLast=H3;var xv={};Object.defineProperty(xv,"__esModule",{value:!0});xv.publishReplay=void 0;var Q3=js,Y3=Ds,K1=Re;function G3(e,t,r,n){r&&!K1.isFunction(r)&&(n=r);var i=K1.isFunction(r)?r:void 0;return function(o){return Y3.multicast(new Q3.ReplaySubject(e,t,n),i)(o)}}xv.publishReplay=G3;var jv={},X3=M&&M.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return o},J3=M&&M.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(jv,"__esModule",{value:!0});jv.raceWith=void 0;var Z3=Do,e4=re,t4=Ot;function r4(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.length?e4.operate(function(r,n){Z3.raceInit(J3([r],X3(e)))(n)}):t4.identity}jv.raceWith=r4;var kv={};Object.defineProperty(kv,"__esModule",{value:!0});kv.repeat=void 0;var n4=Qr,i4=re,V1=ue,o4=de,a4=On;function s4(e){var t,r=1/0,n;return e!=null&&(typeof e=="object"?(t=e.count,r=t===void 0?1/0:t,n=e.delay):r=e),r<=0?function(){return n4.EMPTY}:i4.operate(function(i,o){var a=0,s,u=function(){if(s==null||s.unsubscribe(),s=null,n!=null){var c=typeof n=="number"?a4.timer(n):o4.innerFrom(n(a)),d=V1.createOperatorSubscriber(o,function(){d.unsubscribe(),l()});c.subscribe(d)}else l()},l=function(){var c=!1;s=i.subscribe(V1.createOperatorSubscriber(o,void 0,function(){++a<r?s?u():c=!0:o.complete()})),c&&u()};l()})}kv.repeat=s4;var Cv={};Object.defineProperty(Cv,"__esModule",{value:!0});Cv.repeatWhen=void 0;var u4=de,l4=lt,c4=re,q1=ue;function f4(e){return c4.operate(function(t,r){var n,i=!1,o,a=!1,s=!1,u=function(){return s&&a&&(r.complete(),!0)},l=function(){return o||(o=new l4.Subject,u4.innerFrom(e(o)).subscribe(q1.createOperatorSubscriber(r,function(){n?c():i=!0},function(){a=!0,u()}))),o},c=function(){s=!1,n=t.subscribe(q1.createOperatorSubscriber(r,void 0,function(){s=!0,!u()&&l().next()})),i&&(n.unsubscribe(),n=null,i=!1,c())};c()})}Cv.repeatWhen=f4;var $v={};Object.defineProperty($v,"__esModule",{value:!0});$v.retry=void 0;var d4=re,H1=ue,h4=Ot,v4=On,p4=de;function m4(e){e===void 0&&(e=1/0);var t;e&&typeof e=="object"?t=e:t={count:e};var r=t.count,n=r===void 0?1/0:r,i=t.delay,o=t.resetOnSuccess,a=o===void 0?!1:o;return n<=0?h4.identity:d4.operate(function(s,u){var l=0,c,d=function(){var f=!1;c=s.subscribe(H1.createOperatorSubscriber(u,function(h){a&&(l=0),u.next(h)},void 0,function(h){if(l++<n){var b=function(){c?(c.unsubscribe(),c=null,d()):f=!0};if(i!=null){var _=typeof i=="number"?v4.timer(i):p4.innerFrom(i(h,l)),j=H1.createOperatorSubscriber(u,function(){j.unsubscribe(),b()},function(){u.complete()});_.subscribe(j)}else b()}else u.error(h)})),f&&(c.unsubscribe(),c=null,d())};d()})}$v.retry=m4;var Av={};Object.defineProperty(Av,"__esModule",{value:!0});Av.retryWhen=void 0;var y4=de,g4=lt,b4=re,Q1=ue;function _4(e){return b4.operate(function(t,r){var n,i=!1,o,a=function(){n=t.subscribe(Q1.createOperatorSubscriber(r,void 0,void 0,function(s){o||(o=new g4.Subject,y4.innerFrom(e(o)).subscribe(Q1.createOperatorSubscriber(r,function(){return n?a():i=!0}))),o&&o.next(s)})),i&&(n.unsubscribe(),n=null,i=!1,a())};a()})}Av.retryWhen=_4;var oc={};Object.defineProperty(oc,"__esModule",{value:!0});oc.sample=void 0;var w4=de,S4=re,O4=St,Y1=ue;function E4(e){return S4.operate(function(t,r){var n=!1,i=null;t.subscribe(Y1.createOperatorSubscriber(r,function(o){n=!0,i=o})),w4.innerFrom(e).subscribe(Y1.createOperatorSubscriber(r,function(){if(n){n=!1;var o=i;i=null,r.next(o)}},O4.noop))})}oc.sample=E4;var Rv={};Object.defineProperty(Rv,"__esModule",{value:!0});Rv.sampleTime=void 0;var P4=ur,x4=oc,j4=Kl;function k4(e,t){return t===void 0&&(t=P4.asyncScheduler),x4.sample(j4.interval(e,t))}Rv.sampleTime=k4;var Tv={};Object.defineProperty(Tv,"__esModule",{value:!0});Tv.scan=void 0;var C4=re,$4=Gl;function A4(e,t){return C4.operate($4.scanInternals(e,t,arguments.length>=2,!0))}Tv.scan=A4;var Mv={};Object.defineProperty(Mv,"__esModule",{value:!0});Mv.sequenceEqual=void 0;var R4=re,T4=ue,M4=de;function I4(e,t){return t===void 0&&(t=function(r,n){return r===n}),R4.operate(function(r,n){var i=G1(),o=G1(),a=function(u){n.next(u),n.complete()},s=function(u,l){var c=T4.createOperatorSubscriber(n,function(d){var f=l.buffer,h=l.complete;f.length===0?h?a(!1):u.buffer.push(d):!t(d,f.shift())&&a(!1)},function(){u.complete=!0;var d=l.complete,f=l.buffer;d&&a(f.length===0),c==null||c.unsubscribe()});return c};r.subscribe(s(i,o)),M4.innerFrom(e).subscribe(s(o,i))})}Mv.sequenceEqual=I4;function G1(){return{buffer:[],complete:!1}}var ac={},N4=M&&M.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return o},D4=M&&M.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(ac,"__esModule",{value:!0});ac.share=void 0;var _P=de,L4=lt,wP=xs,F4=re;function B4(e){e===void 0&&(e={});var t=e.connector,r=t===void 0?function(){return new L4.Subject}:t,n=e.resetOnError,i=n===void 0?!0:n,o=e.resetOnComplete,a=o===void 0?!0:o,s=e.resetOnRefCountZero,u=s===void 0?!0:s;return function(l){var c,d,f,h=0,b=!1,_=!1,j=function(){d==null||d.unsubscribe(),d=void 0},g=function(){j(),c=f=void 0,b=_=!1},p=function(){var O=c;g(),O==null||O.unsubscribe()};return F4.operate(function(O,x){h++,!_&&!b&&j();var P=f=f??r();x.add(function(){h--,h===0&&!_&&!b&&(d=Pm(p,u))}),P.subscribe(x),!c&&h>0&&(c=new wP.SafeSubscriber({next:function(C){return P.next(C)},error:function(C){_=!0,j(),d=Pm(g,i,C),P.error(C)},complete:function(){b=!0,j(),d=Pm(g,a),P.complete()}}),_P.innerFrom(O).subscribe(c))})(l)}}ac.share=B4;function Pm(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];if(t===!0){e();return}if(t!==!1){var i=new wP.SafeSubscriber({next:function(){i.unsubscribe(),e()}});return _P.innerFrom(t.apply(void 0,D4([],N4(r)))).subscribe(i)}}var Iv={};Object.defineProperty(Iv,"__esModule",{value:!0});Iv.shareReplay=void 0;var U4=js,W4=ac;function z4(e,t,r){var n,i,o,a,s=!1;return e&&typeof e=="object"?(n=e.bufferSize,a=n===void 0?1/0:n,i=e.windowTime,t=i===void 0?1/0:i,o=e.refCount,s=o===void 0?!1:o,r=e.scheduler):a=e??1/0,W4.share({connector:function(){return new U4.ReplaySubject(a,t,r)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:s})}Iv.shareReplay=z4;var Nv={};Object.defineProperty(Nv,"__esModule",{value:!0});Nv.single=void 0;var K4=_n,V4=Bl,q4=Fl,H4=re,Q4=ue;function Y4(e){return H4.operate(function(t,r){var n=!1,i,o=!1,a=0;t.subscribe(Q4.createOperatorSubscriber(r,function(s){o=!0,(!e||e(s,a++,t))&&(n&&r.error(new V4.SequenceError("Too many matching values")),n=!0,i=s)},function(){n?(r.next(i),r.complete()):r.error(o?new q4.NotFoundError("No matching values"):new K4.EmptyError)}))})}Nv.single=Y4;var Dv={};Object.defineProperty(Dv,"__esModule",{value:!0});Dv.skip=void 0;var G4=Jn;function X4(e){return G4.filter(function(t,r){return e<=r})}Dv.skip=X4;var Lv={};Object.defineProperty(Lv,"__esModule",{value:!0});Lv.skipLast=void 0;var J4=Ot,Z4=re,eB=ue;function tB(e){return e<=0?J4.identity:Z4.operate(function(t,r){var n=new Array(e),i=0;return t.subscribe(eB.createOperatorSubscriber(r,function(o){var a=i++;if(a<e)n[a]=o;else{var s=a%e,u=n[s];n[s]=o,r.next(u)}})),function(){n=null}})}Lv.skipLast=tB;var Fv={};Object.defineProperty(Fv,"__esModule",{value:!0});Fv.skipUntil=void 0;var rB=re,X1=ue,nB=de,iB=St;function oB(e){return rB.operate(function(t,r){var n=!1,i=X1.createOperatorSubscriber(r,function(){i==null||i.unsubscribe(),n=!0},iB.noop);nB.innerFrom(e).subscribe(i),t.subscribe(X1.createOperatorSubscriber(r,function(o){return n&&r.next(o)}))})}Fv.skipUntil=oB;var Bv={};Object.defineProperty(Bv,"__esModule",{value:!0});Bv.skipWhile=void 0;var aB=re,sB=ue;function uB(e){return aB.operate(function(t,r){var n=!1,i=0;t.subscribe(sB.createOperatorSubscriber(r,function(o){return(n||(n=!e(o,i++)))&&r.next(o)}))})}Bv.skipWhile=uB;var Uv={};Object.defineProperty(Uv,"__esModule",{value:!0});Uv.startWith=void 0;var J1=ra,lB=dt,cB=re;function fB(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=lB.popScheduler(e);return cB.operate(function(n,i){(r?J1.concat(e,n,r):J1.concat(e,n)).subscribe(i)})}Uv.startWith=fB;var Wv={},ua={};Object.defineProperty(ua,"__esModule",{value:!0});ua.switchMap=void 0;var dB=de,hB=re,Z1=ue;function vB(e,t){return hB.operate(function(r,n){var i=null,o=0,a=!1,s=function(){return a&&!i&&n.complete()};r.subscribe(Z1.createOperatorSubscriber(n,function(u){i==null||i.unsubscribe();var l=0,c=o++;dB.innerFrom(e(u,c)).subscribe(i=Z1.createOperatorSubscriber(n,function(d){return n.next(t?t(u,d,c,l++):d)},function(){i=null,s()}))},function(){a=!0,s()}))})}ua.switchMap=vB;Object.defineProperty(Wv,"__esModule",{value:!0});Wv.switchAll=void 0;var pB=ua,mB=Ot;function yB(){return pB.switchMap(mB.identity)}Wv.switchAll=yB;var zv={};Object.defineProperty(zv,"__esModule",{value:!0});zv.switchMapTo=void 0;var ew=ua,gB=Re;function bB(e,t){return gB.isFunction(t)?ew.switchMap(function(){return e},t):ew.switchMap(function(){return e})}zv.switchMapTo=bB;var Kv={};Object.defineProperty(Kv,"__esModule",{value:!0});Kv.switchScan=void 0;var _B=ua,wB=re;function SB(e,t){return wB.operate(function(r,n){var i=t;return _B.switchMap(function(o,a){return e(i,o,a)},function(o,a){return i=a,a})(r).subscribe(n),function(){i=null}})}Kv.switchScan=SB;var Vv={};Object.defineProperty(Vv,"__esModule",{value:!0});Vv.takeUntil=void 0;var OB=re,EB=ue,PB=de,xB=St;function jB(e){return OB.operate(function(t,r){PB.innerFrom(e).subscribe(EB.createOperatorSubscriber(r,function(){return r.complete()},xB.noop)),!r.closed&&t.subscribe(r)})}Vv.takeUntil=jB;var qv={};Object.defineProperty(qv,"__esModule",{value:!0});qv.takeWhile=void 0;var kB=re,CB=ue;function $B(e,t){return t===void 0&&(t=!1),kB.operate(function(r,n){var i=0;r.subscribe(CB.createOperatorSubscriber(n,function(o){var a=e(o,i++);(a||t)&&n.next(o),!a&&n.complete()}))})}qv.takeWhile=$B;var Hv={};Object.defineProperty(Hv,"__esModule",{value:!0});Hv.tap=void 0;var AB=Re,RB=re,TB=ue,MB=Ot;function IB(e,t,r){var n=AB.isFunction(e)||t||r?{next:e,error:t,complete:r}:e;return n?RB.operate(function(i,o){var a;(a=n.subscribe)===null||a===void 0||a.call(n);var s=!0;i.subscribe(TB.createOperatorSubscriber(o,function(u){var l;(l=n.next)===null||l===void 0||l.call(n,u),o.next(u)},function(){var u;s=!1,(u=n.complete)===null||u===void 0||u.call(n),o.complete()},function(u){var l;s=!1,(l=n.error)===null||l===void 0||l.call(n,u),o.error(u)},function(){var u,l;s&&((u=n.unsubscribe)===null||u===void 0||u.call(n)),(l=n.finalize)===null||l===void 0||l.call(n)}))}):MB.identity}Hv.tap=IB;var sc={};Object.defineProperty(sc,"__esModule",{value:!0});sc.throttle=void 0;var NB=re,tw=ue,DB=de;function LB(e,t){return NB.operate(function(r,n){var i=t??{},o=i.leading,a=o===void 0?!0:o,s=i.trailing,u=s===void 0?!1:s,l=!1,c=null,d=null,f=!1,h=function(){d==null||d.unsubscribe(),d=null,u&&(j(),f&&n.complete())},b=function(){d=null,f&&n.complete()},_=function(g){return d=DB.innerFrom(e(g)).subscribe(tw.createOperatorSubscriber(n,h,b))},j=function(){if(l){l=!1;var g=c;c=null,n.next(g),!f&&_(g)}};r.subscribe(tw.createOperatorSubscriber(n,function(g){l=!0,c=g,!(d&&!d.closed)&&(a?j():_(g))},function(){f=!0,!(u&&l&&d&&!d.closed)&&n.complete()}))})}sc.throttle=LB;var Qv={};Object.defineProperty(Qv,"__esModule",{value:!0});Qv.throttleTime=void 0;var FB=ur,BB=sc,UB=On;function WB(e,t,r){t===void 0&&(t=FB.asyncScheduler);var n=UB.timer(e,t);return BB.throttle(function(){return n},r)}Qv.throttleTime=WB;var ps={};Object.defineProperty(ps,"__esModule",{value:!0});ps.TimeInterval=ps.timeInterval=void 0;var zB=ur,KB=re,VB=ue;function qB(e){return e===void 0&&(e=zB.asyncScheduler),KB.operate(function(t,r){var n=e.now();t.subscribe(VB.createOperatorSubscriber(r,function(i){var o=e.now(),a=o-n;n=o,r.next(new SP(i,a))}))})}ps.timeInterval=qB;var SP=function(){function e(t,r){this.value=t,this.interval=r}return e}();ps.TimeInterval=SP;var Yv={};Object.defineProperty(Yv,"__esModule",{value:!0});Yv.timeoutWith=void 0;var HB=ur,QB=Rs,YB=bd;function GB(e,t,r){var n,i,o;if(r=r??HB.async,QB.isValidDate(e)?n=e:typeof e=="number"&&(i=e),t)o=function(){return t};else throw new TypeError("No observable provided to switch to");if(n==null&&i==null)throw new TypeError("No timeout provided.");return YB.timeout({first:n,each:i,scheduler:r,with:o})}Yv.timeoutWith=GB;var Gv={};Object.defineProperty(Gv,"__esModule",{value:!0});Gv.timestamp=void 0;var XB=oh,JB=Sn;function ZB(e){return e===void 0&&(e=XB.dateTimestampProvider),JB.map(function(t){return{value:t,timestamp:e.now()}})}Gv.timestamp=ZB;var Xv={};Object.defineProperty(Xv,"__esModule",{value:!0});Xv.window=void 0;var rw=lt,e5=re,nw=ue,t5=St,r5=de;function n5(e){return e5.operate(function(t,r){var n=new rw.Subject;r.next(n.asObservable());var i=function(o){n.error(o),r.error(o)};return t.subscribe(nw.createOperatorSubscriber(r,function(o){return n==null?void 0:n.next(o)},function(){n.complete(),r.complete()},i)),r5.innerFrom(e).subscribe(nw.createOperatorSubscriber(r,function(){n.complete(),r.next(n=new rw.Subject)},t5.noop,i)),function(){n==null||n.unsubscribe(),n=null}})}Xv.window=n5;var Jv={},i5=M&&M.__values||function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(Jv,"__esModule",{value:!0});Jv.windowCount=void 0;var iw=lt,o5=re,a5=ue;function s5(e,t){t===void 0&&(t=0);var r=t>0?t:e;return o5.operate(function(n,i){var o=[new iw.Subject],a=0;i.next(o[0].asObservable()),n.subscribe(a5.createOperatorSubscriber(i,function(s){var u,l;try{for(var c=i5(o),d=c.next();!d.done;d=c.next()){var f=d.value;f.next(s)}}catch(_){u={error:_}}finally{try{d&&!d.done&&(l=c.return)&&l.call(c)}finally{if(u)throw u.error}}var h=a-e+1;if(h>=0&&h%r===0&&o.shift().complete(),++a%r===0){var b=new iw.Subject;o.push(b),i.next(b.asObservable())}},function(){for(;o.length>0;)o.shift().complete();i.complete()},function(s){for(;o.length>0;)o.shift().error(s);i.error(s)},function(){o=null}))})}Jv.windowCount=s5;var Zv={};Object.defineProperty(Zv,"__esModule",{value:!0});Zv.windowTime=void 0;var u5=lt,l5=ur,c5=bt,f5=re,d5=ue,h5=Jr,v5=dt,ow=en;function p5(e){for(var t,r,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var o=(t=v5.popScheduler(n))!==null&&t!==void 0?t:l5.asyncScheduler,a=(r=n[0])!==null&&r!==void 0?r:null,s=n[1]||1/0;return f5.operate(function(u,l){var c=[],d=!1,f=function(j){var g=j.window,p=j.subs;g.complete(),p.unsubscribe(),h5.arrRemove(c,j),d&&h()},h=function(){if(c){var j=new c5.Subscription;l.add(j);var g=new u5.Subject,p={window:g,subs:j,seen:0};c.push(p),l.next(g.asObservable()),ow.executeSchedule(j,o,function(){return f(p)},e)}};a!==null&&a>=0?ow.executeSchedule(l,o,h,a,!0):d=!0,h();var b=function(j){return c.slice().forEach(j)},_=function(j){b(function(g){var p=g.window;return j(p)}),j(l),l.unsubscribe()};return u.subscribe(d5.createOperatorSubscriber(l,function(j){b(function(g){g.window.next(j),s<=++g.seen&&f(g)})},function(){return _(function(j){return j.complete()})},function(j){return _(function(g){return g.error(j)})})),function(){c=null}})}Zv.windowTime=p5;var ep={},m5=M&&M.__values||function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(ep,"__esModule",{value:!0});ep.windowToggle=void 0;var y5=lt,g5=bt,b5=re,aw=de,xm=ue,sw=St,_5=Jr;function w5(e,t){return b5.operate(function(r,n){var i=[],o=function(a){for(;0<i.length;)i.shift().error(a);n.error(a)};aw.innerFrom(e).subscribe(xm.createOperatorSubscriber(n,function(a){var s=new y5.Subject;i.push(s);var u=new g5.Subscription,l=function(){_5.arrRemove(i,s),s.complete(),u.unsubscribe()},c;try{c=aw.innerFrom(t(a))}catch(d){o(d);return}n.next(s.asObservable()),u.add(c.subscribe(xm.createOperatorSubscriber(n,l,sw.noop,o)))},sw.noop)),r.subscribe(xm.createOperatorSubscriber(n,function(a){var s,u,l=i.slice();try{for(var c=m5(l),d=c.next();!d.done;d=c.next()){var f=d.value;f.next(a)}}catch(h){s={error:h}}finally{try{d&&!d.done&&(u=c.return)&&u.call(c)}finally{if(s)throw s.error}}},function(){for(;0<i.length;)i.shift().complete();n.complete()},o,function(){for(;0<i.length;)i.shift().unsubscribe()}))})}ep.windowToggle=w5;var tp={};Object.defineProperty(tp,"__esModule",{value:!0});tp.windowWhen=void 0;var S5=lt,O5=re,uw=ue,E5=de;function P5(e){return O5.operate(function(t,r){var n,i,o=function(s){n.error(s),r.error(s)},a=function(){i==null||i.unsubscribe(),n==null||n.complete(),n=new S5.Subject,r.next(n.asObservable());var s;try{s=E5.innerFrom(e())}catch(u){o(u);return}s.subscribe(i=uw.createOperatorSubscriber(r,a,a,o))};a(),t.subscribe(uw.createOperatorSubscriber(r,function(s){return n.next(s)},function(){n.complete(),r.complete()},o,function(){i==null||i.unsubscribe(),n=null}))})}tp.windowWhen=P5;var rp={},lw=M&&M.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return o},cw=M&&M.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(rp,"__esModule",{value:!0});rp.withLatestFrom=void 0;var x5=re,fw=ue,j5=de,k5=Ot,C5=St,$5=dt;function A5(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=$5.popResultSelector(e);return x5.operate(function(n,i){for(var o=e.length,a=new Array(o),s=e.map(function(){return!1}),u=!1,l=function(d){j5.innerFrom(e[d]).subscribe(fw.createOperatorSubscriber(i,function(f){a[d]=f,!u&&!s[d]&&(s[d]=!0,(u=s.every(k5.identity))&&(s=null))},C5.noop))},c=0;c<o;c++)l(c);n.subscribe(fw.createOperatorSubscriber(i,function(d){if(u){var f=cw([d],lw(a));i.next(r?r.apply(void 0,cw([],lw(f))):f)}}))})}rp.withLatestFrom=A5;var np={};Object.defineProperty(np,"__esModule",{value:!0});np.zipAll=void 0;var R5=Is,T5=Ql;function M5(e){return T5.joinAllInternals(R5.zip,e)}np.zipAll=M5;var ip={},op={},I5=M&&M.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return o},N5=M&&M.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(op,"__esModule",{value:!0});op.zip=void 0;var D5=Is,L5=re;function F5(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return L5.operate(function(r,n){D5.zip.apply(void 0,N5([r],I5(e))).subscribe(n)})}op.zip=F5;var B5=M&&M.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return o},U5=M&&M.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(ip,"__esModule",{value:!0});ip.zipWith=void 0;var W5=op;function z5(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return W5.zip.apply(void 0,U5([],B5(e)))}ip.zipWith=z5;(function(e){var t=M&&M.__createBinding||(Object.create?function(J,ce,te,je){je===void 0&&(je=te),Object.defineProperty(J,je,{enumerable:!0,get:function(){return ce[te]}})}:function(J,ce,te,je){je===void 0&&(je=te),J[je]=ce[te]}),r=M&&M.__exportStar||function(J,ce){for(var te in J)te!=="default"&&!Object.prototype.hasOwnProperty.call(ce,te)&&t(ce,J,te)};Object.defineProperty(e,"__esModule",{value:!0}),e.interval=e.iif=e.generate=e.fromEventPattern=e.fromEvent=e.from=e.forkJoin=e.empty=e.defer=e.connectable=e.concat=e.combineLatest=e.bindNodeCallback=e.bindCallback=e.UnsubscriptionError=e.TimeoutError=e.SequenceError=e.ObjectUnsubscribedError=e.NotFoundError=e.EmptyError=e.ArgumentOutOfRangeError=e.firstValueFrom=e.lastValueFrom=e.isObservable=e.identity=e.noop=e.pipe=e.NotificationKind=e.Notification=e.Subscriber=e.Subscription=e.Scheduler=e.VirtualAction=e.VirtualTimeScheduler=e.animationFrameScheduler=e.animationFrame=e.queueScheduler=e.queue=e.asyncScheduler=e.async=e.asapScheduler=e.asap=e.AsyncSubject=e.ReplaySubject=e.BehaviorSubject=e.Subject=e.animationFrames=e.observable=e.ConnectableObservable=e.Observable=void 0,e.filter=e.expand=e.exhaustMap=e.exhaustAll=e.exhaust=e.every=e.endWith=e.elementAt=e.distinctUntilKeyChanged=e.distinctUntilChanged=e.distinct=e.dematerialize=e.delayWhen=e.delay=e.defaultIfEmpty=e.debounceTime=e.debounce=e.count=e.connect=e.concatWith=e.concatMapTo=e.concatMap=e.concatAll=e.combineLatestWith=e.combineLatestAll=e.combineAll=e.catchError=e.bufferWhen=e.bufferToggle=e.bufferTime=e.bufferCount=e.buffer=e.auditTime=e.audit=e.config=e.NEVER=e.EMPTY=e.scheduled=e.zip=e.using=e.timer=e.throwError=e.range=e.race=e.partition=e.pairs=e.onErrorResumeNext=e.of=e.never=e.merge=void 0,e.switchMap=e.switchAll=e.subscribeOn=e.startWith=e.skipWhile=e.skipUntil=e.skipLast=e.skip=e.single=e.shareReplay=e.share=e.sequenceEqual=e.scan=e.sampleTime=e.sample=e.refCount=e.retryWhen=e.retry=e.repeatWhen=e.repeat=e.reduce=e.raceWith=e.publishReplay=e.publishLast=e.publishBehavior=e.publish=e.pluck=e.pairwise=e.onErrorResumeNextWith=e.observeOn=e.multicast=e.min=e.mergeWith=e.mergeScan=e.mergeMapTo=e.mergeMap=e.flatMap=e.mergeAll=e.max=e.materialize=e.mapTo=e.map=e.last=e.isEmpty=e.ignoreElements=e.groupBy=e.first=e.findIndex=e.find=e.finalize=void 0,e.zipWith=e.zipAll=e.withLatestFrom=e.windowWhen=e.windowToggle=e.windowTime=e.windowCount=e.window=e.toArray=e.timestamp=e.timeoutWith=e.timeout=e.timeInterval=e.throwIfEmpty=e.throttleTime=e.throttle=e.tap=e.takeWhile=e.takeUntil=e.takeLast=e.take=e.switchScan=e.switchMapTo=void 0;var n=Ie;Object.defineProperty(e,"Observable",{enumerable:!0,get:function(){return n.Observable}});var i=Jo;Object.defineProperty(e,"ConnectableObservable",{enumerable:!0,get:function(){return i.ConnectableObservable}});var o=Xo;Object.defineProperty(e,"observable",{enumerable:!0,get:function(){return o.observable}});var a=ih;Object.defineProperty(e,"animationFrames",{enumerable:!0,get:function(){return a.animationFrames}});var s=lt;Object.defineProperty(e,"Subject",{enumerable:!0,get:function(){return s.Subject}});var u=jl;Object.defineProperty(e,"BehaviorSubject",{enumerable:!0,get:function(){return u.BehaviorSubject}});var l=js;Object.defineProperty(e,"ReplaySubject",{enumerable:!0,get:function(){return l.ReplaySubject}});var c=ks;Object.defineProperty(e,"AsyncSubject",{enumerable:!0,get:function(){return c.AsyncSubject}});var d=qE;Object.defineProperty(e,"asap",{enumerable:!0,get:function(){return d.asap}}),Object.defineProperty(e,"asapScheduler",{enumerable:!0,get:function(){return d.asapScheduler}});var f=ur;Object.defineProperty(e,"async",{enumerable:!0,get:function(){return f.async}}),Object.defineProperty(e,"asyncScheduler",{enumerable:!0,get:function(){return f.asyncScheduler}});var h=YE;Object.defineProperty(e,"queue",{enumerable:!0,get:function(){return h.queue}}),Object.defineProperty(e,"queueScheduler",{enumerable:!0,get:function(){return h.queueScheduler}});var b=GE;Object.defineProperty(e,"animationFrame",{enumerable:!0,get:function(){return b.animationFrame}}),Object.defineProperty(e,"animationFrameScheduler",{enumerable:!0,get:function(){return b.animationFrameScheduler}});var _=hs;Object.defineProperty(e,"VirtualTimeScheduler",{enumerable:!0,get:function(){return _.VirtualTimeScheduler}}),Object.defineProperty(e,"VirtualAction",{enumerable:!0,get:function(){return _.VirtualAction}});var j=kl;Object.defineProperty(e,"Scheduler",{enumerable:!0,get:function(){return j.Scheduler}});var g=bt;Object.defineProperty(e,"Subscription",{enumerable:!0,get:function(){return g.Subscription}});var p=xs;Object.defineProperty(e,"Subscriber",{enumerable:!0,get:function(){return p.Subscriber}});var O=hh;Object.defineProperty(e,"Notification",{enumerable:!0,get:function(){return O.Notification}}),Object.defineProperty(e,"NotificationKind",{enumerable:!0,get:function(){return O.NotificationKind}});var x=Vn;Object.defineProperty(e,"pipe",{enumerable:!0,get:function(){return x.pipe}});var P=St;Object.defineProperty(e,"noop",{enumerable:!0,get:function(){return P.noop}});var C=Ot;Object.defineProperty(e,"identity",{enumerable:!0,get:function(){return C.identity}});var A=gh;Object.defineProperty(e,"isObservable",{enumerable:!0,get:function(){return A.isObservable}});var D=bh;Object.defineProperty(e,"lastValueFrom",{enumerable:!0,get:function(){return D.lastValueFrom}});var B=_h;Object.defineProperty(e,"firstValueFrom",{enumerable:!0,get:function(){return B.firstValueFrom}});var V=Ll;Object.defineProperty(e,"ArgumentOutOfRangeError",{enumerable:!0,get:function(){return V.ArgumentOutOfRangeError}});var X=_n;Object.defineProperty(e,"EmptyError",{enumerable:!0,get:function(){return X.EmptyError}});var fe=Fl;Object.defineProperty(e,"NotFoundError",{enumerable:!0,get:function(){return fe.NotFoundError}});var he=xl;Object.defineProperty(e,"ObjectUnsubscribedError",{enumerable:!0,get:function(){return he.ObjectUnsubscribedError}});var pe=Bl;Object.defineProperty(e,"SequenceError",{enumerable:!0,get:function(){return pe.SequenceError}});var $=bd;Object.defineProperty(e,"TimeoutError",{enumerable:!0,get:function(){return $.TimeoutError}});var y=Ol;Object.defineProperty(e,"UnsubscriptionError",{enumerable:!0,get:function(){return y.UnsubscriptionError}});var k=wh;Object.defineProperty(e,"bindCallback",{enumerable:!0,get:function(){return k.bindCallback}});var R=Sh;Object.defineProperty(e,"bindNodeCallback",{enumerable:!0,get:function(){return R.bindNodeCallback}});var L=Ni;Object.defineProperty(e,"combineLatest",{enumerable:!0,get:function(){return L.combineLatest}});var F=ra;Object.defineProperty(e,"concat",{enumerable:!0,get:function(){return F.concat}});var K=Oh;Object.defineProperty(e,"connectable",{enumerable:!0,get:function(){return K.connectable}});var Z=ia;Object.defineProperty(e,"defer",{enumerable:!0,get:function(){return Z.defer}});var ne=Qr;Object.defineProperty(e,"empty",{enumerable:!0,get:function(){return ne.empty}});var Y=Eh;Object.defineProperty(e,"forkJoin",{enumerable:!0,get:function(){return Y.forkJoin}});var me=Zr;Object.defineProperty(e,"from",{enumerable:!0,get:function(){return me.from}});var Se=Ph;Object.defineProperty(e,"fromEvent",{enumerable:!0,get:function(){return Se.fromEvent}});var Fe=xh;Object.defineProperty(e,"fromEventPattern",{enumerable:!0,get:function(){return Fe.fromEventPattern}});var We=jh;Object.defineProperty(e,"generate",{enumerable:!0,get:function(){return We.generate}});var Et=kh;Object.defineProperty(e,"iif",{enumerable:!0,get:function(){return Et.iif}});var zt=Kl;Object.defineProperty(e,"interval",{enumerable:!0,get:function(){return zt.interval}});var nn=Ch;Object.defineProperty(e,"merge",{enumerable:!0,get:function(){return nn.merge}});var ri=Yy;Object.defineProperty(e,"never",{enumerable:!0,get:function(){return ri.never}});var Kt=Cs;Object.defineProperty(e,"of",{enumerable:!0,get:function(){return Kt.of}});var pt=Vl;Object.defineProperty(e,"onErrorResumeNext",{enumerable:!0,get:function(){return pt.onErrorResumeNext}});var Ye=$h;Object.defineProperty(e,"pairs",{enumerable:!0,get:function(){return Ye.pairs}});var Be=Ah;Object.defineProperty(e,"partition",{enumerable:!0,get:function(){return Be.partition}});var tt=Do;Object.defineProperty(e,"race",{enumerable:!0,get:function(){return tt.race}});var Ge=Th;Object.defineProperty(e,"range",{enumerable:!0,get:function(){return Ge.range}});var Mt=Dl;Object.defineProperty(e,"throwError",{enumerable:!0,get:function(){return Mt.throwError}});var ni=On;Object.defineProperty(e,"timer",{enumerable:!0,get:function(){return ni.timer}});var gc=Mh;Object.defineProperty(e,"using",{enumerable:!0,get:function(){return gc.using}});var wp=Is;Object.defineProperty(e,"zip",{enumerable:!0,get:function(){return wp.zip}});var Ks=Cl;Object.defineProperty(e,"scheduled",{enumerable:!0,get:function(){return Ks.scheduled}});var bc=Qr;Object.defineProperty(e,"EMPTY",{enumerable:!0,get:function(){return bc.EMPTY}});var fa=Yy;Object.defineProperty(e,"NEVER",{enumerable:!0,get:function(){return fa.NEVER}}),r(hP,e);var _c=zi;Object.defineProperty(e,"config",{enumerable:!0,get:function(){return _c.config}});var er=ql;Object.defineProperty(e,"audit",{enumerable:!0,get:function(){return er.audit}});var ii=Ih;Object.defineProperty(e,"auditTime",{enumerable:!0,get:function(){return ii.auditTime}});var _e=Nh;Object.defineProperty(e,"buffer",{enumerable:!0,get:function(){return _e.buffer}});var lr=Dh;Object.defineProperty(e,"bufferCount",{enumerable:!0,get:function(){return lr.bufferCount}});var _r=Lh;Object.defineProperty(e,"bufferTime",{enumerable:!0,get:function(){return _r.bufferTime}});var wc=Fh;Object.defineProperty(e,"bufferToggle",{enumerable:!0,get:function(){return wc.bufferToggle}});var Sc=Bh;Object.defineProperty(e,"bufferWhen",{enumerable:!0,get:function(){return Sc.bufferWhen}});var Oc=Uh;Object.defineProperty(e,"catchError",{enumerable:!0,get:function(){return Oc.catchError}});var Xe=Wh;Object.defineProperty(e,"combineAll",{enumerable:!0,get:function(){return Xe.combineAll}});var Gi=Hl;Object.defineProperty(e,"combineLatestAll",{enumerable:!0,get:function(){return Gi.combineLatestAll}});var Vs=zh;Object.defineProperty(e,"combineLatestWith",{enumerable:!0,get:function(){return Vs.combineLatestWith}});var Xi=Ts;Object.defineProperty(e,"concatAll",{enumerable:!0,get:function(){return Xi.concatAll}});var Mr=Xl;Object.defineProperty(e,"concatMap",{enumerable:!0,get:function(){return Mr.concatMap}});var qs=Vh;Object.defineProperty(e,"concatMapTo",{enumerable:!0,get:function(){return qs.concatMapTo}});var jn=qh;Object.defineProperty(e,"concatWith",{enumerable:!0,get:function(){return jn.concatWith}});var Ec=Ns;Object.defineProperty(e,"connect",{enumerable:!0,get:function(){return Ec.connect}});var Ji=Yh;Object.defineProperty(e,"count",{enumerable:!0,get:function(){return Ji.count}});var da=Gh;Object.defineProperty(e,"debounce",{enumerable:!0,get:function(){return da.debounce}});var Hs=Xh;Object.defineProperty(e,"debounceTime",{enumerable:!0,get:function(){return Hs.debounceTime}});var Pc=oa;Object.defineProperty(e,"defaultIfEmpty",{enumerable:!0,get:function(){return Pc.defaultIfEmpty}});var xc=Jh;Object.defineProperty(e,"delay",{enumerable:!0,get:function(){return xc.delay}});var jc=Jl;Object.defineProperty(e,"delayWhen",{enumerable:!0,get:function(){return jc.delayWhen}});var Sp=Zh;Object.defineProperty(e,"dematerialize",{enumerable:!0,get:function(){return Sp.dematerialize}});var kc=ev;Object.defineProperty(e,"distinct",{enumerable:!0,get:function(){return kc.distinct}});var ha=tc;Object.defineProperty(e,"distinctUntilChanged",{enumerable:!0,get:function(){return ha.distinctUntilChanged}});var va=tv;Object.defineProperty(e,"distinctUntilKeyChanged",{enumerable:!0,get:function(){return va.distinctUntilKeyChanged}});var oi=rv;Object.defineProperty(e,"elementAt",{enumerable:!0,get:function(){return oi.elementAt}});var pa=nv;Object.defineProperty(e,"endWith",{enumerable:!0,get:function(){return pa.endWith}});var Zi=iv;Object.defineProperty(e,"every",{enumerable:!0,get:function(){return Zi.every}});var eo=ov;Object.defineProperty(e,"exhaust",{enumerable:!0,get:function(){return eo.exhaust}});var ai=rc;Object.defineProperty(e,"exhaustAll",{enumerable:!0,get:function(){return ai.exhaustAll}});var ma=nc;Object.defineProperty(e,"exhaustMap",{enumerable:!0,get:function(){return ma.exhaustMap}});var Vt=av;Object.defineProperty(e,"expand",{enumerable:!0,get:function(){return Vt.expand}});var ya=Jn;Object.defineProperty(e,"filter",{enumerable:!0,get:function(){return ya.filter}});var Op=sv;Object.defineProperty(e,"finalize",{enumerable:!0,get:function(){return Op.finalize}});var wr=Lo;Object.defineProperty(e,"find",{enumerable:!0,get:function(){return wr.find}});var Qs=uv;Object.defineProperty(e,"findIndex",{enumerable:!0,get:function(){return Qs.findIndex}});var on=lv;Object.defineProperty(e,"first",{enumerable:!0,get:function(){return on.first}});var Ys=cv;Object.defineProperty(e,"groupBy",{enumerable:!0,get:function(){return Ys.groupBy}});var Gs=Zl;Object.defineProperty(e,"ignoreElements",{enumerable:!0,get:function(){return Gs.ignoreElements}});var Ep=fv;Object.defineProperty(e,"isEmpty",{enumerable:!0,get:function(){return Ep.isEmpty}});var ga=dv;Object.defineProperty(e,"last",{enumerable:!0,get:function(){return ga.last}});var Pp=Sn;Object.defineProperty(e,"map",{enumerable:!0,get:function(){return Pp.map}});var xp=ec;Object.defineProperty(e,"mapTo",{enumerable:!0,get:function(){return xp.mapTo}});var jp=hv;Object.defineProperty(e,"materialize",{enumerable:!0,get:function(){return jp.materialize}});var Ir=vv;Object.defineProperty(e,"max",{enumerable:!0,get:function(){return Ir.max}});var Cc=na;Object.defineProperty(e,"mergeAll",{enumerable:!0,get:function(){return Cc.mergeAll}});var kp=pv;Object.defineProperty(e,"flatMap",{enumerable:!0,get:function(){return kp.flatMap}});var Pt=tn;Object.defineProperty(e,"mergeMap",{enumerable:!0,get:function(){return Pt.mergeMap}});var $c=mv;Object.defineProperty(e,"mergeMapTo",{enumerable:!0,get:function(){return $c.mergeMapTo}});var Nr=yv;Object.defineProperty(e,"mergeScan",{enumerable:!0,get:function(){return Nr.mergeScan}});var ba=gv;Object.defineProperty(e,"mergeWith",{enumerable:!0,get:function(){return ba.mergeWith}});var _a=_v;Object.defineProperty(e,"min",{enumerable:!0,get:function(){return _a.min}});var Ac=Ds;Object.defineProperty(e,"multicast",{enumerable:!0,get:function(){return Ac.multicast}});var Xs=ea;Object.defineProperty(e,"observeOn",{enumerable:!0,get:function(){return Xs.observeOn}});var Cp=vs;Object.defineProperty(e,"onErrorResumeNextWith",{enumerable:!0,get:function(){return Cp.onErrorResumeNextWith}});var Js=wv;Object.defineProperty(e,"pairwise",{enumerable:!0,get:function(){return Js.pairwise}});var $p=Sv;Object.defineProperty(e,"pluck",{enumerable:!0,get:function(){return $p.pluck}});var Ap=Ov;Object.defineProperty(e,"publish",{enumerable:!0,get:function(){return Ap.publish}});var Rc=Ev;Object.defineProperty(e,"publishBehavior",{enumerable:!0,get:function(){return Rc.publishBehavior}});var Tc=Pv;Object.defineProperty(e,"publishLast",{enumerable:!0,get:function(){return Tc.publishLast}});var Mc=xv;Object.defineProperty(e,"publishReplay",{enumerable:!0,get:function(){return Mc.publishReplay}});var wa=jv;Object.defineProperty(e,"raceWith",{enumerable:!0,get:function(){return wa.raceWith}});var Ic=qi;Object.defineProperty(e,"reduce",{enumerable:!0,get:function(){return Ic.reduce}});var Rp=kv;Object.defineProperty(e,"repeat",{enumerable:!0,get:function(){return Rp.repeat}});var Tp=Cv;Object.defineProperty(e,"repeatWhen",{enumerable:!0,get:function(){return Tp.repeatWhen}});var Mp=$v;Object.defineProperty(e,"retry",{enumerable:!0,get:function(){return Mp.retry}});var Ip=Av;Object.defineProperty(e,"retryWhen",{enumerable:!0,get:function(){return Ip.retryWhen}});var Np=Pl;Object.defineProperty(e,"refCount",{enumerable:!0,get:function(){return Np.refCount}});var Dp=oc;Object.defineProperty(e,"sample",{enumerable:!0,get:function(){return Dp.sample}});var Lp=Rv;Object.defineProperty(e,"sampleTime",{enumerable:!0,get:function(){return Lp.sampleTime}});var Sa=Tv;Object.defineProperty(e,"scan",{enumerable:!0,get:function(){return Sa.scan}});var Oa=Mv;Object.defineProperty(e,"sequenceEqual",{enumerable:!0,get:function(){return Oa.sequenceEqual}});var Fp=ac;Object.defineProperty(e,"share",{enumerable:!0,get:function(){return Fp.share}});var Bp=Iv;Object.defineProperty(e,"shareReplay",{enumerable:!0,get:function(){return Bp.shareReplay}});var Nc=Nv;Object.defineProperty(e,"single",{enumerable:!0,get:function(){return Nc.single}});var Zs=Dv;Object.defineProperty(e,"skip",{enumerable:!0,get:function(){return Zs.skip}});var Dc=Lv;Object.defineProperty(e,"skipLast",{enumerable:!0,get:function(){return Dc.skipLast}});var eu=Fv;Object.defineProperty(e,"skipUntil",{enumerable:!0,get:function(){return eu.skipUntil}});var Up=Bv;Object.defineProperty(e,"skipWhile",{enumerable:!0,get:function(){return Up.skipWhile}});var Ea=Uv;Object.defineProperty(e,"startWith",{enumerable:!0,get:function(){return Ea.startWith}});var Lc=ta;Object.defineProperty(e,"subscribeOn",{enumerable:!0,get:function(){return Lc.subscribeOn}});var Fc=Wv;Object.defineProperty(e,"switchAll",{enumerable:!0,get:function(){return Fc.switchAll}});var Wp=ua;Object.defineProperty(e,"switchMap",{enumerable:!0,get:function(){return Wp.switchMap}});var zp=zv;Object.defineProperty(e,"switchMapTo",{enumerable:!0,get:function(){return zp.switchMapTo}});var Bc=Kv;Object.defineProperty(e,"switchScan",{enumerable:!0,get:function(){return Bc.switchScan}});var Pa=aa;Object.defineProperty(e,"take",{enumerable:!0,get:function(){return Pa.take}});var Kp=ic;Object.defineProperty(e,"takeLast",{enumerable:!0,get:function(){return Kp.takeLast}});var Dr=Vv;Object.defineProperty(e,"takeUntil",{enumerable:!0,get:function(){return Dr.takeUntil}});var tu=qv;Object.defineProperty(e,"takeWhile",{enumerable:!0,get:function(){return tu.takeWhile}});var Uc=Hv;Object.defineProperty(e,"tap",{enumerable:!0,get:function(){return Uc.tap}});var xa=sc;Object.defineProperty(e,"throttle",{enumerable:!0,get:function(){return xa.throttle}});var Wc=Qv;Object.defineProperty(e,"throttleTime",{enumerable:!0,get:function(){return Wc.throttleTime}});var m=sa;Object.defineProperty(e,"throwIfEmpty",{enumerable:!0,get:function(){return m.throwIfEmpty}});var v=ps;Object.defineProperty(e,"timeInterval",{enumerable:!0,get:function(){return v.timeInterval}});var S=bd;Object.defineProperty(e,"timeout",{enumerable:!0,get:function(){return S.timeout}});var E=Yv;Object.defineProperty(e,"timeoutWith",{enumerable:!0,get:function(){return E.timeoutWith}});var T=Gv;Object.defineProperty(e,"timestamp",{enumerable:!0,get:function(){return T.timestamp}});var N=Yl;Object.defineProperty(e,"toArray",{enumerable:!0,get:function(){return N.toArray}});var z=Xv;Object.defineProperty(e,"window",{enumerable:!0,get:function(){return z.window}});var W=Jv;Object.defineProperty(e,"windowCount",{enumerable:!0,get:function(){return W.windowCount}});var q=Zv;Object.defineProperty(e,"windowTime",{enumerable:!0,get:function(){return q.windowTime}});var U=ep;Object.defineProperty(e,"windowToggle",{enumerable:!0,get:function(){return U.windowToggle}});var ee=tp;Object.defineProperty(e,"windowWhen",{enumerable:!0,get:function(){return ee.windowWhen}});var ie=rp;Object.defineProperty(e,"withLatestFrom",{enumerable:!0,get:function(){return ie.withLatestFrom}});var ye=np;Object.defineProperty(e,"zipAll",{enumerable:!0,get:function(){return ye.zipAll}});var I=ip;Object.defineProperty(e,"zipWith",{enumerable:!0,get:function(){return I.zipWith}})})(kt);var K5=M&&M.__awaiter||function(e,t,r,n){function i(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function s(c){try{l(n.next(c))}catch(d){a(d)}}function u(c){try{l(n.throw(c))}catch(d){a(d)}}function l(c){c.done?o(c.value):i(c.value).then(s,u)}l((n=n.apply(e,t||[])).next())})},V5=M&&M.__generator||function(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(l){return function(c){return u([l,c])}}function u(l){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,l[0]&&(r=0)),r;)try{if(n=1,i&&(o=l[0]&2?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[l[0]&2,o.value]),l[0]){case 0:case 1:o=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){r.label=l[1];break}if(l[0]===6&&r.label<o[1]){r.label=o[1],o=l;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(l);break}o[2]&&r.ops.pop(),r.trys.pop();continue}l=t.call(e,r)}catch(c){l=[6,c],i=0}finally{n=o=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}};Object.defineProperty(rh,"__esModule",{value:!0});rh.observeNewCollections=void 0;var q5=kt;rh.observeNewCollections={name:"new-collection-observer",rxdb:!0,prototypes:{RxDatabase:function(e){var t=new q5.Subject;e.newCollections$=t;var r=e.addCollections;e.addCollections=function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return K5(this,void 0,void 0,function(){var o;return V5(this,function(a){switch(a.label){case 0:return[4,r.apply(this,n)];case 1:return o=a.sent(),t.next(o),[2,o]}})})}}}};(function(e){var t=M&&M.__createBinding||(Object.create?function(c,d,f,h){h===void 0&&(h=f);var b=Object.getOwnPropertyDescriptor(d,f);(!b||("get"in b?!d.__esModule:b.writable||b.configurable))&&(b={enumerable:!0,get:function(){return d[f]}}),Object.defineProperty(c,h,b)}:function(c,d,f,h){h===void 0&&(h=f),c[h]=d[f]}),r=M&&M.__exportStar||function(c,d){for(var f in c)f!=="default"&&!Object.prototype.hasOwnProperty.call(d,f)&&t(d,c,f)},n=M&&M.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(e,"__esModule",{value:!0}),e.useRxQuery=e.useRxDB=e.useRxData=e.useRxCollection=e.Provider=e.Context=void 0;var i=fs;Object.defineProperty(e,"Context",{enumerable:!0,get:function(){return n(i).default}}),r(fs,e);var o=md;Object.defineProperty(e,"Provider",{enumerable:!0,get:function(){return n(o).default}}),r(md,e);var a=rl;Object.defineProperty(e,"useRxCollection",{enumerable:!0,get:function(){return n(a).default}}),r(rl,e);var s=yd;Object.defineProperty(e,"useRxData",{enumerable:!0,get:function(){return n(s).default}}),r(yd,e);var u=nl;Object.defineProperty(e,"useRxDB",{enumerable:!0,get:function(){return n(u).default}}),r(nl,e);var l=il;Object.defineProperty(e,"useRxQuery",{enumerable:!0,get:function(){return n(l).default}}),r(il,e),r(rh,e)})(Le);function ol(e){"@babel/helpers - typeof";return ol=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ol(e)}function H5(e,t){if(ol(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ol(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Q5(e){var t=H5(e,"string");return ol(t)=="symbol"?t:String(t)}function dw(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Q5(n.key),n)}}function Hi(e,t,r){return t&&dw(e.prototype,t),r&&dw(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function z0(e){return Array.isArray(e)?e.slice(0):[e]}function ap(e){return Array.isArray(e)}function Y5(e){return e!=null}function jm(e,t){var r=0,n=-1;for(var i of e){n=n+1;var o=t(i,n);if(o)r=r+1;else break}return r}function _d(e,t){for(var r=t.length,n=0;n<r;++n){var i=t[n];e.push(i)}}function G5(e){return e.filter(function(t,r,n){return n.indexOf(t)===r})}function Gy(e){var t=e.split("-");if(t.length!==2)throw new Error("malformatted revision: "+e);return{height:parseInt(t[0],10),hash:t[1]}}function hw(e){var t=parseInt(e.split("-")[0],10);return t}function Xy(e,t){var r=t?t._rev:null,n=r?Gy(r).height:0,i=n+1;return i+"-"+e}var OP=1;function sp(){return{lwt:OP}}function up(){return""}function X5(e){return Object.assign({},e,{_meta:void 0,_deleted:void 0,_rev:void 0})}function J5(e,t,r){if(t.length!==r.length)return!1;for(var n=0,i=t.length;n<i;){var o=t[n],a=r[n];if(n++,o._rev!==a._rev||o[e]!==a[e])return!1}return!0}class ji{constructor(t,r){t=this.words=t||[],this.sigBytes=r===void 0?t.length*4:r}toString(t){return(t||Z5).stringify(this)}concat(t){if(this.clamp(),this.sigBytes%4)for(let r=0;r<t.sigBytes;r++){const n=t.words[r>>>2]>>>24-r%4*8&255;this.words[this.sigBytes+r>>>2]|=n<<24-(this.sigBytes+r)%4*8}else for(let r=0;r<t.sigBytes;r+=4)this.words[this.sigBytes+r>>>2]=t.words[r>>>2];return this.sigBytes+=t.sigBytes,this}clamp(){this.words[this.sigBytes>>>2]&=4294967295<<32-this.sigBytes%4*8,this.words.length=Math.ceil(this.sigBytes/4)}clone(){return new ji([...this.words])}}const Z5={stringify(e){const t=[];for(let r=0;r<e.sigBytes;r++){const n=e.words[r>>>2]>>>24-r%4*8&255;t.push((n>>>4).toString(16),(n&15).toString(16))}return t.join("")}},e6={parse(e){const t=e.length,r=[];for(let n=0;n<t;n++)r[n>>>2]|=(e.charCodeAt(n)&255)<<24-n%4*8;return new ji(r,t)}},t6={parse(e){return e6.parse(unescape(encodeURIComponent(e)))}};class r6{constructor(){this._data=new ji,this._nDataBytes=0,this._minBufferSize=0,this.blockSize=512/32}reset(){this._data=new ji,this._nDataBytes=0}_append(t){typeof t=="string"&&(t=t6.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes}_doProcessBlock(t,r){}_process(t){let r,n=this._data.sigBytes/(this.blockSize*4);t?n=Math.ceil(n):n=Math.max((n|0)-this._minBufferSize,0);const i=n*this.blockSize,o=Math.min(i*4,this._data.sigBytes);if(i){for(let a=0;a<i;a+=this.blockSize)this._doProcessBlock(this._data.words,a);r=this._data.words.splice(0,i),this._data.sigBytes-=o}return new ji(r,o)}}class n6 extends r6{update(t){return this._append(t),this._process(),this}finalize(t){t&&this._append(t)}}const vw=[1779033703,-1150833019,1013904242,-1521486534,1359893119,-1694144372,528734635,1541459225],i6=[1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998],ao=[];class o6 extends n6{constructor(){super(...arguments),this._hash=new ji([...vw])}reset(){super.reset(),this._hash=new ji([...vw])}_doProcessBlock(t,r){const n=this._hash.words;let i=n[0],o=n[1],a=n[2],s=n[3],u=n[4],l=n[5],c=n[6],d=n[7];for(let f=0;f<64;f++){if(f<16)ao[f]=t[r+f]|0;else{const O=ao[f-15],x=(O<<25|O>>>7)^(O<<14|O>>>18)^O>>>3,P=ao[f-2],C=(P<<15|P>>>17)^(P<<13|P>>>19)^P>>>10;ao[f]=x+ao[f-7]+C+ao[f-16]}const h=u&l^~u&c,b=i&o^i&a^o&a,_=(i<<30|i>>>2)^(i<<19|i>>>13)^(i<<10|i>>>22),j=(u<<26|u>>>6)^(u<<21|u>>>11)^(u<<7|u>>>25),g=d+j+h+i6[f]+ao[f],p=_+b;d=c,c=l,l=u,u=s+g|0,s=a,a=o,o=i,i=g+p|0}n[0]=n[0]+i|0,n[1]=n[1]+o|0,n[2]=n[2]+a|0,n[3]=n[3]+s|0,n[4]=n[4]+u|0,n[5]=n[5]+l|0,n[6]=n[6]+c|0,n[7]=n[7]+d|0}finalize(t){super.finalize(t);const r=this._nDataBytes*8,n=this._data.sigBytes*8;return this._data.words[n>>>5]|=128<<24-n%32,this._data.words[(n+64>>>9<<4)+14]=Math.floor(r/4294967296),this._data.words[(n+64>>>9<<4)+15]=r,this._data.sigBytes=this._data.words.length*4,this._process(),this._hash}}function a6(e){return new o6().finalize(e).toString()}function s6(e){return Promise.resolve(a6(e))}async function u6(e){var t=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",t),n=Array.prototype.map.call(new Uint8Array(r),i=>("00"+i.toString(16)).slice(-2)).join("");return n}var l6=typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof crypto.subtle.digest=="function",c6=l6?u6:s6;function f6(){return new Promise(e=>setTimeout(e,0))}function d6(e=0){return new Promise(t=>setTimeout(t,e))}var EP=Promise.resolve(!0),yi=Promise.resolve(!1),h6=Promise.resolve(null),Au=Promise.resolve();function PP(e=1e4){return typeof requestIdleCallback=="function"?new Promise(t=>{requestIdleCallback(()=>t(),{timeout:e})}):d6(0)}var km=Au;function v6(e=void 0){return km=km.then(()=>PP(e)),km}function p6(e,t){return e.reduce((r,n)=>r.then(n),Promise.resolve(t))}var m6=/\./g,pw="abcdefghijklmnopqrstuvwxyz";function lp(e=10){for(var t="",r=0;r<e;r++)t+=pw.charAt(Math.floor(Math.random()*pw.length));return t}function xP(e){e+="";var t=e.charAt(0).toUpperCase();return t+e.substr(1)}function Cf(e){for(;e.charAt(0)===".";)e=e.substr(1);for(;e.slice(-1)===".";)e=e.slice(0,-1);return e}function wd(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var r,n;if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!wd(e[n],t[n]))return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();var i=Object.keys(e);if(r=i.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!Object.prototype.hasOwnProperty.call(t,i[n]))return!1;for(n=r;n--!==0;){var o=i[n];if(!wd(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}var Jy=e=>{var t=typeof e;return e!==null&&(t==="object"||t==="function")},Cm=new Set(["__proto__","prototype","constructor"]),y6=new Set("0123456789");function jP(e){var t=[],r="",n="start",i=!1;for(var o of e)switch(o){case"\\":{if(n==="index")throw new Error("Invalid character in an index");if(n==="indexEnd")throw new Error("Invalid character after an index");i&&(r+=o),n="property",i=!i;break}case".":{if(n==="index")throw new Error("Invalid character in an index");if(n==="indexEnd"){n="property";break}if(i){i=!1,r+=o;break}if(Cm.has(r))return[];t.push(r),r="",n="property";break}case"[":{if(n==="index")throw new Error("Invalid character in an index");if(n==="indexEnd"){n="index";break}if(i){i=!1,r+=o;break}if(n==="property"){if(Cm.has(r))return[];t.push(r),r=""}n="index";break}case"]":{if(n==="index"){t.push(Number.parseInt(r,10)),r="",n="indexEnd";break}if(n==="indexEnd")throw new Error("Invalid character after an index")}default:{if(n==="index"&&!y6.has(o))throw new Error("Invalid character in an index");if(n==="indexEnd")throw new Error("Invalid character after an index");n==="start"&&(n="property"),i&&(i=!1,r+="\\"),r+=o}}switch(i&&(r+="\\"),n){case"property":{if(Cm.has(r))return[];t.push(r);break}case"index":throw new Error("Index was not closed");case"start":{t.push("");break}}return t}function kP(e,t){if(typeof t!="number"&&Array.isArray(e)){var r=Number.parseInt(t,10);return Number.isInteger(r)&&e[r]===e[t]}return!1}function g6(e,t){if(kP(e,t))throw new Error("Cannot use string index")}function ms(e,t,r){if(Array.isArray(t)&&(t=t.join(".")),!t.includes(".")&&!t.includes("["))return e[t];if(!Jy(e)||typeof t!="string")return r===void 0?e:r;var n=jP(t);if(n.length===0)return r;for(var i=0;i<n.length;i++){var o=n[i];if(kP(e,o)?e=i===n.length-1?void 0:null:e=e[o],e==null){if(i!==n.length-1)return r;break}}return e===void 0?r:e}function CP(e,t,r){if(Array.isArray(t)&&(t=t.join(".")),!Jy(e)||typeof t!="string")return e;for(var n=e,i=jP(t),o=0;o<i.length;o++){var a=i[o];g6(e,a),o===i.length-1?e[a]=r:Jy(e[a])||(e[a]=typeof i[o+1]=="number"?[]:{}),e=e[a]}return n}function b6(e){var t=e.split("."),r=t.length;return r===1?n=>n[e]:n=>{for(var i=n,o=0;o<r;++o){var a=t[o];if(i=i[a],typeof i>"u")return i}return i}}function et(e){return Object.assign({},e)}function _6(e){return Object.keys(e)[0]}function Sd(e,t=!1){if(!e)return e;if(!t&&Array.isArray(e))return e.sort((n,i)=>typeof n=="string"&&typeof i=="string"?n.localeCompare(i):typeof n=="object"?1:-1).map(n=>Sd(n,t));if(typeof e=="object"&&!Array.isArray(e)){var r={};return Object.keys(e).sort((n,i)=>n.localeCompare(i)).forEach(n=>{r[n]=Sd(e[n],t)}),r}return e}function Zy(e){if(!e||e===null||typeof e!="object")return e;if(Array.isArray(e)){for(var t=new Array(e.length),r=t.length;r--;)t[r]=Zy(e[r]);return t}var n={};for(var i in e)n[i]=Zy(e[i]);return n}var al=Zy;function ki(e,t,r){return Object.defineProperty(e,t,{get:function(){return r}}),r}function sl(e,t){var r=e.get(t);if(typeof r>"u")throw new Error("missing value from map "+t);return r}function gn(e,t,r,n){var i=e.get(t);return typeof i>"u"?(i=r(),e.set(t,i)):n&&n(i),i}function qe(e){var t=e.split("-"),r="RxDB";return t.forEach(n=>{r+=xP(n)}),r+="Plugin",new Error(`You are using a function which must be overwritten by a plugin.
        You should either prevent the usage of this function or add the plugin via:
            import { `+r+" } from 'rxdb/plugins/"+e+`';
            addRxPlugin(`+r+`);
        `)}var $m=0;function jr(){var e=Date.now();e=e+.01,e<=$m&&(e=$m+.01);var t=parseFloat(e.toFixed(2));return $m=t,t}function ut(e){if(!e)throw new Error("ensureNotFalsy() is falsy");return e}var $P={bufferSize:1,refCount:!0},w6="15.0.0";function ul(e,t){return ul=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},ul(e,t)}function AP(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,ul(e,t)}function eg(e){return eg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},eg(e)}function S6(e){try{return Function.toString.call(e).indexOf("[native code]")!==-1}catch{return typeof e=="function"}}function O6(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function $f(e,t,r){return O6()?$f=Reflect.construct.bind():$f=function(i,o,a){var s=[null];s.push.apply(s,o);var u=Function.bind.apply(i,s),l=new u;return a&&ul(l,a.prototype),l},$f.apply(null,arguments)}function Od(e){var t=typeof Map=="function"?new Map:void 0;return Od=function(n){if(n===null||!S6(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(typeof t<"u"){if(t.has(n))return t.get(n);t.set(n,i)}function i(){return $f(n,arguments,eg(this).constructor)}return i.prototype=Object.create(n.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),ul(i,n)},Od(e)}var ft={isDevMode(){return!1},deepFreezeWhenDevMode(e){return e},tunnelErrorMessage(e){return"RxDB Error-Code "+e+`.
        Error messages are not included in RxDB core to reduce build size.
        - To find out what this error means, either use the dev-mode-plugin https://rxdb.info/dev-mode.html
        - or search for the error code here: https://github.com/pubkey/rxdb/search?q=`+e+`
        `}};function E6(e){var t="";return Object.keys(e).length===0||(t+=`Given parameters: {
`,t+=Object.keys(e).map(r=>{var n="[object Object]";try{r==="errors"?n=e[r].map(i=>JSON.stringify(i,Object.getOwnPropertyNames(i))):n=JSON.stringify(e[r],function(i,o){return o===void 0?null:o},2)}catch{}return r+":"+n}).join(`
`),t+="}"),t}function RP(e,t,r){return"RxError ("+t+`):
`+e+`
`+E6(r)}var P6=function(e){AP(t,e);function t(n,i,o={}){var a,s=RP(i,n,o);return a=e.call(this,s)||this,a.code=n,a.message=s,a.parameters=o,a.rxdb=!0,a}var r=t.prototype;return r.toString=function(){return this.message},Hi(t,[{key:"name",get:function(){return"RxError ("+this.code+")"}},{key:"typeError",get:function(){return!1}}]),t}(Od(Error)),x6=function(e){AP(t,e);function t(n,i,o={}){var a,s=RP(i,n,o);return a=e.call(this,s)||this,a.code=n,a.message=s,a.parameters=o,a.rxdb=!0,a}var r=t.prototype;return r.toString=function(){return this.message},Hi(t,[{key:"name",get:function(){return"RxTypeError ("+this.code+")"}},{key:"typeError",get:function(){return!0}}]),t}(Od(TypeError));function be(e,t){return new P6(e,ft.tunnelErrorMessage(e),t)}function Af(e,t){return new x6(e,ft.tunnelErrorMessage(e),t)}function TP(e){return e&&e.status===409?e:!1}var j6={409:"document write conflict",422:"schema validation error",510:"attachment data missing"};function k6(e){return be("COL20",{name:j6[e.status],document:e.documentId,writeError:e})}var ll={preAddRxPlugin:[],preCreateRxDatabase:[],createRxDatabase:[],preCreateRxCollection:[],createRxCollection:[],postDestroyRxCollection:[],postRemoveRxCollection:[],preCreateRxSchema:[],createRxSchema:[],preCreateRxQuery:[],prePrepareQuery:[],createRxDocument:[],postCreateRxDocument:[],preCreateRxStorageInstance:[],preMigrateDocument:[],postMigrateDocument:[],preDestroyRxDatabase:[],postRemoveRxDatabase:[],preReplicationMasterWrite:[],preReplicationMasterWriteDocumentsHandle:[]};function Yr(e,t){ll[e]&&ll[e].forEach(r=>r(t))}function uc(e,t){return Promise.all(ll[e].map(r=>r(t)))}function cl(e,t){var r=t;r=r.replace(m6,".properties."),r="properties."+r,r=Cf(r);var n=ms(e,r);return n}function MP(e,t,r){if(typeof t.primaryKey=="string")return r;var n=K0(t,r),i=r[e];if(i&&i!==n)throw be("DOC19",{args:{documentData:r,existingPrimary:i,newPrimary:n},schema:t});return r[e]=n,r}function Qi(e){return typeof e=="string"?e:e.key}function K0(e,t){if(typeof e.primaryKey=="string")return t[e.primaryKey];var r=e.primaryKey;return r.fields.map(n=>{var i=ms(t,n);if(typeof i>"u")throw be("DOC18",{args:{field:n,documentData:t}});return i}).join(r.separator)}function C6(e){var t=Sd(e,!0);return t}function $6(e){return["_deleted",e]}function IP(e){e=et(e);var t=Qi(e.primaryKey);e.properties=et(e.properties),e.additionalProperties=!1,Object.prototype.hasOwnProperty.call(e,"keyCompression")||(e.keyCompression=!1),e.indexes=e.indexes?e.indexes.slice(0):[],e.required=e.required?e.required.slice(0):[],e.encrypted=e.encrypted?e.encrypted.slice(0):[],e.properties._rev={type:"string",minLength:1},e.properties._attachments={type:"object"},e.properties._deleted={type:"boolean"},e.properties._meta=A6,e.required=e.required?e.required.slice(0):[],e.required.push("_deleted"),e.required.push("_rev"),e.required.push("_meta"),e.required.push("_attachments");var r=NP(e);_d(e.required,r),e.required=e.required.filter(o=>!o.includes(".")).filter((o,a,s)=>s.indexOf(o)===a),e.version=e.version||0;var n=e.indexes.map(o=>{var a=ap(o)?o.slice(0):[o];return a.includes(t)||a.push(t),a[0]!=="_deleted"&&a.unshift("_deleted"),a});n.length===0&&n.push($6(t)),n.push(["_meta.lwt",t]);var i=new Set;return n.filter(o=>{var a=o.join(",");return i.has(a)?!1:(i.add(a),!0)}),e.indexes=n,e}var A6={type:"object",properties:{lwt:{type:"number",minimum:OP,maximum:1e15,multipleOf:.01}},additionalProperties:!0,required:["lwt"]};function NP(e){var t=Object.keys(e.properties).filter(n=>e.properties[n].final),r=Qi(e.primaryKey);return t.push(r),typeof e.primaryKey!="string"&&e.primaryKey.fields.forEach(n=>t.push(n)),t}function R6(e,t){for(var r=Object.keys(e.defaultValues),n=0;n<r.length;++n){var i=r[n];(!Object.prototype.hasOwnProperty.call(t,i)||typeof t[i]>"u")&&(t[i]=e.defaultValues[i])}return t}var DP=function(){function e(r,n){this.jsonSchema=r,this.hashFunction=n,this.indexes=T6(this.jsonSchema),this.primaryPath=Qi(this.jsonSchema.primaryKey),this.finalFields=NP(this.jsonSchema)}var t=e.prototype;return t.validateChange=function(n,i){this.finalFields.forEach(o=>{if(!wd(n[o],i[o]))throw be("DOC9",{dataBefore:n,dataAfter:i,fieldName:o,schema:this.jsonSchema})})},t.getDocumentPrototype=function(){var n={},i=cl(this.jsonSchema,"");return Object.keys(i).forEach(o=>{var a=o;n.__defineGetter__(o,function(){if(!(!this.get||typeof this.get!="function")){var s=this.get(a);return s}}),Object.defineProperty(n,o+"$",{get:function(){return this.get$(a)},enumerable:!1,configurable:!1}),Object.defineProperty(n,o+"_",{get:function(){return this.populate(a)},enumerable:!1,configurable:!1})}),ki(this,"getDocumentPrototype",()=>n),n},t.getPrimaryOfDocumentData=function(n){return K0(this.jsonSchema,n)},Hi(e,[{key:"version",get:function(){return this.jsonSchema.version}},{key:"defaultValues",get:function(){var r={};return Object.entries(this.jsonSchema.properties).filter(([,n])=>Object.prototype.hasOwnProperty.call(n,"default")).forEach(([n,i])=>r[n]=i.default),ki(this,"defaultValues",r)}},{key:"hash",get:function(){return ki(this,"hash",this.hashFunction(JSON.stringify(this.jsonSchema)))}}]),e}();function T6(e){return(e.indexes||[]).map(t=>ap(t)?t:[t])}function M6(e,t,r=!0){r&&Yr("preCreateRxSchema",e);var n=IP(e);n=C6(n),ft.deepFreezeWhenDevMode(n);var i=new DP(n,t);return Yr("createRxSchema",i),i}function ht(e){return typeof e=="function"}function I6(e){return ht(e==null?void 0:e.lift)}function En(e){return function(t){if(I6(t))return t.lift(function(r){try{return e(r,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}var tg=function(e,t){return tg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},tg(e,t)};function Ls(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");tg(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}function N6(e,t,r,n){function i(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function s(c){try{l(n.next(c))}catch(d){a(d)}}function u(c){try{l(n.throw(c))}catch(d){a(d)}}function l(c){c.done?o(c.value):i(c.value).then(s,u)}l((n=n.apply(e,t||[])).next())})}function LP(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(l){return function(c){return u([l,c])}}function u(l){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,l[0]&&(r=0)),r;)try{if(n=1,i&&(o=l[0]&2?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[l[0]&2,o.value]),l[0]){case 0:case 1:o=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){r.label=l[1];break}if(l[0]===6&&r.label<o[1]){r.label=o[1],o=l;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(l);break}o[2]&&r.ops.pop(),r.trys.pop();continue}l=t.call(e,r)}catch(c){l=[6,c],i=0}finally{n=o=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function ys(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Fo(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return o}function Bo(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,o;n<i;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return e.concat(o||Array.prototype.slice.call(t))}function Ja(e){return this instanceof Ja?(this.v=e,this):new Ja(e)}function D6(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),i,o=[];return i={},a("next"),a("throw"),a("return"),i[Symbol.asyncIterator]=function(){return this},i;function a(f){n[f]&&(i[f]=function(h){return new Promise(function(b,_){o.push([f,h,b,_])>1||s(f,h)})})}function s(f,h){try{u(n[f](h))}catch(b){d(o[0][3],b)}}function u(f){f.value instanceof Ja?Promise.resolve(f.value.v).then(l,c):d(o[0][2],f)}function l(f){s("next",f)}function c(f){s("throw",f)}function d(f,h){f(h),o.shift(),o.length&&s(o[0][0],o[0][1])}}function L6(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof ys=="function"?ys(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(o){r[o]=e[o]&&function(a){return new Promise(function(s,u){a=e[o](a),i(s,u,a.done,a.value)})}}function i(o,a,s,u){Promise.resolve(u).then(function(l){o({value:l,done:s})},a)}}var FP=function(e){return e&&typeof e.length=="number"&&typeof e!="function"};function BP(e){return ht(e==null?void 0:e.then)}function UP(e){var t=function(n){Error.call(n),n.stack=new Error().stack},r=e(t);return r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,r}var Am=UP(function(e){return function(r){e(this),this.message=r?r.length+` errors occurred during unsubscription:
`+r.map(function(n,i){return i+1+") "+n.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=r}});function rg(e,t){if(e){var r=e.indexOf(t);0<=r&&e.splice(r,1)}}var cp=function(){function e(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var t,r,n,i,o;if(!this.closed){this.closed=!0;var a=this._parentage;if(a)if(this._parentage=null,Array.isArray(a))try{for(var s=ys(a),u=s.next();!u.done;u=s.next()){var l=u.value;l.remove(this)}}catch(_){t={error:_}}finally{try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(t)throw t.error}}else a.remove(this);var c=this.initialTeardown;if(ht(c))try{c()}catch(_){o=_ instanceof Am?_.errors:[_]}var d=this._finalizers;if(d){this._finalizers=null;try{for(var f=ys(d),h=f.next();!h.done;h=f.next()){var b=h.value;try{mw(b)}catch(_){o=o??[],_ instanceof Am?o=Bo(Bo([],Fo(o)),Fo(_.errors)):o.push(_)}}}catch(_){n={error:_}}finally{try{h&&!h.done&&(i=f.return)&&i.call(f)}finally{if(n)throw n.error}}}if(o)throw new Am(o)}},e.prototype.add=function(t){var r;if(t&&t!==this)if(this.closed)mw(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(r=this._finalizers)!==null&&r!==void 0?r:[]).push(t)}},e.prototype._hasParent=function(t){var r=this._parentage;return r===t||Array.isArray(r)&&r.includes(t)},e.prototype._addParent=function(t){var r=this._parentage;this._parentage=Array.isArray(r)?(r.push(t),r):r?[r,t]:t},e.prototype._removeParent=function(t){var r=this._parentage;r===t?this._parentage=null:Array.isArray(r)&&rg(r,t)},e.prototype.remove=function(t){var r=this._finalizers;r&&rg(r,t),t instanceof e&&t._removeParent(this)},e.EMPTY=function(){var t=new e;return t.closed=!0,t}(),e}(),WP=cp.EMPTY;function zP(e){return e instanceof cp||e&&"closed"in e&&ht(e.remove)&&ht(e.add)&&ht(e.unsubscribe)}function mw(e){ht(e)?e():e.unsubscribe()}var KP={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},ng={setTimeout:function(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var i=ng.delegate;return i!=null&&i.setTimeout?i.setTimeout.apply(i,Bo([e,t],Fo(r))):setTimeout.apply(void 0,Bo([e,t],Fo(r)))},clearTimeout:function(e){var t=ng.delegate;return((t==null?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0};function VP(e){ng.setTimeout(function(){throw e})}function yw(){}function Rf(e){e()}var V0=function(e){Ls(t,e);function t(r){var n=e.call(this)||this;return n.isStopped=!1,r?(n.destination=r,zP(r)&&r.add(n)):n.destination=W6,n}return t.create=function(r,n,i){return new fl(r,n,i)},t.prototype.next=function(r){this.isStopped||this._next(r)},t.prototype.error=function(r){this.isStopped||(this.isStopped=!0,this._error(r))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(r){this.destination.next(r)},t.prototype._error=function(r){try{this.destination.error(r)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(cp),F6=Function.prototype.bind;function Rm(e,t){return F6.call(e,t)}var B6=function(){function e(t){this.partialObserver=t}return e.prototype.next=function(t){var r=this.partialObserver;if(r.next)try{r.next(t)}catch(n){sf(n)}},e.prototype.error=function(t){var r=this.partialObserver;if(r.error)try{r.error(t)}catch(n){sf(n)}else sf(t)},e.prototype.complete=function(){var t=this.partialObserver;if(t.complete)try{t.complete()}catch(r){sf(r)}},e}(),fl=function(e){Ls(t,e);function t(r,n,i){var o=e.call(this)||this,a;if(ht(r)||!r)a={next:r??void 0,error:n??void 0,complete:i??void 0};else{var s;o&&KP.useDeprecatedNextContext?(s=Object.create(r),s.unsubscribe=function(){return o.unsubscribe()},a={next:r.next&&Rm(r.next,s),error:r.error&&Rm(r.error,s),complete:r.complete&&Rm(r.complete,s)}):a=r}return o.destination=new B6(a),o}return t}(V0);function sf(e){VP(e)}function U6(e){throw e}var W6={closed:!0,next:yw,error:U6,complete:yw},q0=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function fp(e){return e}function z6(e){return e.length===0?fp:e.length===1?e[0]:function(r){return e.reduce(function(n,i){return i(n)},r)}}var Gr=function(){function e(t){t&&(this._subscribe=t)}return e.prototype.lift=function(t){var r=new e;return r.source=this,r.operator=t,r},e.prototype.subscribe=function(t,r,n){var i=this,o=V6(t)?t:new fl(t,r,n);return Rf(function(){var a=i,s=a.operator,u=a.source;o.add(s?s.call(o,u):u?i._subscribe(o):i._trySubscribe(o))}),o},e.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(r){t.error(r)}},e.prototype.forEach=function(t,r){var n=this;return r=gw(r),new r(function(i,o){var a=new fl({next:function(s){try{t(s)}catch(u){o(u),a.unsubscribe()}},error:o,complete:i});n.subscribe(a)})},e.prototype._subscribe=function(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)},e.prototype[q0]=function(){return this},e.prototype.pipe=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return z6(t)(this)},e.prototype.toPromise=function(t){var r=this;return t=gw(t),new t(function(n,i){var o;r.subscribe(function(a){return o=a},function(a){return i(a)},function(){return n(o)})})},e.create=function(t){return new e(t)},e}();function gw(e){var t;return(t=e??KP.Promise)!==null&&t!==void 0?t:Promise}function K6(e){return e&&ht(e.next)&&ht(e.error)&&ht(e.complete)}function V6(e){return e&&e instanceof V0||K6(e)&&zP(e)}function qP(e){return ht(e[q0])}function HP(e){return Symbol.asyncIterator&&ht(e==null?void 0:e[Symbol.asyncIterator])}function QP(e){return new TypeError("You provided "+(e!==null&&typeof e=="object"?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function q6(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var YP=q6();function GP(e){return ht(e==null?void 0:e[YP])}function XP(e){return D6(this,arguments,function(){var r,n,i,o;return LP(this,function(a){switch(a.label){case 0:r=e.getReader(),a.label=1;case 1:a.trys.push([1,,9,10]),a.label=2;case 2:return[4,Ja(r.read())];case 3:return n=a.sent(),i=n.value,o=n.done,o?[4,Ja(void 0)]:[3,5];case 4:return[2,a.sent()];case 5:return[4,Ja(i)];case 6:return[4,a.sent()];case 7:return a.sent(),[3,2];case 8:return[3,10];case 9:return r.releaseLock(),[7];case 10:return[2]}})})}function JP(e){return ht(e==null?void 0:e.getReader)}function la(e){if(e instanceof Gr)return e;if(e!=null){if(qP(e))return H6(e);if(FP(e))return Q6(e);if(BP(e))return Y6(e);if(HP(e))return ZP(e);if(GP(e))return G6(e);if(JP(e))return X6(e)}throw QP(e)}function H6(e){return new Gr(function(t){var r=e[q0]();if(ht(r.subscribe))return r.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function Q6(e){return new Gr(function(t){for(var r=0;r<e.length&&!t.closed;r++)t.next(e[r]);t.complete()})}function Y6(e){return new Gr(function(t){e.then(function(r){t.closed||(t.next(r),t.complete())},function(r){return t.error(r)}).then(null,VP)})}function G6(e){return new Gr(function(t){var r,n;try{for(var i=ys(e),o=i.next();!o.done;o=i.next()){var a=o.value;if(t.next(a),t.closed)return}}catch(s){r={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}t.complete()})}function ZP(e){return new Gr(function(t){J6(e,t).catch(function(r){return t.error(r)})})}function X6(e){return ZP(XP(e))}function J6(e,t){var r,n,i,o;return N6(this,void 0,void 0,function(){var a,s;return LP(this,function(u){switch(u.label){case 0:u.trys.push([0,5,6,11]),r=L6(e),u.label=1;case 1:return[4,r.next()];case 2:if(n=u.sent(),!!n.done)return[3,4];if(a=n.value,t.next(a),t.closed)return[2];u.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return s=u.sent(),i={error:s},[3,11];case 6:return u.trys.push([6,,9,10]),n&&!n.done&&(o=r.return)?[4,o.call(r)]:[3,8];case 7:u.sent(),u.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}})})}function Uo(e,t,r,n,i){return new Z6(e,t,r,n,i)}var Z6=function(e){Ls(t,e);function t(r,n,i,o,a,s){var u=e.call(this,r)||this;return u.onFinalize=a,u.shouldUnsubscribe=s,u._next=n?function(l){try{n(l)}catch(c){r.error(c)}}:e.prototype._next,u._error=o?function(l){try{o(l)}catch(c){r.error(c)}finally{this.unsubscribe()}}:e.prototype._error,u._complete=i?function(){try{i()}catch(l){r.error(l)}finally{this.unsubscribe()}}:e.prototype._complete,u}return t.prototype.unsubscribe=function(){var r;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var n=this.closed;e.prototype.unsubscribe.call(this),!n&&((r=this.onFinalize)===null||r===void 0||r.call(this))}},t}(V0),ex={now:function(){return(ex.delegate||Date).now()},delegate:void 0};function e8(e){return e&&ht(e.schedule)}function tx(e){return e[e.length-1]}function H0(e){return e8(tx(e))?e.pop():void 0}function t8(e,t){return typeof tx(e)=="number"?e.pop():t}function Ci(e,t,r,n,i){n===void 0&&(n=0),i===void 0&&(i=!1);var o=t.schedule(function(){r(),i?e.add(this.schedule(null,n)):this.unsubscribe()},n);if(e.add(o),!i)return o}function rx(e,t){return t===void 0&&(t=0),En(function(r,n){r.subscribe(Uo(n,function(i){return Ci(n,e,function(){return n.next(i)},t)},function(){return Ci(n,e,function(){return n.complete()},t)},function(i){return Ci(n,e,function(){return n.error(i)},t)}))})}function nx(e,t){return t===void 0&&(t=0),En(function(r,n){n.add(e.schedule(function(){return r.subscribe(n)},t))})}function r8(e,t){return la(e).pipe(nx(t),rx(t))}function n8(e,t){return la(e).pipe(nx(t),rx(t))}function i8(e,t){return new Gr(function(r){var n=0;return t.schedule(function(){n===e.length?r.complete():(r.next(e[n++]),r.closed||this.schedule())})})}function o8(e,t){return new Gr(function(r){var n;return Ci(r,t,function(){n=e[YP](),Ci(r,t,function(){var i,o,a;try{i=n.next(),o=i.value,a=i.done}catch(s){r.error(s);return}a?r.complete():r.next(o)},0,!0)}),function(){return ht(n==null?void 0:n.return)&&n.return()}})}function ix(e,t){if(!e)throw new Error("Iterable cannot be null");return new Gr(function(r){Ci(r,t,function(){var n=e[Symbol.asyncIterator]();Ci(r,t,function(){n.next().then(function(i){i.done?r.complete():r.next(i.value)})},0,!0)})})}function a8(e,t){return ix(XP(e),t)}function s8(e,t){if(e!=null){if(qP(e))return r8(e,t);if(FP(e))return i8(e,t);if(BP(e))return n8(e,t);if(HP(e))return ix(e,t);if(GP(e))return o8(e,t);if(JP(e))return a8(e,t)}throw QP(e)}function ox(e,t){return t?s8(e,t):la(e)}function yo(e,t){return En(function(r,n){var i=0;r.subscribe(Uo(n,function(o){n.next(e.call(t,o,i++))}))})}function u8(e,t,r,n,i,o,a,s){var u=[],l=0,c=0,d=!1,f=function(){d&&!u.length&&!l&&t.complete()},h=function(_){return l<n?b(_):u.push(_)},b=function(_){o&&t.next(_),l++;var j=!1;la(r(_,c++)).subscribe(Uo(t,function(g){i==null||i(g),o?h(g):t.next(g)},function(){j=!0},void 0,function(){if(j)try{l--;for(var g=function(){var p=u.shift();a?Ci(t,a,function(){return b(p)}):b(p)};u.length&&l<n;)g();f()}catch(p){t.error(p)}}))};return e.subscribe(Uo(t,h,function(){d=!0,f()})),function(){s==null||s()}}function gs(e,t,r){return r===void 0&&(r=1/0),ht(t)?gs(function(n,i){return yo(function(o,a){return t(n,o,i,a)})(la(e(n,i)))},r):(typeof t=="number"&&(r=t),En(function(n,i){return u8(n,i,e,r)}))}var l8=Array.isArray;function c8(e){return e.length===1&&l8(e[0])?e[0]:e}function ax(e){return e===void 0&&(e=1/0),gs(fp,e)}function f8(){return ax(1)}var d8=UP(function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),Q0=function(e){Ls(t,e);function t(){var r=e.call(this)||this;return r.closed=!1,r.currentObservers=null,r.observers=[],r.isStopped=!1,r.hasError=!1,r.thrownError=null,r}return t.prototype.lift=function(r){var n=new bw(this,this);return n.operator=r,n},t.prototype._throwIfClosed=function(){if(this.closed)throw new d8},t.prototype.next=function(r){var n=this;Rf(function(){var i,o;if(n._throwIfClosed(),!n.isStopped){n.currentObservers||(n.currentObservers=Array.from(n.observers));try{for(var a=ys(n.currentObservers),s=a.next();!s.done;s=a.next()){var u=s.value;u.next(r)}}catch(l){i={error:l}}finally{try{s&&!s.done&&(o=a.return)&&o.call(a)}finally{if(i)throw i.error}}}})},t.prototype.error=function(r){var n=this;Rf(function(){if(n._throwIfClosed(),!n.isStopped){n.hasError=n.isStopped=!0,n.thrownError=r;for(var i=n.observers;i.length;)i.shift().error(r)}})},t.prototype.complete=function(){var r=this;Rf(function(){if(r._throwIfClosed(),!r.isStopped){r.isStopped=!0;for(var n=r.observers;n.length;)n.shift().complete()}})},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var r;return((r=this.observers)===null||r===void 0?void 0:r.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(r){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,r)},t.prototype._subscribe=function(r){return this._throwIfClosed(),this._checkFinalizedStatuses(r),this._innerSubscribe(r)},t.prototype._innerSubscribe=function(r){var n=this,i=this,o=i.hasError,a=i.isStopped,s=i.observers;return o||a?WP:(this.currentObservers=null,s.push(r),new cp(function(){n.currentObservers=null,rg(s,r)}))},t.prototype._checkFinalizedStatuses=function(r){var n=this,i=n.hasError,o=n.thrownError,a=n.isStopped;i?r.error(o):a&&r.complete()},t.prototype.asObservable=function(){var r=new Gr;return r.source=this,r},t.create=function(r,n){return new bw(r,n)},t}(Gr),bw=function(e){Ls(t,e);function t(r,n){var i=e.call(this)||this;return i.destination=r,i.source=n,i}return t.prototype.next=function(r){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.next)===null||i===void 0||i.call(n,r)},t.prototype.error=function(r){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.error)===null||i===void 0||i.call(n,r)},t.prototype.complete=function(){var r,n;(n=(r=this.destination)===null||r===void 0?void 0:r.complete)===null||n===void 0||n.call(r)},t.prototype._subscribe=function(r){var n,i;return(i=(n=this.source)===null||n===void 0?void 0:n.subscribe(r))!==null&&i!==void 0?i:WP},t}(Q0);function _w(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return f8()(ox(e,H0(e)))}function ig(e,t){return t===void 0&&(t=fp),e=e??h8,En(function(r,n){var i,o=!0;r.subscribe(Uo(n,function(a){var s=t(a);(o||!e(i,s))&&(o=!1,i=s,n.next(a))}))})}function h8(e,t){return e===t}function Oo(e,t){return En(function(r,n){var i=0;r.subscribe(Uo(n,function(o){return e.call(t,o,i++)&&n.next(o)}))})}function v8(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=H0(e),n=t8(e,1/0);return e=c8(e),En(function(i,o){ax(n)(ox(Bo([i],Fo(e)),r)).subscribe(o)})}function p8(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return v8.apply(void 0,Bo([],Fo(e)))}var m8=function(e){Ls(t,e);function t(r,n,i){r===void 0&&(r=1/0),n===void 0&&(n=1/0),i===void 0&&(i=ex);var o=e.call(this)||this;return o._bufferSize=r,o._windowTime=n,o._timestampProvider=i,o._buffer=[],o._infiniteTimeWindow=!0,o._infiniteTimeWindow=n===1/0,o._bufferSize=Math.max(1,r),o._windowTime=Math.max(1,n),o}return t.prototype.next=function(r){var n=this,i=n.isStopped,o=n._buffer,a=n._infiniteTimeWindow,s=n._timestampProvider,u=n._windowTime;i||(o.push(r),!a&&o.push(s.now()+u)),this._trimBuffer(),e.prototype.next.call(this,r)},t.prototype._subscribe=function(r){this._throwIfClosed(),this._trimBuffer();for(var n=this._innerSubscribe(r),i=this,o=i._infiniteTimeWindow,a=i._buffer,s=a.slice(),u=0;u<s.length&&!r.closed;u+=o?1:2)r.next(s[u]);return this._checkFinalizedStatuses(r),n},t.prototype._trimBuffer=function(){var r=this,n=r._bufferSize,i=r._timestampProvider,o=r._buffer,a=r._infiniteTimeWindow,s=(a?1:2)*n;if(n<1/0&&s<o.length&&o.splice(0,o.length-s),!a){for(var u=i.now(),l=0,c=1;c<o.length&&o[c]<=u;c+=2)l=c;l&&o.splice(0,l+1)}},t}(Q0);function y8(e){e===void 0&&(e={});var t=e.connector,r=t===void 0?function(){return new Q0}:t,n=e.resetOnError,i=n===void 0?!0:n,o=e.resetOnComplete,a=o===void 0?!0:o,s=e.resetOnRefCountZero,u=s===void 0?!0:s;return function(l){var c,d,f,h=0,b=!1,_=!1,j=function(){d==null||d.unsubscribe(),d=void 0},g=function(){j(),c=f=void 0,b=_=!1},p=function(){var O=c;g(),O==null||O.unsubscribe()};return En(function(O,x){h++,!_&&!b&&j();var P=f=f??r();x.add(function(){h--,h===0&&!_&&!b&&(d=Tm(p,u))}),P.subscribe(x),!c&&h>0&&(c=new fl({next:function(C){return P.next(C)},error:function(C){_=!0,j(),d=Tm(g,i,C),P.error(C)},complete:function(){b=!0,j(),d=Tm(g,a),P.complete()}}),la(O).subscribe(c))})(l)}}function Tm(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];if(t===!0){e();return}if(t!==!1){var i=new fl({next:function(){i.unsubscribe(),e()}});return la(t.apply(void 0,Bo([],Fo(r)))).subscribe(i)}}function sx(e,t,r){var n,i,o,a,s=!1;return e&&typeof e=="object"?(n=e.bufferSize,a=n===void 0?1/0:n,i=e.windowTime,t=i===void 0?1/0:i,o=e.refCount,s=o===void 0?!1:o,r=e.scheduler):a=e??1/0,y8({connector:function(){return new m8(a,t,r)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:s})}function ux(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=H0(e);return En(function(n,i){(r?_w(e,n,r):_w(e,n)).subscribe(i)})}function ww(e,t,r){var n=ht(e)||t||r?{next:e,error:t,complete:r}:e;return n?En(function(i,o){var a;(a=n.subscribe)===null||a===void 0||a.call(n);var s=!0;i.subscribe(Uo(o,function(u){var l;(l=n.next)===null||l===void 0||l.call(n,u),o.next(u)},function(){var u;s=!1,(u=n.complete)===null||u===void 0||u.call(n),o.complete()},function(u){var l;s=!1,(l=n.error)===null||l===void 0||l.call(n,u),o.error(u)},function(){var u,l;s&&((u=n.unsubscribe)===null||u===void 0||u.call(n)),(l=n.finalize)===null||l===void 0||l.call(n)}))}):fp}function lx(e){return e.documentData?e.documentData:e.previousDocumentData}function g8(e){switch(e.operation){case"INSERT":return{operation:e.operation,id:e.documentId,doc:e.documentData,previous:null};case"UPDATE":return{operation:e.operation,id:e.documentId,doc:ft.deepFreezeWhenDevMode(e.documentData),previous:e.previousDocumentData?e.previousDocumentData:"UNKNOWN"};case"DELETE":return{operation:e.operation,id:e.documentId,doc:null,previous:e.previousDocumentData}}}function Y0(e){return e[e.length-1]}function b8(e){const t=typeof e;return e!==null&&(t==="object"||t==="function")}function Sw(e,t,r){if(Array.isArray(t)&&(t=t.join(".")),!b8(e)||typeof t!="string")return r===void 0?e:r;const n=t.split(".");if(n.length===0)return r;for(let i=0;i<n.length;i++){const o=n[i];if(_8(e,o)?e=i===n.length-1?void 0:null:e=e[o],e==null){if(i!==n.length-1)return r;break}}return e===void 0?r:e}function _8(e,t){if(typeof t!="number"&&Array.isArray(e)){const r=Number.parseInt(t,10);return Number.isInteger(r)&&e[r]===e[t]}return!1}const cx=e=>!!e.queryParams.limit,w8=e=>e.queryParams.limit===1,S8=e=>!!(e.queryParams.skip&&e.queryParams.skip>0),O8=e=>e.changeEvent.operation==="DELETE",E8=e=>e.changeEvent.operation==="INSERT",P8=e=>e.changeEvent.operation==="UPDATE",x8=e=>cx(e)&&e.previousResults.length>=e.queryParams.limit,j8=e=>{const t=e.queryParams.sortFields,r=e.changeEvent.previous,n=e.changeEvent.doc;if(!n)return!1;if(!r)return!0;for(let i=0;i<t.length;i++){const o=t[i],a=Sw(r,o),s=Sw(n,o);if(a!==s)return!0}return!1},k8=e=>{const t=e.changeEvent.id;if(e.keyDocumentMap)return e.keyDocumentMap.has(t);{const r=e.queryParams.primaryKey,n=e.previousResults;for(let i=0;i<n.length;i++)if(n[i][r]===t)return!0;return!1}},C8=e=>{const t=e.previousResults[0];return!!(t&&t[e.queryParams.primaryKey]===e.changeEvent.id)},$8=e=>{const t=Y0(e.previousResults);return!!(t&&t[e.queryParams.primaryKey]===e.changeEvent.id)},A8=e=>{const t=e.changeEvent.previous;if(!t)return!1;const r=e.previousResults[0];return r?r[e.queryParams.primaryKey]===e.changeEvent.id?!0:e.queryParams.sortComparator(t,r)<0:!1},R8=e=>{const t=e.changeEvent.previous;if(!t)return!1;const r=Y0(e.previousResults);return r?r[e.queryParams.primaryKey]===e.changeEvent.id?!0:e.queryParams.sortComparator(t,r)>0:!1},T8=e=>{const t=e.changeEvent.doc;if(!t)return!1;const r=e.previousResults[0];return r?r[e.queryParams.primaryKey]===e.changeEvent.id?!0:e.queryParams.sortComparator(t,r)<0:!1},M8=e=>{const t=e.changeEvent.doc;if(!t)return!1;const r=Y0(e.previousResults);return r?r[e.queryParams.primaryKey]===e.changeEvent.id?!0:e.queryParams.sortComparator(t,r)>0:!1},I8=e=>{const t=e.changeEvent.previous;return t?e.queryParams.queryMatcher(t):!1},N8=e=>{const t=e.changeEvent.doc;return t?e.queryParams.queryMatcher(t):!1},D8=e=>e.previousResults.length===0,L8={0:E8,1:P8,2:O8,3:cx,4:w8,5:S8,6:D8,7:x8,8:C8,9:$8,10:j8,11:k8,12:A8,13:R8,14:T8,15:M8,16:I8,17:N8};function F8(e,t,r,n){var i=e.length,o=i-1,a=0;if(i===0)return e.push(t),0;for(var s;n<=o;)a=n+(o-n>>1),s=e[a],r(s,t)<=0?n=a+1:o=a-1;return r(s,t)<=0&&a++,e.splice(a,0,t),a}const B8=e=>{},G0=e=>{e.previousResults.unshift(e.changeEvent.doc),e.keyDocumentMap&&e.keyDocumentMap.set(e.changeEvent.id,e.changeEvent.doc)},X0=e=>{e.previousResults.push(e.changeEvent.doc),e.keyDocumentMap&&e.keyDocumentMap.set(e.changeEvent.id,e.changeEvent.doc)},J0=e=>{const t=e.previousResults.shift();e.keyDocumentMap&&t&&e.keyDocumentMap.delete(t[e.queryParams.primaryKey])},Z0=e=>{const t=e.previousResults.pop();e.keyDocumentMap&&t&&e.keyDocumentMap.delete(t[e.queryParams.primaryKey])},U8=e=>{J0(e),X0(e)},W8=e=>{Z0(e),G0(e)},z8=e=>{J0(e),G0(e)},K8=e=>{Z0(e),X0(e)},fx=e=>{e.keyDocumentMap&&e.keyDocumentMap.delete(e.changeEvent.id);const t=e.queryParams.primaryKey,r=e.previousResults;for(let n=0;n<r.length;n++)if(r[n][t]===e.changeEvent.id){r.splice(n,1);break}},V8=e=>{const t=e.changeEvent.doc,r=e.queryParams.primaryKey,n=e.previousResults;for(let i=0;i<n.length;i++)if(n[i][r]===e.changeEvent.id){n[i]=t,e.keyDocumentMap&&e.keyDocumentMap.set(e.changeEvent.id,t);break}},q8=e=>{const t={_id:"wrongHuman"+new Date().getTime()};e.previousResults.length=0,e.previousResults.push(t),e.keyDocumentMap&&(e.keyDocumentMap.clear(),e.keyDocumentMap.set(t._id,t))},dx=e=>{const t=e.changeEvent.id,r=e.changeEvent.doc;if(e.keyDocumentMap){if(e.keyDocumentMap.has(t))return;e.keyDocumentMap.set(t,r)}else if(e.previousResults.find(i=>i[e.queryParams.primaryKey]===t))return;F8(e.previousResults,r,e.queryParams.sortComparator,0)},H8=e=>{fx(e),dx(e)},Q8=e=>{throw new Error("Action runFullQueryAgain must be implemented by yourself")},Y8=e=>{throw new Error("Action unknownAction should never be called")},G8=["doNothing","insertFirst","insertLast","removeFirstItem","removeLastItem","removeFirstInsertLast","removeLastInsertFirst","removeFirstInsertFirst","removeLastInsertLast","removeExisting","replaceExisting","alwaysWrong","insertAtSortPosition","removeExistingAndInsertAtSortPosition","runFullQueryAgain","unknownAction"],X8={doNothing:B8,insertFirst:G0,insertLast:X0,removeFirstItem:J0,removeLastItem:Z0,removeFirstInsertLast:U8,removeLastInsertFirst:W8,removeFirstInsertFirst:z8,removeLastInsertLast:K8,removeExisting:fx,replaceExisting:V8,alwaysWrong:q8,insertAtSortPosition:dx,removeExistingAndInsertAtSortPosition:H8,runFullQueryAgain:Q8,unknownAction:Y8},J8=40;function Mm(e){return e.charCodeAt(0)-J8}function Z8(e){return e?"1":"0"}function Ow(e,t){const r=[];for(let n=0,i=e.length;n<i;n+=t)r.push(e.substring(n,n+t));return r}function eU(e){const t=new Map,n=2+parseInt(e.charAt(0)+e.charAt(1),10)*2,i=e.substring(2,n),o=Ow(i,2);for(let _=0;_<o.length;_++){const j=o[_],g=j.charAt(0),p=Mm(j.charAt(1));t.set(g,p)}const a=e.substring(n,e.length-3),s=Ow(a,4);for(let _=0;_<s.length;_++){const j=s[_],g=j.charAt(0),p=j.charAt(1),O=j.charAt(2),x=Mm(j.charAt(3));if(!t.has(p))throw new Error("missing node with id "+p);if(!t.has(O))throw new Error("missing node with id "+O);const P=t.get(p),C=t.get(O),A={l:x,0:P,1:C};t.set(g,A)}const u=e.slice(-3),l=u.charAt(0),c=u.charAt(1),d=Mm(u.charAt(2)),f=t.get(l),h=t.get(c);return{l:d,0:f,1:h}}function tU(e,t,r){let n=e,i=e.l;for(;;){const o=t[i](r),a=Z8(o);if(n=n[a],typeof n=="number"||typeof n=="string")return n;i=n.l}}const rU="14a1b,c+d2e5f0g/h.i4j*k-l)m(n6oeh6pnm6qen6ril6snh6tin6ubo9vce9wmh9xns9yne9zmi9{cm9|ad9}cp9~aq9ae9bf9bq9cg9ck9cn9nd9np9nq9nf9ng9nm9nk9mr9ms9mt9mj9mk9ml9mn9mc8{8}888mn88m8m4z4w4z44444m4v7yn77~777n777m77m7m7m5m5m55m555m55m5m552|2u2222x222|222222n2n222n2/an/bn/cn///////////,cn,,,,,,,ac0bc00000000000m-m-----------3333(((++++11*m*.";let Im;function nU(){return Im||(Im=eU(rU)),Im}const iU=e=>tU(nU(),L8,e);function oU(e){const t=iU(e);return G8[t]}function aU(e,t,r,n,i){const o=X8[e];return o({queryParams:t,changeEvent:r,previousResults:n,keyDocumentMap:i}),n}var Za="",es=Number.MIN_SAFE_INTEGER;function sU(e,t){var r=t.selector,n=e.indexes?e.indexes.slice(0):[];t.index&&(n=[t.index]);var i=!!t.sort.find(c=>Object.values(c)[0]==="desc"),o=new Set;Object.keys(r).forEach(c=>{var d=cl(e,c);d&&d.type==="boolean"&&Object.prototype.hasOwnProperty.call(r[c],"$eq")&&o.add(c)});var a=t.sort.map(c=>Object.keys(c)[0]),s=a.filter(c=>!o.has(c)).join(","),u=-1,l;if(n.forEach(c=>{var d=!0,f=!0,h=c.map(p=>{var O=r[p],x=O?Object.keys(O):[],P={};if(!O||!x.length){var C=f?es:Za;P={startKey:C,endKey:d?Za:es,inclusiveStart:!0,inclusiveEnd:!0}}else x.forEach(A=>{if(eb.has(A)){var D=O[A],B=fU(A,D);P=Object.assign(P,B)}});return typeof P.startKey>"u"&&(P.startKey=es),typeof P.endKey>"u"&&(P.endKey=Za),typeof P.inclusiveStart>"u"&&(P.inclusiveStart=!0),typeof P.inclusiveEnd>"u"&&(P.inclusiveEnd=!0),f&&!P.inclusiveStart&&(f=!1),d&&!P.inclusiveEnd&&(d=!1),P}),b=h.map(p=>p.startKey),_=h.map(p=>p.endKey),j={index:c,startKeys:b,endKeys:_,inclusiveEnd:d,inclusiveStart:f,sortSatisfiedByIndex:!i&&s===c.filter(p=>!o.has(p)).join(","),selectorSatisfiedByIndex:cU(c,t.selector,b,_)},g=dU(e,t,j);(g>=u||t.index)&&(u=g,l=j)}),!l)throw be("SNH",{query:t});return l}var eb=new Set(["$eq","$gt","$gte","$lt","$lte"]),uU=new Set(["$eq","$gt","$gte"]),lU=new Set(["$eq","$lt","$lte"]);function cU(e,t,r,n){var i=Object.entries(t),o=i.find(([A,D])=>{if(!e.includes(A))return!0;var B=Object.entries(D).find(([V,X])=>!eb.has(V));return B});if(o||t.$and||t.$or)return!1;var a=[],s=new Set;for(var[u,l]of Object.entries(t)){if(!e.includes(u))return!1;var c=Object.keys(l).filter(A=>uU.has(A));if(c.length>1)return!1;var d=c[0];if(d&&s.add(u),d!=="$eq"){if(a.length>0)return!1;a.push(d)}}var f=[],h=new Set;for(var[b,_]of Object.entries(t)){if(!e.includes(b))return!1;var j=Object.keys(_).filter(A=>lU.has(A));if(j.length>1)return!1;var g=j[0];if(g&&h.add(b),g!=="$eq"){if(f.length>0)return!1;f.push(g)}}var p=0;for(var O of e){for(var x of[s,h]){if(!x.has(O)&&x.size>0)return!1;x.delete(O)}var P=r[p],C=n[p];if(P!==C&&s.size>0&&h.size>0)return!1;p++}return!0}function fU(e,t){switch(e){case"$eq":return{startKey:t,endKey:t,inclusiveEnd:!0,inclusiveStart:!0};case"$lte":return{endKey:t,inclusiveEnd:!0};case"$gte":return{startKey:t,inclusiveStart:!0};case"$lt":return{endKey:t,inclusiveEnd:!1};case"$gt":return{startKey:t,inclusiveStart:!1};default:throw new Error("SNH")}}function dU(e,t,r){var n=0,i=c=>{c>0&&(n=n+c)},o=10,a=jm(r.startKeys,c=>c!==es&&c!==Za);i(a*o);var s=jm(r.startKeys,c=>c!==Za&&c!==es);i(s*o);var u=jm(r.startKeys,(c,d)=>c===r.endKeys[d]);i(u*o*1.5);var l=r.sortSatisfiedByIndex?5:0;return i(l),n}const hU=2147483647,vU=-2147483648,pU=Number.MAX_SAFE_INTEGER,mU=Number.MIN_SAFE_INTEGER,Wo=Symbol("missing"),hx=Object.freeze(new Error("mingo: cycle detected while processing object/array")),yU=Object.getPrototypeOf([]),vx=Object.getPrototypeOf({}),gU="[object Object]",bU=/^\[object ([a-zA-Z0-9]+)\]$/;class tb{}class rb{}const zo=e=>e===null?tb:e===void 0?rb:e.constructor,dp=e=>{const t=PU(e);let r=0,n=t.length;for(;n;)r=(r<<5)-r^t.charCodeAt(--n);return r>>>0},px=new Set(["null","undefined","boolean","number","string","date","regexp"]),Ew=new Set([rb,tb,Boolean,String,Number]),du=e=>e.toString(),Fr=e=>`${zo(e).name}[${e.toString()}]`,Ko=new Map([[Number,du],[Boolean,du],[RegExp,du],[Function,du],[Symbol,du],[Date,e=>e.toISOString()],[String,JSON.stringify],[tb,e=>"null"],[rb,e=>"undefined"],[Int8Array,Fr],[Uint8Array,Fr],[Uint8ClampedArray,Fr],[Int16Array,Fr],[Uint16Array,Fr],[Int32Array,Fr],[Uint32Array,Fr],[Float32Array,Fr],[Float64Array,Fr]]);typeof BigInt<"u"&&Ko.set(BigInt,e=>"0x"+e.toString(16));typeof BigInt64Array<"u"&&Ko.set(BigInt64Array,Fr);typeof BigUint64Array<"u"&&Ko.set(BigUint64Array,Fr);const _U={null:0,undefined:0,number:1,string:2,object:3,array:4,boolean:5,date:6,regexp:7,function:8},Xr=(e,t)=>{e===Wo&&(e=void 0),t===Wo&&(t=void 0);const[r,n]=[e,t].map(i=>_U[dl(i).toLowerCase()]);return r!==n?r-n:r===1||r===2||r===6?e<t?-1:e>t?1:0:Vo(e,t)?0:e<t?-1:e>t?1:0};function kr(e,t){if(!e)throw new Error(t)}const wU=e=>{const t=Object.getPrototypeOf(zo(e));return t&&t.name==="TypedArray"},Pw=e=>{if(Ew.has(zo(e)))return e;const t=new Set,r=n=>{if(t.has(n))throw hx;const i=zo(n);if(Ew.has(i))return n;try{if(Ut(n))return t.add(n),n.map(r);if(wt(n)){t.add(n);const o={};for(const a in n)o[a]=r(n[a]);return o}}finally{t.delete(n)}return i===Date||i===RegExp||wU(n)?new i(n):n};return r(e)},dl=e=>bU.exec(Object.prototype.toString.call(e))[1],Nm=e=>typeof e=="boolean",qn=e=>typeof e=="string",vi=e=>!isNaN(e)&&typeof e=="number",Ut=Array.isArray,wt=e=>{if(!e)return!1;const t=Object.getPrototypeOf(e);return(t===vx||t===null)&&gU===Object.prototype.toString.call(e)},hp=e=>e===Object(e),xw=e=>e instanceof Date,Tf=e=>e instanceof RegExp,vp=e=>typeof e=="function",Wt=e=>e==null,bs=(e,t)=>e.includes(t),mx=(e,t)=>!bs(e,t),SU=(e,t=!0)=>!!e||t&&e==="",Fs=e=>Wt(e)||qn(e)&&!e||e instanceof Array&&e.length===0||wt(e)&&Object.keys(e).length===0,jw=e=>e===Wo,lc=e=>e instanceof Array?e:[e],$i=(e,t)=>!!e&&Object.prototype.hasOwnProperty.call(e,t),OU=(e,t)=>wt(e)&&wt(t)||Ut(e)&&Ut(t);function og(e,t,r){if(r=r||{flatten:!1},jw(e)||Wt(e))return t;if(jw(t)||Wt(t))return e;if(!OU(e,t)){if(r.skipValidation)return t||e;throw Error("mismatched types. must both be array or object")}if(r.skipValidation=!0,Ut(e)){const n=e,i=t;if(r.flatten){let o=0,a=0;for(;o<n.length&&a<i.length;)n[o]=og(n[o++],i[a++],r);for(;a<i.length;)n.push(t[a++])}else cc(n,i)}else for(const n in t)e[n]=og(e[n],t[n],r);return e}function kw(e,t=dp){const r=new Map;return e.forEach((n,i)=>{const o=bx(n,t);r.has(o)?r.get(o).some(a=>Vo(e[a],n))||r.get(o).push(i):r.set(o,[i])}),r}function yx(e,t=dp){if(e.some(s=>s.length==0))return[];if(e.length===1)return Array.from(e);const r=xU(e.map((s,u)=>[u,s.length]),s=>s[1]),n=e[r[0][0]],i=kw(n,t),o=new Map,a=new Array;return i.forEach((s,u)=>{const l=s.map(h=>n[h]),c=l.map(h=>0),d=l.map(h=>[r[0][0],0]);let f=!1;for(let h=1;h<e.length;h++){const[b,_]=r[h],j=e[b];if(o.has(h)||o.set(h,kw(j)),o.get(h).has(u)){const g=o.get(h).get(u).map(p=>j[p]);f=l.map((p,O)=>g.some((x,P)=>{const C=c[O];return Vo(p,x)&&(c[O]++,b<d[O][0]&&(d[O]=[b,o.get(h).get(u)[P]])),C<c[O]})).some(Boolean)}if(!f)return}f&&cc(a,c.map((h,b)=>h===e.length-1?[l[b],d[b]]:Wo).filter(h=>h!==Wo))}),a.sort((s,u)=>{const[l,[c,d]]=s,[f,[h,b]]=u,_=Xr(c,h);return _!==0?_:Xr(d,b)}).map(s=>s[0])}function gx(e,t=0){const r=new Array;function n(i,o){for(let a=0,s=i.length;a<s;a++)Ut(i[a])&&(o>0||o<0)?n(i[a],Math.max(-1,o-1)):r.push(i[a])}return n(e,t),r}const EU=e=>{let[t,r]=[Object.getPrototypeOf(e),Object.getOwnPropertyNames(e)],n=t;for(;!r.length&&t!==vx&&t!==yU;)n=t,r=Object.getOwnPropertyNames(t),t=Object.getPrototypeOf(t);const i={};return r.forEach(o=>i[o]=e[o]),[i,n]};function Vo(e,t){const r=[[e,t]];for(;r.length>0;){if([e,t]=r.pop(),e===t)continue;const n=zo(e);if(n!==zo(t)||vp(e))return!1;if(Ko.has(n)){const i=Ko.get(n);if(i(e)!==i(t))return!1;continue}if(n===Array||n===Object){const i=Object.keys(e),o=Object.keys(t);if(i.length!==o.length||new Set(i.concat(o)).size!=i.length)return!1;for(const a of i)r.push([e[a],t[a]]);continue}return!1}return!r.length}function PU(e){const t=new Set,r=n=>{const i=zo(n);if(Ko.has(i))return Ko.get(i)(n);const o=i===Object?"":i.name;if(vp(n.toJSON))return`${o}(${JSON.stringify(n)})`;if(t.has(n))throw hx;t.add(n);try{if(i===Array)return"["+n.map(r).join(",")+"]";if(i!==Object){const[s,u]=EU(n);if(Ut(n))return`${o}${r([...n,s])}`;n=s}const a=Object.keys(n);return a.sort(),`${o}{`+a.map(s=>`${s}:${r(n[s])}`).join(",")+"}"}finally{t.delete(n)}};return r(e)}function bx(e,t){return t=t||dp,Wt(e)?null:t(e).toString()}function xU(e,t,r=Xr){if(Fs(e))return e;const n=new Array,i=new Array;for(let o=0;o<e.length;o++){const a=e[o],s=t(a,o);Wt(s)?i.push(a):n.push([s,a])}return n.sort((o,a)=>r(o[0],a[0])),cc(i,n.map(o=>o[1]))}function jU(e,t,r=dp){if(e.length<1)return new Map;const n=new Map,i=new Map;for(let o=0;o<e.length;o++){const a=e[o],s=t(a,o),u=bx(s,r);if(u===null)i.has(null)?i.get(null).push(a):i.set(null,[a]);else{const l=n.has(u)?n.get(u).find(c=>Vo(c,s)):null;Wt(l)?(i.set(s,[a]),n.has(u)?n.get(u).push(s):n.set(u,[s])):i.get(l).push(a)}}return i}const Dm=5e4;function cc(e,...t){return e instanceof Array?t.reduce((r,n)=>{let i=Math.ceil(n.length/Dm),o=0;for(;i-- >0;)Array.prototype.push.apply(r,n.slice(o,o+Dm)),o+=Dm;return r},e):t.filter(hp).reduce((r,n)=>(Object.assign(r,n),r),e)}function ag(e,t){return hp(e)?e[t]:void 0}function kU(e,t){if(t<1)return e;for(;t--&&e.length===1;)e=e[0];return e}function nb(e,t,r){let n=0;function i(a,s){let u=a;for(let l=0;l<s.length;l++){const c=s[l];if(/^\d+$/.exec(c)===null&&u instanceof Array){if(l===0&&n>0)break;n+=1;const f=s.slice(l);u=u.reduce((h,b)=>{const _=i(b,f);return _!==void 0&&h.push(_),h},[]);break}else u=ag(u,c);if(u===void 0)break}return u}const o=px.has(dl(e).toLowerCase())?e:i(e,t.split("."));return o instanceof Array&&(r!=null&&r.unwrapArray)?kU(o,n):o}function Mf(e,t,r){const n=t.split("."),i=n[0],o=n.slice(1).join("."),a=/^\d+$/.exec(i)!==null,s=n.length>1;let u,l;if(e instanceof Array)if(a)u=ag(e,Number(i)),s&&(u=Mf(u,o,r)),u=[u];else{u=[];for(const c of e)l=Mf(c,t,r),r!=null&&r.preserveMissing?(l===void 0&&(l=Wo),u.push(l)):l!==void 0&&u.push(l)}else{if(l=ag(e,i),s&&(l=Mf(l,o,r)),l===void 0)return;u=r!=null&&r.preserveKeys?Object.assign({},e):{},u[i]=l}return u}function sg(e){if(e instanceof Array)for(let t=e.length-1;t>=0;t--)e[t]===Wo?e.splice(t,1):sg(e[t]);else if(wt(e))for(const t in e)$i(e,t)&&sg(e[t])}const Cw=/^\d+$/;function Ed(e,t,r,n){const i=t.split("."),o=i[0],a=i.slice(1).join(".");if(i.length===1)(wt(e)||Ut(e)&&Cw.test(o))&&r(e,o);else{n!=null&&n.buildGraph&&Wt(e[o])&&(e[o]={});const s=e[o];if(!s)return;const u=!!(i.length>1&&Cw.test(i[1]));s instanceof Array&&(n!=null&&n.descendArray)&&!u?s.forEach(l=>Ed(l,a,r,n)):Ed(s,a,r,n)}}function CU(e,t,r){Ed(e,t,(n,i)=>{n[i]=vp(r)?r(n[i]):r},{buildGraph:!0})}function $w(e,t,r){Ed(e,t,(n,i)=>{if(n instanceof Array){if(/^\d+$/.test(i))n.splice(parseInt(i),1);else if(r&&r.descendArray)for(const o of n)wt(o)&&delete o[i]}else wt(n)&&delete n[i]},r)}const $U=/^\$[a-zA-Z0-9_]+$/;function Bs(e){return $U.test(e)}function _x(e){if(px.has(dl(e).toLowerCase()))return Tf(e)?{$regex:e}:{$eq:e};if(hp(e)){if(!Object.keys(e).some(Bs))return{$eq:e};if($i(e,"$regex")){const r=Object.assign({},e);return r.$regex=new RegExp(e.$regex,e.$options),delete r.$options,r}}return e}var gi;(function(e){e.CLONE_ALL="CLONE_ALL",e.CLONE_INPUT="CLONE_INPUT",e.CLONE_OUTPUT="CLONE_OUTPUT",e.CLONE_OFF="CLONE_OFF"})(gi||(gi={}));class Eo{constructor(t,r,n,i=Date.now()){this._opts=t,this._root=r,this._local=n,this.timestamp=i,this.update(r,n)}static init(t,r,n){return t instanceof Eo?new Eo(t._opts,Wt(t.root)?r:t.root,Object.assign({},t.local,n)):new Eo(t,r,n)}update(t,r){var n;return this._root=t,this._local=r&&Object.assign({},r,{variables:Object.assign({},(n=this._local)===null||n===void 0?void 0:n.variables,r==null?void 0:r.variables)}),this}getOptions(){return Object.freeze(Object.assign(Object.assign({},this._opts),{context:qo.from(this._opts.context)}))}get root(){return this._root}get local(){return this._local}get idKey(){return this._opts.idKey}get collation(){var t;return(t=this._opts)===null||t===void 0?void 0:t.collation}get processingMode(){var t;return((t=this._opts)===null||t===void 0?void 0:t.processingMode)||gi.CLONE_OFF}get useStrictMode(){var t;return(t=this._opts)===null||t===void 0?void 0:t.useStrictMode}get scriptEnabled(){var t;return(t=this._opts)===null||t===void 0?void 0:t.scriptEnabled}get useGlobalContext(){var t;return(t=this._opts)===null||t===void 0?void 0:t.useGlobalContext}get hashFunction(){var t;return(t=this._opts)===null||t===void 0?void 0:t.hashFunction}get collectionResolver(){var t;return(t=this._opts)===null||t===void 0?void 0:t.collectionResolver}get jsonSchemaValidator(){var t;return(t=this._opts)===null||t===void 0?void 0:t.jsonSchemaValidator}get variables(){var t;return(t=this._opts)===null||t===void 0?void 0:t.variables}get context(){var t;return(t=this._opts)===null||t===void 0?void 0:t.context}}function wx(e){return e instanceof Eo?e.getOptions():Object.freeze(Object.assign(Object.assign({idKey:"_id",scriptEnabled:!0,useStrictMode:!0,useGlobalContext:!0,processingMode:gi.CLONE_OFF},e),{context:e!=null&&e.context?qo.from(e==null?void 0:e.context):qo.init({})}))}var Ne;(function(e){e.ACCUMULATOR="accumulator",e.EXPRESSION="expression",e.PIPELINE="pipeline",e.PROJECTION="projection",e.QUERY="query",e.WINDOW="window"})(Ne||(Ne={}));class qo{constructor(t){this.operators={[Ne.ACCUMULATOR]:{},[Ne.EXPRESSION]:{},[Ne.PIPELINE]:{},[Ne.PROJECTION]:{},[Ne.QUERY]:{},[Ne.WINDOW]:{}};for(const[r,n]of Object.entries(t))this.addOperators(r,n)}static init(t={}){return new qo(t)}static from(t){return new qo(t.operators)}addOperators(t,r){for(const[n,i]of Object.entries(r))this.getOperator(t,n)||(this.operators[t][n]=i);return this}addAccumulatorOps(t){return this.addOperators(Ne.ACCUMULATOR,t)}addExpressionOps(t){return this.addOperators(Ne.EXPRESSION,t)}addQueryOps(t){return this.addOperators(Ne.QUERY,t)}addPipelineOps(t){return this.addOperators(Ne.PIPELINE,t)}addProjectionOps(t){return this.addOperators(Ne.PROJECTION,t)}addWindowOps(t){return this.addOperators(Ne.WINDOW,t)}getOperator(t,r){return t in this.operators&&this.operators[t][r]||null}}const fo=qo.init();function Aw(e,t){for(const[r,n]of Object.entries(t)){kr(vp(n)&&Bs(r),`'${r}' is not a valid operator`);const i=Po(e,r,null);kr(!i||n===i,`${r} already exists for '${e}' operators. Cannot change operator function once registered.`)}switch(e){case Ne.ACCUMULATOR:fo.addAccumulatorOps(t);break;case Ne.EXPRESSION:fo.addExpressionOps(t);break;case Ne.PIPELINE:fo.addPipelineOps(t);break;case Ne.PROJECTION:fo.addProjectionOps(t);break;case Ne.QUERY:fo.addQueryOps(t);break;case Ne.WINDOW:fo.addWindowOps(t);break}}function Po(e,t,r){const{context:n,useGlobalContext:i}=r||{},o=n?n.getOperator(e,t):null;return!o&&i?fo.getOperator(e,t):o}const Rw={$$ROOT(e,t,r){return r.root},$$CURRENT(e,t,r){return e},$$REMOVE(e,t,r){},$$NOW(e,t,r){return new Date(r.timestamp)}},ug={$$KEEP(e,t,r){return e},$$PRUNE(e,t,r){},$$DESCEND(e,t,r){if(!$i(t,"$cond"))return e;let n;for(const[i,o]of Object.entries(e))if(hp(o)){if(o instanceof Array){const a=[];for(let s of o)wt(s)&&(s=Tw(s,t,r.update(s))),Wt(s)||a.push(s);n=a}else n=Tw(o,t,r.update(o));Wt(n)?delete e[i]:e[i]=n}return e}};function hn(e,t,r,n){var i;const o=Eo.init(n,e);if(r=r||"",Bs(r)){const a=Po(Ne.EXPRESSION,r,n);if(a)return a(e,t,o);const s=Po(Ne.ACCUMULATOR,r,n);if(s)return e instanceof Array||(e=hn(e,t,null,o),t=null),kr(e instanceof Array,`'${r}' target must be an array.`),s(e,t,o.update(null,o.local));throw new Error(`operator '${r}' is not registered`)}if(qn(t)&&t.length>0&&t[0]==="$"){if($i(ug,t))return t;let a=o.root;const s=t.split(".");if($i(Rw,s[0]))a=Rw[s[0]](e,null,o),t=t.slice(s[0].length+1);else if(s[0].slice(0,2)==="$$"){a=Object.assign({},o.variables,{this:e},(i=o.local)===null||i===void 0?void 0:i.variables);const u=s[0].slice(2);kr($i(a,u),`Use of undefined variable: ${u}`),t=t.slice(2)}else t=t.slice(1);return t===""?a:nb(a,t)}if(Ut(t))return t.map(a=>hn(e,a,null,o));if(wt(t)){const a={};for(const[s,u]of Object.entries(t))if(a[s]=hn(e,u,s,o),[Ne.EXPRESSION,Ne.ACCUMULATOR].some(l=>!!Po(l,s,n)))return kr(Object.keys(t).length===1,"Invalid aggregation expression '"+JSON.stringify(t)+"'"),a[s];return a}return t}function Tw(e,t,r){const n=hn(e,t,null,r);return $i(ug,n)?ug[n](e,t,r):n}function _s(e){return e instanceof Mw?e:new Mw(e)}function AU(...e){let t=0;return _s(()=>{for(;t<e.length;){const r=e[t].next();if(!r.done)return r;t++}return{done:!0}})}function RU(e){return!!e&&typeof e=="object"&&(e==null?void 0:e.next)instanceof Function}function TU(e,t){const r=e.slice(t+1);e.splice(t),Array.prototype.push.apply(e,r)}const lg=new Error;var pn;(function(e){e[e.MAP=0]="MAP",e[e.FILTER=1]="FILTER",e[e.TAKE=2]="TAKE",e[e.DROP=3]="DROP"})(pn||(pn={}));function MU(e,t,r){let n=!1,i=-1,o=0;return function(a){try{e:for(;!n;){let s=e();i++;let u=-1;const l=t.length;let c=!1;for(;++u<l;){const d=t[u];switch(d.action){case pn.MAP:s=d.func(s,i);break;case pn.FILTER:if(!d.func(s,i))continue e;break;case pn.TAKE:--d.count,d.count||(c=!0);break;case pn.DROP:--d.count,d.count||TU(t,u);continue e;default:break e}}if(n=c,a)r[o++]=s;else return{value:s,done:!1}}}catch(s){if(s!==lg)throw s}return n=!0,{done:n}}}class Mw{constructor(t){this.iteratees=[],this.yieldedValues=[],this.isDone=!1;let r;if(t instanceof Function&&(t={next:t}),RU(t)){const n=t;r=()=>{const i=n.next();if(i.done)throw lg;return i.value}}else if(t instanceof Array){const n=t,i=n.length;let o=0;r=()=>{if(o<i)return n[o++];throw lg}}else if(!(t instanceof Function))throw new Error("Lazy must be initialized with an array, generator, or function.");this.getNext=MU(r,this.iteratees,this.yieldedValues)}push(t,r){return typeof r=="function"?this.iteratees.push({action:t,func:r}):typeof r=="number"&&this.iteratees.push({action:t,count:r}),this}next(){return this.getNext()}map(t){return this.push(pn.MAP,t)}filter(t){return this.push(pn.FILTER,t)}take(t){return t>0?this.push(pn.TAKE,t):this}drop(t){return t>0?this.push(pn.DROP,t):this}transform(t){const r=this;let n;return _s(()=>(n||(n=_s(t(r.value()))),n.next()))}value(){return this.isDone||(this.isDone=this.getNext(!0).done),this.yieldedValues}each(t){for(;;){const r=this.next();if(r.done)break;if(t(r.value)===!1)return!1}return!0}reduce(t,r){let n=this.next();for(r===void 0&&!n.done&&(r=n.value,n=this.next());!n.done;)r=t(r,n.value),n=this.next();return r}size(){return this.reduce((t,r)=>++t,0)}[Symbol.iterator](){return this}}class IU{constructor(t,r){this.pipeline=t,this.options=wx(r)}stream(t){let r=_s(t);const n=this.options.processingMode;(n==gi.CLONE_ALL||n==gi.CLONE_INPUT)&&r.map(Pw);const i=new Array;if(!Fs(this.pipeline))for(const o of this.pipeline){const a=Object.keys(o),s=a[0],u=Po(Ne.PIPELINE,s,this.options);kr(a.length===1&&!!u,`invalid pipeline operator ${s}`),i.push(s),r=u(r,o[s],this.options)}return(n==gi.CLONE_OUTPUT||n==gi.CLONE_ALL&&yx([["$group","$unwind"],i]).length)&&r.map(Pw),r}run(t){return this.stream(t).value()}}class NU{constructor(t,r,n,i){this.source=t,this.predicate=r,this.projection=n,this.options=i,this.operators=[],this.result=null,this.buffer=[]}fetch(){return this.result?this.result:(wt(this.projection)&&this.operators.push({$project:this.projection}),this.result=_s(this.source).filter(this.predicate),this.operators.length>0&&(this.result=new IU(this.operators,this.options).stream(this.result)),this.result)}fetchAll(){const t=_s([...this.buffer]);return this.buffer=[],AU(t,this.fetch())}all(){return this.fetchAll().value()}count(){return this.all().length}skip(t){return this.operators.push({$skip:t}),this}limit(t){return this.operators.push({$limit:t}),this}sort(t){return this.operators.push({$sort:t}),this}collation(t){return this.options=Object.assign(Object.assign({},this.options),{collation:t}),this}next(){if(this.buffer.length>0)return this.buffer.pop();const t=this.fetch().next();if(!t.done)return t.value}hasNext(){if(this.buffer.length>0)return!0;const t=this.fetch().next();return t.done?!1:(this.buffer.push(t.value),!0)}map(t){return this.all().map(t)}forEach(t){this.all().forEach(t)}[Symbol.iterator](){return this.fetchAll()}}class fc{constructor(t,r){this.condition=t,this.options=wx(r),this.compiled=[],this.compile()}compile(){kr(wt(this.condition),`query criteria must be an object: ${JSON.stringify(this.condition)}`);const t={};for(const[r,n]of Object.entries(this.condition)){if(r==="$where")Object.assign(t,{field:r,expr:n});else if(bs(["$and","$or","$nor","$expr","$jsonSchema"],r))this.processOperator(r,r,n);else{kr(!Bs(r),`unknown top level operator: ${r}`);for(const[i,o]of Object.entries(_x(n)))this.processOperator(r,i,o)}t.field&&this.processOperator(t.field,t.field,t.expr)}}processOperator(t,r,n){const i=Po(Ne.QUERY,r,this.options);if(!i)throw new Error(`unknown operator ${r}`);const o=i(t,n,this.options);this.compiled.push(o)}test(t){for(let r=0,n=this.compiled.length;r<n;r++)if(!this.compiled[r](t))return!1;return!0}find(t,r){return new NU(t,n=>this.test(n),r||{},this.options)}remove(t){return t.reduce((r,n)=>(this.test(n)||r.push(n),r),[])}}const DU=(e,t,r)=>{if(Fs(t)||!wt(t))return e;let n=Xr;const i=r.collation;return wt(i)&&qn(i.locale)&&(n=FU(i)),e.transform(o=>{const a=Object.keys(t);for(const s of a.reverse()){const u=jU(o,c=>nb(c,s),r.hashFunction),l=Array.from(u.keys()).sort(n);t[s]===-1&&l.reverse(),o=[],l.reduce((c,d)=>cc(c,u.get(d)),o)}return o})},LU={1:"base",2:"accent",3:"variant"};function FU(e){const t={sensitivity:LU[e.strength||3],caseFirst:e.caseFirst==="off"?"false":e.caseFirst||"false",numeric:e.numericOrdering||!1,ignorePunctuation:e.alternate==="shifted"};(e.caseLevel||!1)===!0&&(t.sensitivity==="base"&&(t.sensitivity="case"),t.sensitivity==="accent"&&(t.sensitivity="variant"));const r=new Intl.Collator(e.locale,t);return(n,i)=>{if(!qn(n)||!qn(i))return Xr(n,i);const o=r.compare(n,i);return o<0?-1:o>0?1:0}}function Jt(e){const t=(r,n,i)=>{const o={unwrapArray:!0},a=Math.max(1,r.split(".").length-1);return s=>{const u=nb(s,r,o);return e(u,n,Object.assign(Object.assign({},i),{depth:a}))}};return t.op="query",t}function Sx(e,t,r){if(Vo(e,t)||Wt(e)&&Wt(t))return!0;if(e instanceof Array){const n=Vo.bind(null,t);return e.some(n)||gx(e,r==null?void 0:r.depth).some(n)}return!1}function BU(e,t,r){return!Sx(e,t,r)}function Ox(e,t,r){return Wt(e)?t.some(n=>n===null):yx([lc(e),t],r==null?void 0:r.hashFunction).length>0}function UU(e,t,r){return!Ox(e,t,r)}function WU(e,t,r){return pp(e,t,(n,i)=>Xr(n,i)<0)}function zU(e,t,r){return pp(e,t,(n,i)=>Xr(n,i)<=0)}function KU(e,t,r){return pp(e,t,(n,i)=>Xr(n,i)>0)}function VU(e,t,r){return pp(e,t,(n,i)=>Xr(n,i)>=0)}function qU(e,t,r){return lc(e).some(n=>t.length===2&&n%t[0]===t[1])}function HU(e,t,r){const n=lc(e),i=o=>qn(o)&&SU(t.exec(o),r==null?void 0:r.useStrictMode);return n.some(i)||gx(n,1).some(i)}function QU(e,t,r){return(t===!1||t===0)&&e===void 0||(t===!0||t===1)&&e!==void 0}function YU(e,t,r){if(!Ut(e)||!Ut(t)||!e.length||!t.length)return!1;let n=!0;for(const i of t){if(!n)break;wt(i)&&bs(Object.keys(i),"$elemMatch")?n=Ex(e,i.$elemMatch,r):i instanceof RegExp?n=e.some(o=>typeof o=="string"&&i.test(o)):n=e.some(o=>Vo(i,o))}return n}function GU(e,t,r){return Array.isArray(e)&&e.length===t}function XU(e){return Bs(e)&&["$and","$or","$nor"].indexOf(e)===-1}function Ex(e,t,r){if(Ut(e)&&!Fs(e)){let n=a=>a,i=t;Object.keys(t).every(XU)&&(i={temp:t},n=a=>({temp:a}));const o=new fc(i,r);for(let a=0,s=e.length;a<s;a++)if(o.test(n(e[a])))return!0}return!1}const Iw=e=>e===null,Nw=e=>vi(e)&&e>=vU&&e<=hU&&e.toString().indexOf(".")===-1,Dw=e=>vi(e)&&e>=mU&&e<=pU&&e.toString().indexOf(".")===-1,JU={array:Ut,bool:Nm,boolean:Nm,date:xw,decimal:vi,double:vi,int:Nw,long:Dw,number:vi,null:Iw,object:wt,regex:Tf,regexp:Tf,string:qn,undefined:Wt,function:e=>{throw new Error("unsupported type key `function`.")},1:vi,2:qn,3:wt,4:Ut,6:Wt,8:Nm,9:xw,10:Iw,11:Tf,16:Nw,18:Dw,19:vi};function Lw(e,t,r){const n=JU[t];return n?n(e):!1}function ZU(e,t,r){return Array.isArray(t)?t.findIndex(n=>Lw(e,n))>=0:Lw(e,t)}function pp(e,t,r){return lc(e).some(n=>dl(n)===dl(t)&&r(n,t))}const Fw=(e,t)=>{const r={};return e.split("").forEach((n,i)=>r[n]=t*(i+1)),r};Object.assign(Object.assign(Object.assign({},Fw("ABCDEFGHIKLM",1)),Fw("NOPQRSTUVWXY",-1)),{Z:0});const Bw={undefined:null,null:null,NaN:NaN,Infinity:new Error,"-Infinity":new Error};function gr(e,t=Bw){const r=Object.assign({},Bw,t),n=new Set(Object.keys(r));return(i,o,a)=>{const s=hn(i,o,null,a);if(n.has(`${s}`)){const u=r[`${s}`];if(u instanceof Error)throw new Error(`cannot apply $${e.name} to -inf, value must in (-inf,inf)`);return u}return e(s)}}gr(Math.acos,{Infinity:1/0,0:new Error});gr(Math.acosh,{Infinity:1/0,0:new Error});gr(Math.asin);gr(Math.asinh,{Infinity:1/0,"-Infinity":-1/0});gr(Math.atan);gr(Math.atanh,{1:1/0,"-1":-1/0});gr(Math.cos);gr(Math.cosh,{"-Infinity":1/0,Infinity:1/0});const eW=Math.PI/180;gr(e=>e*eW,{Infinity:1/0,"-Infinity":1/0});const tW=180/Math.PI;gr(e=>e*tW,{Infinity:1/0,"-Infinity":-1/0});gr(Math.sin);gr(Math.sinh,{"-Infinity":-1/0,Infinity:1/0});gr(Math.tan);const rW=(e,t,r)=>{if(Fs(t))return e;let n=Object.keys(t),i=!1;Px(t,r);const o=r.idKey;if(bs(n,o)){const s=t[o];(s===0||s===!1)&&(n=n.filter(mx.bind(null,[o])),i=n.length==0)}else n.push(o);const a=Eo.init(r);return e.map(s=>cg(s,t,a.update(s),n,i))};function cg(e,t,r,n,i){let o={},a=!1,s=!1;const u=[];i&&u.push(r.idKey);for(const l of n){let c;const d=t[l];if(l!==r.idKey&&bs([0,!1],d)&&(s=!0),l===r.idKey&&Fs(d))c=e[l];else if(qn(d))c=hn(e,d,l,r);else if(!bs([1,!0],d))if(d instanceof Array)c=d.map(h=>{const b=hn(e,h,null,r);return Wt(b)?null:b});else if(wt(d)){const h=d,b=Object.keys(d),_=b.length==1?b[0]:"",j=Po(Ne.PROJECTION,_,r);if(j)_==="$slice"?lc(h[_]).every(vi)?(c=j(e,h[_],l,r),a=!0):c=hn(e,h,l,r):c=j(e,h[_],l,r);else if(Bs(_))c=hn(e,h[_],_,r);else if($i(e,l)){Px(h,r);let g=e[l];g instanceof Array?c=g.map(p=>cg(p,h,r,b,!1)):(g=wt(g)?g:e,c=cg(g,h,r,b,!1))}else c=hn(e,d,null,r)}else{u.push(l);continue}const f=Mf(e,l,{preserveMissing:!0});f!==void 0&&og(o,f,{flatten:!0}),mx([0,1,!1,!0],d)&&(c===void 0?$w(o,l,{descendArray:!0}):CU(o,l,c))}if(sg(o),(a||s||i)&&(o=cc({},e,o),u.length>0))for(const l of u)$w(o,l,{descendArray:!0});return o}function Px(e,t){const r=[!1,!1];for(const[n,i]of Object.entries(e)){if(n===(t==null?void 0:t.idKey))return;i===0||i===!1?r[0]=!0:(i===1||i===!0)&&(r[1]=!0),kr(!(r[0]&&r[1]),"Projection cannot have a mix of inclusion and exclusion.")}}const nW=(e,t,r)=>{kr(Ut(t),"Invalid expression: $and expects value to be an Array.");const n=t.map(i=>new fc(i,r));return i=>n.every(o=>o.test(i))},xx=(e,t,r)=>{kr(Ut(t),"Invalid expression. $or expects value to be an Array");const n=t.map(i=>new fc(i,r));return i=>n.some(o=>o.test(i))},iW=(e,t,r)=>{kr(Ut(t),"Invalid expression. $nor expects value to be an array.");const n=xx("$or",t,r);return i=>!n(i)},oW=(e,t,r)=>{const n={};n[e]=_x(t);const i=new fc(n,r);return o=>!i.test(o)},aW=Jt(Sx),sW=Jt(KU),uW=Jt(VU),lW=Jt(Ox),cW=Jt(WU),fW=Jt(zU),dW=Jt(BU),hW=Jt(UU),vW=Jt(qU),pW=Jt(HU);Jt(YU);const mW=Jt(Ex),yW=Jt(GU),gW=Jt(QU),bW=Jt(ZU);var Uw=!1;function _W(e){return Uw||(Aw(Ne.PIPELINE,{$sort:DU,$project:rW}),Aw(Ne.QUERY,{$and:nW,$eq:aW,$elemMatch:mW,$exists:gW,$gt:sW,$gte:uW,$in:lW,$lt:cW,$lte:fW,$ne:dW,$nin:hW,$mod:vW,$nor:iW,$not:oW,$or:xx,$regex:pW,$size:yW,$type:bW}),Uw=!0),new fc(e)}function fg(e,t){var r=Qi(e.primaryKey);t=et(t);var n=al(t);if(typeof n.skip!="number"&&(n.skip=0),n.selector?(n.selector=n.selector,Object.entries(n.selector).forEach(([l,c])=>{(typeof c!="object"||c===null)&&(n.selector[l]={$eq:c})})):n.selector={},n.index){var i=z0(n.index);i.includes(r)||i.push(r),n.index=i}if(n.sort){var u=n.sort.find(l=>_6(l)===r);u||(n.sort=n.sort.slice(0),n.sort.push({[r]:"asc"}))}else if(n.index)n.sort=n.index.map(l=>({[l]:"asc"}));else{if(e.indexes){var o=new Set;Object.entries(n.selector).forEach(([l,c])=>{var d=!1;typeof c=="object"&&c!==null?d=!!Object.keys(c).find(f=>eb.has(f)):d=!0,d&&o.add(l)});var a=-1,s;e.indexes.forEach(l=>{var c=ap(l)?l:[l],d=c.findIndex(f=>!o.has(f));d>0&&d>a&&(a=d,s=c)}),s&&(n.sort=s.map(l=>({[l]:"asc"})))}n.sort||(n.sort=[{[r]:"asc"}])}return n}function jx(e,t){if(!t.sort)throw be("SNH",{query:t});var r=[];t.sort.forEach(i=>{var o=Object.keys(i)[0],a=Object.values(i)[0];r.push({key:o,direction:a,getValueFn:b6(o)})});var n=(i,o)=>{for(var a=0;a<r.length;++a){var s=r[a],u=s.getValueFn(i),l=s.getValueFn(o);if(u!==l){var c=s.direction==="asc"?Xr(u,l):Xr(l,u);return c}}};return n}function ib(e,t){if(!t.sort)throw be("SNH",{query:t});var r=_W(t.selector),n=i=>r.test(i);return n}function wW(e,t){return!t.sort||t.sort.length===0?[e]:t.sort.map(r=>Object.keys(r)[0])}var SW=new WeakMap;function OW(e){return gn(SW,e,()=>{var t=e.collection,r=fg(t.storageInstance.schema,al(e.mangoQuery)),n=t.schema.primaryPath,i=jx(t.schema.jsonSchema,r),o=(l,c)=>{var d={docA:l,docB:c,rxQuery:e};return i(d.docA,d.docB)},a=ib(t.schema.jsonSchema,r),s=l=>{var c={doc:l,rxQuery:e};return a(c.doc)},u={primaryKey:e.collection.schema.primaryPath,skip:r.skip,limit:r.limit,sortFields:wW(n,r),sortComparator:o,queryMatcher:s};return u})}function EW(e,t){if(!e.collection.database.eventReduce)return{runFullQueryAgain:!0};var r=OW(e),n=ut(e._result).docsData.slice(0),i=ut(e._result).docsDataMap,o=!1,a=t.map(u=>g8(u)).filter(Y5),s=a.find(u=>{var l={queryParams:r,changeEvent:u,previousResults:n,keyDocumentMap:i},c=oU(l);if(c==="runFullQueryAgain")return!0;if(c!=="doNothing")return o=!0,aU(c,r,u,n,i),!1});return s?{runFullQueryAgain:!0}:{runFullQueryAgain:!1,changed:o,newResults:n}}var PW=function(){function e(){this._map=new Map}var t=e.prototype;return t.getByQuery=function(n){var i=n.toString();return gn(this._map,i,()=>n)},e}();function xW(){return new PW}function Ww(e,t){t.uncached=!0;var r=t.toString();e._map.delete(r)}function jW(e){return e.refCount$.observers.length}var kW=100,CW=30*1e3,$W=(e,t)=>(r,n)=>{if(!(n._map.size<e)){var i=jr()-t,o=[],a=Array.from(n._map.values());for(var s of a)if(!(jW(s)>0)){if(s._lastEnsureEqual===0&&s._creationTime<i){Ww(n,s);continue}o.push(s)}var u=o.length-e;if(!(u<=0)){var l=o.sort((d,f)=>d._lastEnsureEqual-f._lastEnsureEqual),c=l.slice(0,u);c.forEach(d=>Ww(n,d))}}},kx=$W(kW,CW),Lm=new WeakSet;function AW(e){Lm.has(e)||(Lm.add(e),f6().then(()=>v6(200)).then(()=>{e.destroyed||e.cacheReplacementPolicy(e,e._queryCache),Lm.delete(e)}))}var RW=function(){function e(r,n,i){this.cacheItemByDocId=new Map,this.registry=typeof FinalizationRegistry=="function"?new FinalizationRegistry(o=>{var a=o.docId,s=this.cacheItemByDocId.get(a);s&&(s.byRev.delete(o.revisionHeight),s.byRev.size===0&&this.cacheItemByDocId.delete(a))}):void 0,this.registerIdleTasks=[],this.primaryPath=r,this.changes$=n,this.documentCreator=i,n.subscribe(o=>{var a=o.documentId,s=this.cacheItemByDocId.get(a);if(s){var u=lx(o);s.last=u}})}var t=e.prototype;return t.getLatestDocumentData=function(n){var i=sl(this.cacheItemByDocId,n);return i.last},t.getLatestDocumentDataIfExists=function(n){var i=this.cacheItemByDocId.get(n);if(i)return i.last},Hi(e,[{key:"getCachedRxDocument",get:function(){var r=TW(this);return ki(this,"getCachedRxDocument",r)}}]),e}();function TW(e){var t=e.primaryPath,r=e.cacheItemByDocId,n=e.registry,i=ft.deepFreezeWhenDevMode,o=e.documentCreator,a=s=>{var u=s[t],l=hw(s._rev),c=gn(r,u,()=>MW(s)),d=c.byRev,f=d.get(l),h=f?f.deref():void 0;return h||(s=i(s),h=o(s),d.set(l,NW(h)),n&&(e.registerIdleTasks.push(h),e.registerIdlePromise||(e.registerIdlePromise=PP().then(()=>{e.registerIdlePromise=void 0;var b=e.registerIdleTasks;b.length!==0&&(e.registerIdleTasks=[],b.forEach(_=>{n.register(_,{docId:_.primary,revisionHeight:hw(_.revision)})}))})))),h};return a}function Cx(e,t){for(var r=e.getCachedRxDocument,n=[],i=0;i<t.length;i++){var o=t[i],a=r(o);n.push(a)}return n}function MW(e){return{byRev:new Map,last:e}}var IW=typeof WeakRef=="function",NW=IW?DW:LW;function DW(e){return new WeakRef(e)}function LW(e){return{deref(){return e}}}var zw=function(){function e(t,r,n){this.time=jr(),this.collection=t,this.count=n,this.documents=Cx(this.collection._docCache,r)}return Hi(e,[{key:"docsData",get:function(){return ki(this,"docsData",this.documents.map(t=>t._data))}},{key:"docsDataMap",get:function(){var t=new Map;return this.documents.forEach(r=>{t.set(r.primary,r._data)}),ki(this,"docsDataMap",t)}},{key:"docsMap",get:function(){for(var t=new Map,r=this.documents,n=0;n<r.length;n++){var i=r[n];t.set(i.primary,i)}return ki(this,"docsMap",t)}}]),e}(),FW=0,BW=function(){return++FW},$x=function(){function e(r,n,i,o={}){this.id=BW(),this._execOverDatabaseCount=0,this._creationTime=jr(),this._lastEnsureEqual=0,this.uncached=!1,this.refCount$=new kt.BehaviorSubject(null),this._result=null,this._latestChangeEvent=-1,this._lastExecStart=0,this._lastExecEnd=0,this._ensureEqualQueue=yi,this.op=r,this.mangoQuery=n,this.collection=i,this.other=o,n||(this.mangoQuery=If()),this.isFindOneByIdQuery=KW(this.collection.schema.primaryPath,n)}var t=e.prototype;return t._setResultData=function(n){if(typeof n=="number"){this._result=new zw(this.collection,[],n);return}else n instanceof Map&&(n=Array.from(n.values()));var i=new zw(this.collection,n,n.length);this._result=i},t._execOverDatabase=async function(){if(this._execOverDatabaseCount=this._execOverDatabaseCount+1,this._lastExecStart=jr(),this.op==="count"){var n=this.getPreparedQuery(),i=await this.collection.storageInstance.count(n);if(i.mode==="slow"&&!this.collection.database.allowSlowCount)throw be("QU14",{collection:this.collection,queryObj:this.mangoQuery});return i.count}if(this.op==="findByIds"){var o=ut(this.mangoQuery.selector)[this.collection.schema.primaryPath].$in,a=new Map,s=[];if(o.forEach(c=>{var d=this.collection._docCache.getLatestDocumentDataIfExists(c);if(d){if(!d._deleted){var f=this.collection._docCache.getCachedRxDocument(d);a.set(c,f)}}else s.push(c)}),s.length>0){var u=await this.collection.storageInstance.findDocumentsById(s,!1);u.forEach(c=>{var d=this.collection._docCache.getCachedRxDocument(c);a.set(d.primary,d)})}return a}var l=zW(this);return l.then(c=>(this._lastExecEnd=jr(),c))},t.exec=function(n){if(n&&this.op!=="findOne")throw be("QU9",{collection:this.collection.name,query:this.mangoQuery,op:this.op});return Kw(this).then(()=>kt.firstValueFrom(this.$)).then(i=>{if(!i&&n)throw be("QU10",{collection:this.collection.name,query:this.mangoQuery,op:this.op});return i})},t.toString=function(){var n=Sd({op:this.op,query:this.mangoQuery,other:this.other},!0),i=JSON.stringify(n);return this.toString=()=>i,i},t.getPreparedQuery=function(){var n={rxQuery:this,mangoQuery:fg(this.collection.schema.jsonSchema,this.mangoQuery)};n.mangoQuery.selector._deleted={$eq:!1},n.mangoQuery.index&&n.mangoQuery.index.unshift("_deleted"),Yr("prePrepareQuery",n);var i=ob(this.collection.schema.jsonSchema,n.mangoQuery);return this.getPreparedQuery=()=>i,i},t.doesDocumentDataMatch=function(n){return n._deleted?!1:this.queryMatcher(n)},t.remove=function(){return this.exec().then(n=>Array.isArray(n)?Promise.all(n.map(i=>i.remove())):n.remove())},t.update=function(n){throw qe("update")},t.where=function(n){throw qe("query-builder")},t.sort=function(n){throw qe("query-builder")},t.skip=function(n){throw qe("query-builder")},t.limit=function(n){throw qe("query-builder")},Hi(e,[{key:"$",get:function(){if(!this._$){var r=this.collection.$.pipe(Oo(n=>!n.isLocal),ux(null),gs(()=>Kw(this)),yo(()=>this._result),sx($P),ig((n,i)=>!!(n&&n.time===ut(i).time)),Oo(n=>!!n),yo(n=>{var i=ut(n);return this.op==="count"?i.count:this.op==="findOne"?i.documents.length===0?null:i.documents[0]:this.op==="findByIds"?i.docsMap:i.documents.slice(0)}));this._$=kt.merge(r,this.refCount$.pipe(Oo(()=>!1)))}return this._$}},{key:"queryMatcher",get:function(){var r=this.collection.schema.jsonSchema,n=fg(this.collection.schema.jsonSchema,this.mangoQuery);return ki(this,"queryMatcher",ib(r,n))}},{key:"asRxQuery",get:function(){return this}}]),e}();function If(){return{selector:{}}}function UW(e){return e.collection._queryCache.getByQuery(e)}function hu(e,t,r,n){Yr("preCreateRxQuery",{op:e,queryObj:t,collection:r,other:n});var i=new $x(e,t,r,n);return i=UW(i),AW(r),i}function Ax(e){var t=e.asRxQuery.collection._changeEventBuffer.counter;return e._latestChangeEvent>=t}function Kw(e){return e.collection.database.destroyed||Ax(e)?yi:(e._ensureEqualQueue=e._ensureEqualQueue.then(()=>WW(e)),e._ensureEqualQueue)}function WW(e){if(e._lastEnsureEqual=jr(),e.collection.database.destroyed||Ax(e))return yi;var t=!1,r=!1;if(e._latestChangeEvent===-1&&(r=!0),!r){var n=e.asRxQuery.collection._changeEventBuffer.getFrom(e._latestChangeEvent+1);if(n===null)r=!0;else{e._latestChangeEvent=e.asRxQuery.collection._changeEventBuffer.counter;var i=e.asRxQuery.collection._changeEventBuffer.reduceByLastOfDoc(n);if(e.op==="count"){var o=ut(e._result).count,a=o;i.forEach(u=>{var l=u.previousDocumentData&&e.doesDocumentDataMatch(u.previousDocumentData),c=e.doesDocumentDataMatch(u.documentData);!l&&c&&a++,l&&!c&&a--}),a!==o&&(t=!0,e._setResultData(a))}else{var s=EW(e,i);s.runFullQueryAgain?r=!0:s.changed&&(t=!0,e._setResultData(s.newResults))}}}return r?e._execOverDatabase().then(u=>(e._latestChangeEvent=e.collection._changeEventBuffer.counter,typeof u=="number"?((!e._result||u!==e._result.count)&&(t=!0,e._setResultData(u)),t):((!e._result||!J5(e.collection.schema.primaryPath,u,e._result.docsData))&&(t=!0,e._setResultData(u)),t))):Promise.resolve(t)}function ob(e,t){if(!t.sort)throw be("SNH",{query:t});var r=sU(e,t);return{query:t,queryPlan:r}}async function zW(e){var t=[],r=e.collection;if(e.isFindOneByIdQuery)if(Array.isArray(e.isFindOneByIdQuery)){var n=e.isFindOneByIdQuery;if(n=n.filter(c=>{var d=e.collection._docCache.getLatestDocumentDataIfExists(c);return d?(d._deleted||t.push(d),!1):!0}),n.length>0){var i=await r.storageInstance.findDocumentsById(n,!1);_d(t,i)}}else{var o=e.isFindOneByIdQuery,a=e.collection._docCache.getLatestDocumentDataIfExists(o);if(!a){var s=await r.storageInstance.findDocumentsById([o],!1);s[0]&&(a=s[0])}a&&!a._deleted&&t.push(a)}else{var u=e.getPreparedQuery(),l=await r.storageInstance.query(u);t=l.documents}return t}function KW(e,t){if(!t.skip&&t.selector&&Object.keys(t.selector).length===1&&t.selector[e]){var r=t.selector[e];if(typeof r=="string")return r;if(Object.keys(r).length===1&&typeof r.$eq=="string"||Object.keys(r).length===1&&Array.isArray(r.$eq)&&!r.$eq.find(n=>typeof n!="string"))return r.$eq}return!1}var VW="_rxdb_internal";async function qW(e,t){var r=await e.findDocumentsById([t],!1),n=r[0];if(n)return n}function HW(e,t,r){var n=t.documentData,i=t.previousDocumentData,o={documentId:t.documentId,collectionName:r?r.name:void 0,isLocal:e,operation:t.operation,documentData:ft.deepFreezeWhenDevMode(n),previousDocumentData:ft.deepFreezeWhenDevMode(i)};return o}function Pd(e,t,r,n){if(n)throw n.status===409?be("CONFLICT",{collection:e.name,id:t,writeError:n,data:r}):n.status===422?be("VD2",{collection:e.name,id:t,writeError:n,data:r}):n}function QW(e,t,r,n,i,o,a){for(var s=!!e.schema.attachments,u=[],l=[],c=[],d=lp(10),f={id:d,events:[],checkpoint:null,context:i,startTime:jr(),endTime:0},h=f.events,b=[],_=[],j=[],g=r.size>0,p,O=n.length,x=function(){var C=n[P],A=C.document,D=C.previous,B=A[t],V=A._deleted,X=D&&D._deleted,fe=void 0;g&&(fe=r.get(B));var he;if(fe){var y=fe._rev;if(!D||D&&y!==D._rev){var k={isError:!0,status:409,documentId:B,writeRow:C,documentInDb:fe};return c.push(k),1}var R=s?Fm(C):C;s&&(V?D&&Object.keys(D._attachments).forEach(ne=>{_.push({documentId:B,attachmentId:ne,digest:ut(D)._attachments[ne].digest})}):(Object.entries(A._attachments).find(([ne,Y])=>{var me=D?D._attachments[ne]:void 0;return!me&&!Y.data&&(he={documentId:B,documentInDb:fe,isError:!0,status:510,writeRow:C,attachmentId:ne}),!0}),he||Object.entries(A._attachments).forEach(([ne,Y])=>{var me=D?D._attachments[ne]:void 0;if(!me)b.push({documentId:B,attachmentId:ne,attachmentData:Y,digest:Y.digest});else{var Se=R.document._attachments[ne].digest;Y.data&&me.digest!==Se&&j.push({documentId:B,attachmentId:ne,attachmentData:Y,digest:Y.digest})}}))),he?c.push(he):(s?(l.push(Fm(R)),a&&a(A)):(l.push(R),a&&a(A)),p=R);var L=null,F=null,K=null;if(X&&!V)K="INSERT",L=s?go(A):A;else if(D&&!X&&!V)K="UPDATE",L=s?go(A):A,F=D;else if(V)K="DELETE",L=ut(A),F=D;else throw be("SNH",{args:{writeRow:C}});var Z={documentId:B,documentData:L,previousDocumentData:F,operation:K};h.push(Z)}else{var pe=!!V;if(s&&Object.entries(A._attachments).forEach(([ne,Y])=>{Y.data?b.push({documentId:B,attachmentId:ne,attachmentData:Y,digest:Y.digest}):(he={documentId:B,isError:!0,status:510,writeRow:C,attachmentId:ne},c.push(he))}),he||(s?(u.push(Fm(C)),o&&o(A)):(u.push(C),o&&o(A)),p=C),!pe){var $={documentId:B,operation:"INSERT",documentData:s?go(A):A,previousDocumentData:s&&D?go(D):D};h.push($)}}},P=0;P<O;P++)x();return{bulkInsertDocs:u,bulkUpdateDocs:l,newestRow:p,errors:c,eventBulk:f,attachmentsAdd:b,attachmentsRemove:_,attachmentsUpdate:j}}function Fm(e){return{previous:e.previous,document:go(e.document)}}function YW(e){return atob(e).length}function GW(e){var t=e.data;if(!t)return e;var r={length:YW(t),digest:e.digest,type:e.type};return r}function go(e){if(!e._attachments||Object.keys(e._attachments).length===0)return e;var t=et(e);return t._attachments={},Object.entries(e._attachments).forEach(([r,n])=>{t._attachments[r]=GW(n)}),t}function ab(e){var t=et(e);return t._meta=et(e._meta),t}function Rx(e,t,r){ft.deepFreezeWhenDevMode(r);var n=Qi(r.primaryKey);function i(a){var s=et(a.document);if(s._meta=et(s._meta),ft.isDevMode()){s=MP(n,r,s);try{typeof structuredClone=="function"?structuredClone(a):JSON.parse(JSON.stringify(a))}catch{throw be("DOC24",{collection:t.collectionName,document:a.document})}a.previous,a.previous&&Object.keys(a.previous._meta).forEach(u=>{if(!Object.prototype.hasOwnProperty.call(a.document._meta,u))throw be("SNH",{dataBefore:a.previous,dataAfter:a.document})})}return s._meta.lwt=jr(),s._rev=Xy(e.token,a.previous),{document:s,previous:a.previous}}var o={originalStorageInstance:t,schema:t.schema,internals:t.internals,collectionName:t.collectionName,databaseName:t.databaseName,options:t.options,bulkWrite(a,s){var u=a.map(l=>i(l));return e.lockedRun(()=>t.bulkWrite(u,s)).then(l=>{var c={error:[],success:l.success.slice(0)},d=l.error.filter(h=>h.status===409&&!h.writeRow.previous&&!h.writeRow.document._deleted&&ut(h.documentInDb)._deleted?!0:(c.error.push(h),!1));if(d.length>0){var f=d.map(h=>({previous:h.documentInDb,document:Object.assign({},h.writeRow.document,{_rev:Xy(e.token,h.documentInDb)})}));return e.lockedRun(()=>t.bulkWrite(f,s)).then(h=>(_d(c.error,h.error),_d(c.success,h.success),c))}return l})},query(a){return e.lockedRun(()=>t.query(a))},count(a){return e.lockedRun(()=>t.count(a))},findDocumentsById(a,s){return e.lockedRun(()=>t.findDocumentsById(a,s))},getAttachmentData(a,s,u){return e.lockedRun(()=>t.getAttachmentData(a,s,u))},getChangedDocumentsSince:t.getChangedDocumentsSince?(a,s)=>e.lockedRun(()=>t.getChangedDocumentsSince(ut(a),s)):void 0,cleanup(a){return e.lockedRun(()=>t.cleanup(a))},remove(){return e.storageInstances.delete(o),e.lockedRun(()=>t.remove())},close(){return e.storageInstances.delete(o),e.lockedRun(()=>t.close())},changeStream(){return t.changeStream()},conflictResultionTasks(){return t.conflictResultionTasks()},resolveConflictResultionTask(a){if(a.output.isEqual)return t.resolveConflictResultionTask(a);var s=Object.assign({},a.output.documentData,{_meta:sp(),_rev:up(),_attachments:{}}),u=et(s);return delete u._meta,delete u._rev,delete u._attachments,t.resolveConflictResultionTask({id:a.id,output:{isEqual:!1,documentData:u}})}};return e.storageInstances.add(o),o}function XW(e){if(e.schema.keyCompression)throw be("UT5",{args:{params:e}});if(JW(e.schema))throw be("UT6",{args:{params:e}});if(e.schema.attachments&&e.schema.attachments.compression)throw be("UT7",{args:{params:e}})}function JW(e){return!!(e.encrypted&&e.encrypted.length>0||e.attachments&&e.attachments.encrypted)}var ZW=function(){function e(r,n,i,o){this.queueByDocId=new Map,this.isRunning=!1,this.storageInstance=r,this.primaryPath=n,this.preWrite=i,this.postWrite=o}var t=e.prototype;return t.addWrite=function(n,i){var o=n[this.primaryPath],a=gn(this.queueByDocId,o,()=>[]),s=new Promise((u,l)=>{var c={lastKnownDocumentState:n,modifier:i,resolve:u,reject:l};ut(a).push(c),this.triggerRun()});return s},t.triggerRun=async function(){if(!(this.isRunning===!0||this.queueByDocId.size===0)){this.isRunning=!0;var n=[],i=this.queueByDocId;this.queueByDocId=new Map,await Promise.all(Array.from(i.entries()).map(async([a,s])=>{var u=ez(s.map(d=>d.lastKnownDocumentState)),l=u;for(var c of s)try{l=await c.modifier(al(l))}catch(d){c.reject(d),c.reject=()=>{},c.resolve=()=>{}}try{await this.preWrite(l,u)}catch(d){s.forEach(f=>f.reject(d));return}n.push({previous:u,document:l})}));var o=n.length>0?await this.storageInstance.bulkWrite(n,"incremental-write"):{error:[],success:[]};return await Promise.all(o.success.map(a=>{var s=a[this.primaryPath];this.postWrite(a);var u=sl(i,s);u.forEach(l=>l.resolve(a))})),o.error.forEach(a=>{var s=a.documentId,u=sl(i,s),l=TP(a);if(l){var c=gn(this.queueByDocId,s,()=>[]);u.reverse().forEach(f=>{f.lastKnownDocumentState=ut(l.documentInDb),ut(c).unshift(f)})}else{var d=k6(a);u.forEach(f=>f.reject(d))}}),this.isRunning=!1,this.triggerRun()}},e}();function Vw(e){var t=async r=>{var n=X5(r);n._deleted=r._deleted;var i=await e(n),o=Object.assign({},i,{_meta:r._meta,_attachments:r._attachments,_rev:r._rev,_deleted:typeof i._deleted<"u"?i._deleted:r._deleted});return typeof o._deleted>"u"&&(o._deleted=!1),o};return t}function ez(e){var t=e[0],r=Gy(t._rev).height;return e.forEach(n=>{var i=Gy(n._rev).height;i>r&&(t=n,r=i)}),t}var sb={get primaryPath(){var e=this;if(e.isInstanceOfRxDocument)return e.collection.schema.primaryPath},get primary(){var e=this;if(e.isInstanceOfRxDocument)return e._data[e.primaryPath]},get revision(){var e=this;if(e.isInstanceOfRxDocument)return e._data._rev},get deleted$(){var e=this;if(e.isInstanceOfRxDocument)return e.$.pipe(yo(t=>t._data._deleted))},get deleted(){var e=this;if(e.isInstanceOfRxDocument)return e._data._deleted},getLatest(){var e=this.collection._docCache.getLatestDocumentData(this.primary);return this.collection._docCache.getCachedRxDocument(e)},get $(){var e=this;return e.collection.$.pipe(Oo(t=>!t.isLocal),Oo(t=>t.documentId===this.primary),yo(t=>lx(t)),ux(e.collection._docCache.getLatestDocumentData(this.primary)),ig((t,r)=>t._rev===r._rev),yo(t=>this.collection._docCache.getCachedRxDocument(t)),sx($P))},get$(e){if(ft.isDevMode()){if(e.includes(".item."))throw be("DOC1",{path:e});if(e===this.primaryPath)throw be("DOC2");if(this.collection.schema.finalFields.includes(e))throw be("DOC3",{path:e});var t=cl(this.collection.schema.jsonSchema,e);if(!t)throw be("DOC4",{path:e})}return this.$.pipe(yo(r=>ms(r,e)),ig())},populate(e){var t=cl(this.collection.schema.jsonSchema,e),r=this.get(e);if(!r)return h6;if(!t)throw be("DOC5",{path:e});if(!t.ref)throw be("DOC6",{path:e,schemaObj:t});var n=this.collection.database.collections[t.ref];if(!n)throw be("DOC7",{ref:t.ref,path:e,schemaObj:t});return t.type==="array"?n.findByIds(r).exec().then(i=>{var o=i.values();return Array.from(o)}):n.findOne(r).exec()},get(e){return gn(this._propertyCache,e,()=>{var t=ms(this._data,e);if(typeof t!="object"||t===null||Array.isArray(t))return ft.deepFreezeWhenDevMode(t);var r=this,n=new Proxy(et(t),{get(i,o){if(typeof o!="string")return i[o];var a=o.charAt(o.length-1);if(a==="$"){var s=o.slice(0,-1);return r.get$(Cf(e+"."+s))}else if(a==="_"){var u=o.slice(0,-1);return r.populate(Cf(e+"."+u))}else return r.get(Cf(e+"."+o))}});return n})},toJSON(e=!1){if(e)return ft.deepFreezeWhenDevMode(this._data);var t=et(this._data);return delete t._rev,delete t._attachments,delete t._deleted,delete t._meta,ft.deepFreezeWhenDevMode(t)},toMutableJSON(e=!1){return al(this.toJSON(e))},update(e){throw qe("update")},incrementalUpdate(e){throw qe("update")},updateCRDT(e){throw qe("crdt")},putAttachment(){throw qe("attachments")},getAttachment(){throw qe("attachments")},allAttachments(){throw qe("attachments")},get allAttachments$(){throw qe("attachments")},async modify(e,t){var r=this._data,n=await Vw(e)(r);return this._saveData(n,r)},incrementalModify(e,t){return this.collection.incrementalWriteQueue.addWrite(this._data,Vw(e)).then(r=>this.collection._docCache.getCachedRxDocument(r))},patch(e){var t=this._data,r=al(t);return Object.entries(e).forEach(([n,i])=>{r[n]=i}),this._saveData(r,t)},incrementalPatch(e){return this.incrementalModify(t=>(Object.entries(e).forEach(([r,n])=>{t[r]=n}),t))},async _saveData(e,t){if(e=et(e),this._data._deleted)throw be("DOC11",{id:this.primary,document:this});await Tx(this.collection,e,t);var r=await this.collection.storageInstance.bulkWrite([{previous:t,document:e}],"rx-document-save-data"),n=r.error[0];return Pd(this.collection,this.primary,e,n),await this.collection._runHooks("post","save",e,this),this.collection._docCache.getCachedRxDocument(r.success[0])},remove(){var e=this.collection;if(this.deleted)return Promise.reject(be("DOC13",{document:this,id:this.primary}));var t=et(this._data),r;return e._runHooks("pre","remove",t,this).then(async()=>{t._deleted=!0;var n=await e.storageInstance.bulkWrite([{previous:this._data,document:t}],"rx-document-remove"),i=n.error[0];return Pd(e,this.primary,t,i),n.success[0]}).then(n=>(r=n,this.collection._runHooks("post","remove",t,this))).then(()=>this.collection._docCache.getCachedRxDocument(r))},incrementalRemove(){return this.incrementalModify(async e=>(await this.collection._runHooks("pre","remove",e,this),e._deleted=!0,e)).then(async e=>(await this.collection._runHooks("post","remove",e._data,e),e))},destroy(){throw be("DOC14")}};function tz(e=sb){var t=function(n,i){this.collection=n,this._data=i,this._propertyCache=new Map,this.isInstanceOfRxDocument=!0};return t.prototype=e,t}function rz(e,t,r){var n=new e(t,r);return Yr("createRxDocument",n),n}function Tx(e,t,r){return t._meta=Object.assign({},r._meta,t._meta),ft.isDevMode()&&e.schema.validateChange(r,t),e._runHooks("pre","save",t,r)}var Ru="collection",ub="storage-token",nz="rx-migration-status",iz="RxInternalDocument",lb=IP({version:0,title:iz,primaryKey:{key:"id",fields:["context","key"],separator:"|"},type:"object",properties:{id:{type:"string",maxLength:200},key:{type:"string"},context:{type:"string",enum:[Ru,ub,nz,"OTHER"]},data:{type:"object",additionalProperties:!0}},indexes:[],required:["key","context","data"],additionalProperties:!1,sharding:{shards:1,mode:"collection"}});function dg(e,t){return K0(lb,{key:e,context:t})}async function Mx(e){var t=ob(e.schema,{selector:{context:Ru,_deleted:{$eq:!1}},sort:[{id:"asc"}],skip:0}),r=await e.query(t),n=r.documents;return n}var Ix="storageToken",oz=dg(Ix,ub);async function az(e){var t=lp(10),r=e.password?await e.hashFunction(JSON.stringify(e.password)):void 0,n={id:oz,context:ub,key:Ix,data:{rxdbVersion:e.rxdbVersion,token:t,instanceToken:e.token,passwordHash:r},_deleted:!1,_meta:sp(),_rev:up(),_attachments:{}},i=await e.internalStore.bulkWrite([{document:n}],"internal-add-storage-token");if(i.success[0])return i.success[0];var o=ut(i.error[0]);if(o.isError&&TP(o)){var a=o;if(!sz(a.documentInDb.data.rxdbVersion,e.rxdbVersion))throw be("DM5",{args:{database:e.name,databaseStateVersion:a.documentInDb.data.rxdbVersion,codeVersion:e.rxdbVersion}});if(r&&r!==a.documentInDb.data.passwordHash)throw be("DB1",{passwordHash:r,existingPasswordHash:a.documentInDb.data.passwordHash});var s=a.documentInDb;return ut(s)}throw o}function sz(e,t){if(!e||t.includes("beta")&&t!==e)return!1;var r=e.split(".")[0],n=t.split(".")[0];return r===n}function qw(e,t){return e+"-"+t.version}function Bm(e,t){return t=et(t),t=R6(e,t),t=MP(e.primaryPath,e.jsonSchema,t),t._meta=sp(),Object.prototype.hasOwnProperty.call(t,"_deleted")||(t._deleted=!1),Object.prototype.hasOwnProperty.call(t,"_attachments")||(t._attachments={}),Object.prototype.hasOwnProperty.call(t,"_rev")||(t._rev=up()),t}async function uz(e,t){t.multiInstance=e.multiInstance;var r=await e.storage.createStorageInstance(t);return r}async function Nx(e,t,r,n,i,o,a){var s=await Mx(t),u=s.filter(f=>f.data.name===i),l=[];u.forEach(f=>{l.push({collectionName:f.data.name,schema:f.data.schema,isCollection:!0}),f.data.connectedStorages.forEach(h=>l.push({collectionName:h.collectionName,isCollection:!1,schema:h.schema}))});var c=new Set;if(l=l.filter(f=>{var h=f.collectionName+"||"+f.schema.version;return c.has(h)?!1:(c.add(h),!0)}),await Promise.all(l.map(async f=>{var h=await e.createStorageInstance({collectionName:f.collectionName,databaseInstanceToken:r,databaseName:n,multiInstance:!1,options:{},schema:f.schema,password:o,devMode:ft.isDevMode()});await h.remove(),f.isCollection&&await uc("postRemoveRxCollection",{storage:e,databaseName:n,collectionName:i})})),a){var d=u.map(f=>{var h=ab(f);return h._deleted=!0,h._meta.lwt=jr(),h._rev=Xy(r,f),{previous:f,document:h}});await t.bulkWrite(d,"rx-database-remove-collection-all")}}var lz=function(){function e(r){this.subs=[],this.limit=100,this.counter=0,this.eventCounterMap=new WeakMap,this.buffer=[],this.collection=r,this.subs.push(this.collection.$.pipe(Oo(n=>!n.isLocal)).subscribe(n=>this._handleChangeEvent(n)))}var t=e.prototype;return t._handleChangeEvent=function(n){for(this.counter++,this.buffer.push(n),this.eventCounterMap.set(n,this.counter);this.buffer.length>this.limit;)this.buffer.shift()},t.getArrayIndexByPointer=function(n){var i=this.buffer[0],o=this.eventCounterMap.get(i);if(n<o)return null;var a=n-o;return a},t.getFrom=function(n){var i=[],o=this.getArrayIndexByPointer(n);if(o===null)return null;for(;;){var a=this.buffer[o];if(o++,a)i.push(a);else return i}},t.runFrom=function(n,i){var o=this.getFrom(n);if(o===null)throw new Error("out of bounds");o.forEach(a=>i(a))},t.reduceByLastOfDoc=function(n){return n.slice(0)},t.destroy=function(){this.subs.forEach(n=>n.unsubscribe())},e}();function cz(e){return new lz(e)}var fz=new WeakMap;function dz(e){var t=e.schema.getDocumentPrototype(),r=pz(e),n=sb,i={};return[t,r,n].forEach(o=>{var a=Object.getOwnPropertyNames(o);a.forEach(s=>{var u=Object.getOwnPropertyDescriptor(o,s),l=!0;(s.startsWith("_")||s.endsWith("_")||s.startsWith("$")||s.endsWith("$"))&&(l=!1),typeof u.value=="function"?Object.defineProperty(i,s,{get(){return u.value.bind(this)},enumerable:l,configurable:!1}):(u.enumerable=l,u.configurable=!1,u.writable&&(u.writable=!1),Object.defineProperty(i,s,u))})}),i}function hz(e){return gn(fz,e,()=>tz(dz(e)))}function vz(e,t){var r=rz(hz(e),e,ft.deepFreezeWhenDevMode(t));return e._runHooksSync("post","create",t,r),Yr("postCreateRxDocument",r),r}function pz(e){var t={};return Object.entries(e.methods).forEach(([r,n])=>{t[r]=n}),t}var Dx=function(e,t){var r=go(e.newDocumentState),n=go(e.realMasterState);return wd(r,n)?Promise.resolve({isEqual:!0}):Promise.resolve({isEqual:!1,documentData:e.realMasterState})},Lx=["pre","post"],Fx=["insert","save","remove","create"],Hw=!1,Bx=function(){function e(r,n,i,o,a={},s={},u={},l={},c={},d=kx,f={},h=Dx){this.storageInstance={},this.timeouts=new Set,this.incrementalWriteQueue={},this._incrementalUpsertQueues=new Map,this.synced=!1,this.hooks={},this._subs=[],this._docCache={},this._queryCache=xW(),this.$={},this.checkpoint$={},this._changeEventBuffer={},this.onDestroy=[],this.destroyed=!1,this.database=r,this.name=n,this.schema=i,this.internalStorageInstance=o,this.instanceCreationOptions=a,this.migrationStrategies=s,this.methods=u,this.attachments=l,this.options=c,this.cacheReplacementPolicy=d,this.statics=f,this.conflictHandler=h,mz(this.asRxCollection)}var t=e.prototype;return t.prepare=async function(){this.storageInstance=Rx(this.database,this.internalStorageInstance,this.schema.jsonSchema),this.incrementalWriteQueue=new ZW(this.storageInstance,this.schema.primaryPath,(a,s)=>Tx(this,a,s),a=>this._runHooks("post","save",a));var n=this.database.eventBulks$.pipe(kt.filter(a=>a.collectionName===this.name));this.$=n.pipe(kt.mergeMap(a=>a.events)),this.checkpoint$=n.pipe(kt.map(a=>a.checkpoint)),this._changeEventBuffer=cz(this.asRxCollection),this._docCache=new RW(this.schema.primaryPath,this.$.pipe(kt.filter(a=>!a.isLocal)),a=>vz(this.asRxCollection,a));var i=await this.database.storageToken,o=this.storageInstance.changeStream().subscribe(a=>{var s={id:a.id,internal:!1,collectionName:this.name,storageToken:i,events:a.events.map(u=>HW(!1,u,this)),databaseToken:this.database.token,checkpoint:a.checkpoint,context:a.context,endTime:a.endTime,startTime:a.startTime};this.database.$emit(s)});return this._subs.push(o),this._subs.push(this.storageInstance.conflictResultionTasks().subscribe(a=>{this.conflictHandler(a.input,a.context).then(s=>{this.storageInstance.resolveConflictResultionTask({id:a.id,output:s})})})),Au},t.cleanup=function(n){throw qe("cleanup")},t.migrationNeeded=function(){throw qe("migration")},t.getMigrationState=function(){throw qe("migration")},t.startMigration=function(n=10){return this.getMigrationState().startMigration(n)},t.migratePromise=function(n=10){return this.getMigrationState().migratePromise(n)},t.insert=async function(n){var i=await this.bulkInsert([n]),o=i.error[0];Pd(this,n[this.schema.primaryPath],n,o);var a=ut(i.success[0]);return a},t.bulkInsert=async function(n){if(n.length===0)return{success:[],error:[]};var i=this.schema.primaryPath,o=n.map(d=>{var f=Bm(this.schema,d);return f}),a=this.hasHooks("pre","insert")?await Promise.all(o.map(d=>this._runHooks("pre","insert",d).then(()=>d))):o,s=a.map(d=>{var f={document:d};return f}),u=await this.storageInstance.bulkWrite(s,"rx-collection-bulk-insert"),l=Cx(this._docCache,u.success);if(this.hasHooks("post","insert")){var c=new Map;a.forEach(d=>{c.set(d[i],d)}),await Promise.all(l.map(d=>this._runHooks("post","insert",c.get(d.primary),d)))}return{success:l,error:u.error}},t.bulkRemove=async function(n){var i=this.schema.primaryPath;if(n.length===0)return{success:[],error:[]};var o=await this.findByIds(n).exec(),a=[],s=new Map;Array.from(o.values()).forEach(f=>{var h=f.toMutableJSON(!0);a.push(h),s.set(f.primary,h)}),await Promise.all(a.map(f=>{var h=f[this.schema.primaryPath];return this._runHooks("pre","remove",f,o.get(h))}));var u=a.map(f=>{var h=et(f);return h._deleted=!0,{previous:f,document:h}}),l=await this.storageInstance.bulkWrite(u,"rx-collection-bulk-remove"),c=l.success.map(f=>f[i]);await Promise.all(c.map(f=>this._runHooks("post","remove",s.get(f),o.get(f))));var d=c.map(f=>sl(o,f));return{success:d,error:l.error}},t.bulkUpsert=async function(n){var i=[],o=new Map;n.forEach(l=>{var c=Bm(this.schema,l),d=c[this.schema.primaryPath];if(!d)throw be("COL3",{primaryPath:this.schema.primaryPath,data:c,schema:this.schema.jsonSchema});o.set(d,c),i.push(c)});var a=await this.bulkInsert(i),s=a.success.slice(0),u=[];return await Promise.all(a.error.map(async l=>{if(l.status!==409)u.push(l);else{var c=l.documentId,d=sl(o,c),f=ut(l.documentInDb),h=this._docCache.getCachedRxDocument(f),b=await h.incrementalModify(()=>d);s.push(b)}})),{error:u,success:s}},t.upsert=async function(n){var i=await this.bulkUpsert([n]);return Pd(this.asRxCollection,n[this.schema.primaryPath],n,i.error[0]),i.success[0]},t.incrementalUpsert=function(n){var i=Bm(this.schema,n),o=i[this.schema.primaryPath];if(!o)throw be("COL4",{data:n});var a=this._incrementalUpsertQueues.get(o);return a||(a=Au),a=a.then(()=>gz(this,o,i)).then(s=>s.inserted?s.doc:yz(s.doc,i)),this._incrementalUpsertQueues.set(o,a),a},t.find=function(n){if(typeof n=="string")throw be("COL5",{queryObj:n});n||(n=If());var i=hu("find",n,this);return i},t.findOne=function(n){if(typeof n=="number"||Array.isArray(n))throw Af("COL6",{queryObj:n});var i;if(typeof n=="string")i=hu("findOne",{selector:{[this.schema.primaryPath]:n},limit:1},this);else{if(n||(n=If()),n.limit)throw be("QU6");n=et(n),n.limit=1,i=hu("findOne",n,this)}return i},t.count=function(n){n||(n=If());var i=hu("count",n,this);return i},t.findByIds=function(n){var i={selector:{[this.schema.primaryPath]:{$in:n.slice(0)}}},o=hu("findByIds",i,this);return o},t.exportJSON=function(){throw qe("json-dump")},t.importJSON=function(n){throw qe("json-dump")},t.insertCRDT=function(n){throw qe("crdt")},t.addHook=function(n,i,o,a=!1){if(typeof o!="function")throw Af("COL7",{key:i,when:n});if(!Lx.includes(n))throw Af("COL8",{key:i,when:n});if(!Fx.includes(i))throw be("COL9",{key:i});if(n==="post"&&i==="create"&&a===!0)throw be("COL10",{when:n,key:i,parallel:a});var s=o.bind(this),u=a?"parallel":"series";this.hooks[i]=this.hooks[i]||{},this.hooks[i][n]=this.hooks[i][n]||{series:[],parallel:[]},this.hooks[i][n][u].push(s)},t.getHooks=function(n,i){return!this.hooks[i]||!this.hooks[i][n]?{series:[],parallel:[]}:this.hooks[i][n]},t.hasHooks=function(n,i){var o=this.getHooks(n,i);return o?o.series.length>0||o.parallel.length>0:!1},t._runHooks=function(n,i,o,a){var s=this.getHooks(n,i);if(!s)return Au;var u=s.series.map(l=>()=>l(o,a));return p6(u).then(()=>Promise.all(s.parallel.map(l=>l(o,a))))},t._runHooksSync=function(n,i,o,a){var s=this.getHooks(n,i);s&&s.series.forEach(u=>u(o,a))},t.promiseWait=function(n){var i=new Promise(o=>{var a=setTimeout(()=>{this.timeouts.delete(a),o()},n);this.timeouts.add(a)});return i},t.destroy=function(){return this.destroyed?yi:(this.destroyed=!0,Array.from(this.timeouts).forEach(n=>clearTimeout(n)),this._changeEventBuffer&&this._changeEventBuffer.destroy(),this.database.requestIdlePromise().then(()=>Promise.all(this.onDestroy.map(n=>n()))).then(()=>this.storageInstance.close()).then(()=>(this._subs.forEach(n=>n.unsubscribe()),delete this.database.collections[this.name],uc("postDestroyRxCollection",this).then(()=>!0))))},t.remove=async function(){await this.destroy(),await Nx(this.database.storage,this.database.internalStore,this.database.token,this.database.name,this.name,this.database.password,this.database.hashFunction)},Hi(e,[{key:"insert$",get:function(){return this.$.pipe(kt.filter(r=>r.operation==="INSERT"))}},{key:"update$",get:function(){return this.$.pipe(kt.filter(r=>r.operation==="UPDATE"))}},{key:"remove$",get:function(){return this.$.pipe(kt.filter(r=>r.operation==="DELETE"))}},{key:"asRxCollection",get:function(){return this}}]),e}();function mz(e){if(!Hw){Hw=!0;var t=Object.getPrototypeOf(e);Fx.forEach(r=>{Lx.map(n=>{var i=n+xP(r);t[i]=function(o,a){return this.addHook(n,r,o,a)}})})}}function yz(e,t){return e.incrementalModify(r=>t)}function gz(e,t,r){var n=e._docCache.getLatestDocumentDataIfExists(t);return n?Promise.resolve({doc:e._docCache.getCachedRxDocument(n),inserted:!1}):e.findOne(t).exec().then(i=>i?{doc:i,inserted:!1}:e.insert(r).then(o=>({doc:o,inserted:!0})))}function bz({database:e,name:t,schema:r,instanceCreationOptions:n={},migrationStrategies:i={},autoMigrate:o=!0,statics:a={},methods:s={},attachments:u={},options:l={},localDocuments:c=!1,cacheReplacementPolicy:d=kx,conflictHandler:f=Dx}){var h={databaseInstanceToken:e.token,databaseName:e.name,collectionName:t,schema:r.jsonSchema,options:n,multiInstance:e.multiInstance,password:e.password,devMode:ft.isDevMode()};return Yr("preCreateRxStorageInstance",h),uz(e,h).then(b=>{var _=new Bx(e,t,r,b,n,i,s,u,l,d,a,f);return _.prepare().then(()=>{Object.entries(a).forEach(([g,p])=>{Object.defineProperty(_,g,{get:()=>p.bind(_)})});var j=Au;return o&&_.schema.version!==0&&(j=_.migratePromise()),j}).then(()=>(Yr("createRxCollection",{collection:_,creator:{name:t,schema:r,storageInstance:b,instanceCreationOptions:n,migrationStrategies:i,methods:s,attachments:u,options:l,cacheReplacementPolicy:d,localDocuments:c,statics:a}}),_)).catch(j=>b.close().then(()=>Promise.reject(j)))})}var Ux=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;this._parallels=t||1,this._qC=0,this._iC=new Set,this._lHN=0,this._hPM=new Map,this._pHM=new Map};Ux.prototype={isIdle:function(){return this._qC<this._parallels},lock:function(){this._qC++},unlock:function(){this._qC--,hg(this)},wrapCall:function(t){var r=this;this.lock();var n;try{n=t()}catch(i){throw this.unlock(),i}return!n.then||typeof n.then!="function"?(this.unlock(),n):n.then(function(i){return r.unlock(),i}).catch(function(i){throw r.unlock(),i})},requestIdlePromise:function(t){var r=this;t=t||{};var n,i=new Promise(function(s){return n=s}),o=function(){Um(r,i),n()};if(i._manRes=o,t.timeout){var a=setTimeout(function(){i._manRes()},t.timeout);i._timeoutObj=a}return this._iC.add(i),hg(this),i},cancelIdlePromise:function(t){Um(this,t)},requestIdleCallback:function(t,r){var n=this._lHN++,i=this.requestIdlePromise(r);return this._hPM.set(n,i),this._pHM.set(i,n),i.then(function(){return t()}),n},cancelIdleCallback:function(t){var r=this._hPM.get(t);this.cancelIdlePromise(r)},clear:function(){var t=this;this._iC.forEach(function(r){return Um(t,r)}),this._qC=0,this._iC.clear(),this._hPM=new Map,this._pHM=new Map}};function _z(e){if(e._iC.size!==0){var t=e._iC.values(),r=t.next().value;r._manRes(),setTimeout(function(){return hg(e)},0)}}function Um(e,t){if(t){if(t._timeoutObj&&clearTimeout(t._timeoutObj),e._pHM.has(t)){var r=e._pHM.get(t);e._hPM.delete(r),e._pHM.delete(t)}e._iC.delete(t)}}function hg(e){e._tryIR||e._iC.size===0||(e._tryIR=!0,setTimeout(function(){if(!e.isIdle()){e._tryIR=!1;return}setTimeout(function(){if(!e.isIdle()){e._tryIR=!1;return}_z(e),e._tryIR=!1},0)},0))}class cb{constructor(t){io(this,"ttl");io(this,"map",new Map);io(this,"_to",!1);this.ttl=t}has(t){return this.map.has(t)}add(t){this.map.set(t,Wx()),this._to||(this._to=!0,setTimeout(()=>{this._to=!1,wz(this)},0))}clear(){this.map.clear()}}function wz(e){const t=Wx()-e.ttl,r=e.map[Symbol.iterator]();for(;;){const n=r.next().value;if(!n)return;const i=n[0];if(n[1]<t)e.map.delete(i);else return}}function Wx(){return Date.now()}var xd=new Set,zx=function(){function e(r,n,i,o,a,s,u=!1,l={},c,d,f,h){this.idleQueue=new Ux,this.rxdbVersion=w6,this.storageInstances=new Set,this._subs=[],this.startupErrors=[],this.onDestroy=[],this.destroyed=!1,this.collections={},this.eventBulks$=new kt.Subject,this.observable$=this.eventBulks$.pipe(gs(b=>b.events)),this.storageToken=yi,this.storageTokenDocument=yi,this.emittedEventBulkIds=new cb(60*1e3),this.name=r,this.token=n,this.storage=i,this.instanceCreationOptions=o,this.password=a,this.multiInstance=s,this.eventReduce=u,this.options=l,this.internalStore=c,this.hashFunction=d,this.cleanupPolicy=f,this.allowSlowCount=h,this.name!=="pseudoInstance"&&(this.internalStore=Rx(this.asRxDatabase,c,lb),this.storageTokenDocument=az(this.asRxDatabase).catch(b=>this.startupErrors.push(b)),this.storageToken=this.storageTokenDocument.then(b=>b.data.token).catch(b=>this.startupErrors.push(b)))}var t=e.prototype;return t.$emit=function(n){this.emittedEventBulkIds.has(n.id)||(this.emittedEventBulkIds.add(n.id),this.eventBulks$.next(n))},t.removeCollectionDoc=async function(n,i){var o=await qW(this.internalStore,dg(qw(n,i),Ru));if(!o)throw be("SNH",{name:n,schema:i});var a=ab(o);a._deleted=!0,await this.internalStore.bulkWrite([{document:a,previous:o}],"rx-database-remove-collection")},t.addCollections=async function(n){var i={},o={},a=[],s={};await Promise.all(Object.entries(n).map(async([c,d])=>{var f=c,h=d.schema;i[f]=h;var b=M6(h,this.hashFunction);if(o[f]=b,this.collections[c])throw be("DB3",{name:c});var _=qw(c,h),j={id:dg(_,Ru),key:_,context:Ru,data:{name:f,schemaHash:await b.hash,schema:b.jsonSchema,version:b.version,connectedStorages:[]},_deleted:!1,_meta:sp(),_rev:up(),_attachments:{}};a.push({document:j});var g=Object.assign({},d,{name:f,schema:b,database:this}),p=et(d);p.database=this,p.name=c,Yr("preCreateRxCollection",p),g.conflictHandler=p.conflictHandler,s[f]=g}));var u=await this.internalStore.bulkWrite(a,"rx-database-add-collection");await Pz(this),await Promise.all(u.error.map(async c=>{if(c.status!==409)throw be("DB12",{database:this.name,writeError:c});var d=ut(c.documentInDb),f=d.data.name,h=o[f];if(d.data.schemaHash!==await h.hash)throw be("DB6",{database:this.name,collection:f,previousSchemaHash:d.data.schemaHash,schemaHash:await h.hash,previousSchema:d.data.schema,schema:ut(i[f])})}));var l={};return await Promise.all(Object.keys(n).map(async c=>{var d=s[c],f=await bz(d);l[c]=f,this.collections[c]=f,this[c]||Object.defineProperty(this,c,{get:()=>this.collections[c]})})),l},t.lockedRun=function(n){return this.idleQueue.wrapCall(n)},t.requestIdlePromise=function(){return this.idleQueue.requestIdlePromise()},t.exportJSON=function(n){throw qe("json-dump")},t.importJSON=function(n){throw qe("json-dump")},t.backup=function(n){throw qe("backup")},t.leaderElector=function(){throw qe("leader-election")},t.isLeader=function(){throw qe("leader-election")},t.waitForLeadership=function(){throw qe("leader-election")},t.migrationStates=function(){throw qe("migration")},t.destroy=async function(){return this.destroyed||(this.destroyed=!0,await uc("preDestroyRxDatabase",this),this.eventBulks$.complete(),this._subs.map(n=>n.unsubscribe()),this.name==="pseudoInstance")?yi:this.requestIdlePromise().then(()=>Promise.all(this.onDestroy.map(n=>n()))).then(()=>Promise.all(Object.keys(this.collections).map(n=>this.collections[n]).map(n=>n.destroy()))).then(()=>this.internalStore.close()).then(()=>xd.delete(this.name)).then(()=>!0)},t.remove=function(){return this.destroy().then(()=>Ez(this.name,this.storage,this.password))},Hi(e,[{key:"$",get:function(){return this.observable$}},{key:"asRxDatabase",get:function(){return this}}]),e}();function Sz(e){if(xd.has(e))throw be("DB8",{name:e,link:"https://pubkey.github.io/rxdb/rx-database.html#ignoreduplicate"})}async function Kx(e,t,r,n,i,o){var a=await t.createStorageInstance({databaseInstanceToken:e,databaseName:r,collectionName:VW,schema:lb,options:n,multiInstance:i,password:o,devMode:ft.isDevMode()});return a}function Oz({storage:e,instanceCreationOptions:t,name:r,password:n,multiInstance:i=!0,eventReduce:o=!0,ignoreDuplicate:a=!1,options:s={},cleanupPolicy:u,allowSlowCount:l=!1,localDocuments:c=!1,hashFunction:d=c6}){Yr("preCreateRxDatabase",{storage:e,instanceCreationOptions:t,name:r,password:n,multiInstance:i,eventReduce:o,ignoreDuplicate:a,options:s,localDocuments:c}),a||Sz(r),xd.add(r);var f=lp(10);return Kx(f,e,r,t,i,n).catch(h=>{throw xd.delete(r),h}).then(h=>{var b=new zx(r,f,e,t,n,i,o,s,h,d,u,l);return uc("createRxDatabase",{database:b,creator:{storage:e,instanceCreationOptions:t,name:r,password:n,multiInstance:i,eventReduce:o,ignoreDuplicate:a,options:s,localDocuments:c}}).then(()=>b)})}async function Ez(e,t,r){var n=lp(10),i=await Kx(n,t,e,{},!1,r),o=await Mx(i),a=new Set;o.forEach(u=>a.add(u.data.name));var s=Array.from(a);return await Promise.all(s.map(u=>Nx(t,i,n,e,u,r))),await uc("postRemoveRxDatabase",{databaseName:e,storage:t}),await i.remove(),s}async function Pz(e){if(await e.storageToken,e.startupErrors[0])throw e.startupErrors[0]}var xz={RxSchema:DP.prototype,RxDocument:sb,RxQuery:$x.prototype,RxCollection:Bx.prototype,RxDatabase:zx.prototype},Wm=new Set,Qw=new Set;function Yw(e){if(Yr("preAddRxPlugin",{plugin:e,plugins:Wm}),!Wm.has(e)){{if(Qw.has(e.name))throw be("PL3",{name:e.name,plugin:e});Wm.add(e),Qw.add(e.name)}if(!e.rxdb)throw Af("PL1",{plugin:e});e.init&&e.init(),e.prototypes&&Object.entries(e.prototypes).forEach(([t,r])=>r(xz[t])),e.overwritable&&Object.assign(ft,e.overwritable),e.hooks&&Object.entries(e.hooks).forEach(([t,r])=>{r.after&&ll[t].push(r.after),r.before&&ll[t].unshift(r.before)})}}function jz(e){return e&&typeof e.then=="function"}Promise.resolve(!1);var kz=Promise.resolve(!0),Dn=Promise.resolve();function bo(e,t){return e||(e=0),new Promise(function(r){return setTimeout(function(){return r(t)},e)})}function Cz(e,t){return Math.floor(Math.random()*(t-e+1)+e)}function dc(){return Math.random().toString(36).substring(2)}var zm=0;function hc(){var e=Date.now()*1e3;return e<=zm&&(e=zm+1),zm=e,e}function $z(){return typeof navigator<"u"&&typeof navigator.locks<"u"&&typeof navigator.locks.request=="function"}var Az=hc,Rz="native";function Tz(e){var t={time:hc(),messagesCallback:null,bc:new BroadcastChannel(e),subFns:[]};return t.bc.onmessage=function(r){t.messagesCallback&&t.messagesCallback(r.data)},t}function Mz(e){e.bc.close(),e.subFns=[]}function Iz(e,t){try{return e.bc.postMessage(t,!1),Dn}catch(r){return Promise.reject(r)}}function Nz(e,t){e.messagesCallback=t}function Dz(){if(typeof globalThis<"u"&&globalThis.Deno&&globalThis.Deno.args)return!0;if((typeof window<"u"||typeof self<"u")&&typeof BroadcastChannel=="function"){if(BroadcastChannel._pubkey)throw new Error("BroadcastChannel: Do not overwrite window.BroadcastChannel with this module, this is not a polyfill");return!0}else return!1}function Lz(){return 150}var Fz={create:Tz,close:Mz,onMessage:Nz,postMessage:Iz,canBeUsed:Dz,type:Rz,averageResponseTime:Lz,microSeconds:Az};function fb(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=JSON.parse(JSON.stringify(e));return typeof t.webWorkerSupport>"u"&&(t.webWorkerSupport=!0),t.idb||(t.idb={}),t.idb.ttl||(t.idb.ttl=1e3*45),t.idb.fallbackInterval||(t.idb.fallbackInterval=150),e.idb&&typeof e.idb.onclose=="function"&&(t.idb.onclose=e.idb.onclose),t.localstorage||(t.localstorage={}),t.localstorage.removeTimeout||(t.localstorage.removeTimeout=1e3*60),e.methods&&(t.methods=e.methods),t.node||(t.node={}),t.node.ttl||(t.node.ttl=1e3*60*2),t.node.maxParallelWrites||(t.node.maxParallelWrites=2048),typeof t.node.useFastPath>"u"&&(t.node.useFastPath=!0),t}var Bz=hc,Uz="pubkey.broadcast-channel-0-",Hn="messages",mp={durability:"relaxed"},Wz="idb";function Vx(){if(typeof indexedDB<"u")return indexedDB;if(typeof window<"u"){if(typeof window.mozIndexedDB<"u")return window.mozIndexedDB;if(typeof window.webkitIndexedDB<"u")return window.webkitIndexedDB;if(typeof window.msIndexedDB<"u")return window.msIndexedDB}return!1}function db(e){e.commit&&e.commit()}function zz(e){var t=Vx(),r=Uz+e,n=t.open(r);return n.onupgradeneeded=function(i){var o=i.target.result;o.createObjectStore(Hn,{keyPath:"id",autoIncrement:!0})},new Promise(function(i,o){n.onerror=function(a){return o(a)},n.onsuccess=function(){i(n.result)}})}function Kz(e,t,r){var n=Date.now(),i={uuid:t,time:n,data:r},o=e.transaction([Hn],"readwrite",mp);return new Promise(function(a,s){o.oncomplete=function(){return a()},o.onerror=function(l){return s(l)};var u=o.objectStore(Hn);u.add(i),db(o)})}function Vz(e,t){var r=e.transaction(Hn,"readonly",mp),n=r.objectStore(Hn),i=[],o=IDBKeyRange.bound(t+1,1/0);if(n.getAll){var a=n.getAll(o);return new Promise(function(u,l){a.onerror=function(c){return l(c)},a.onsuccess=function(c){u(c.target.result)}})}function s(){try{return o=IDBKeyRange.bound(t+1,1/0),n.openCursor(o)}catch{return n.openCursor()}}return new Promise(function(u,l){var c=s();c.onerror=function(d){return l(d)},c.onsuccess=function(d){var f=d.target.result;f?f.value.id<t+1?f.continue(t+1):(i.push(f.value),f.continue()):(db(r),u(i))}})}function qz(e,t){if(e.closed)return Promise.resolve([]);var r=e.db.transaction(Hn,"readwrite",mp),n=r.objectStore(Hn);return Promise.all(t.map(function(i){var o=n.delete(i);return new Promise(function(a){o.onsuccess=function(){return a()}})}))}function Hz(e,t){var r=Date.now()-t,n=e.transaction(Hn,"readonly",mp),i=n.objectStore(Hn),o=[];return new Promise(function(a){i.openCursor().onsuccess=function(s){var u=s.target.result;if(u){var l=u.value;l.time<r?(o.push(l),u.continue()):(db(n),a(o))}else a(o)}})}function Qz(e){return Hz(e.db,e.options.idb.ttl).then(function(t){return qz(e,t.map(function(r){return r.id}))})}function Yz(e,t){return t=fb(t),zz(e).then(function(r){var n={closed:!1,lastCursorId:0,channelName:e,options:t,uuid:dc(),eMIs:new cb(t.idb.ttl*2),writeBlockPromise:Dn,messagesCallback:null,readQueuePromises:[],db:r};return r.onclose=function(){n.closed=!0,t.idb.onclose&&t.idb.onclose()},qx(n),n})}function qx(e){e.closed||Hx(e).then(function(){return bo(e.options.idb.fallbackInterval)}).then(function(){return qx(e)})}function Gz(e,t){return!(e.uuid===t.uuid||t.eMIs.has(e.id)||e.data.time<t.messagesCallbackTime)}function Hx(e){return e.closed||!e.messagesCallback?Dn:Vz(e.db,e.lastCursorId).then(function(t){var r=t.filter(function(n){return!!n}).map(function(n){return n.id>e.lastCursorId&&(e.lastCursorId=n.id),n}).filter(function(n){return Gz(n,e)}).sort(function(n,i){return n.time-i.time});return r.forEach(function(n){e.messagesCallback&&(e.eMIs.add(n.id),e.messagesCallback(n.data))}),Dn})}function Xz(e){e.closed=!0,e.db.close()}function Jz(e,t){return e.writeBlockPromise=e.writeBlockPromise.then(function(){return Kz(e.db,e.uuid,t)}).then(function(){Cz(0,10)===0&&Qz(e)}),e.writeBlockPromise}function Zz(e,t,r){e.messagesCallbackTime=r,e.messagesCallback=t,Hx(e)}function e7(){return!!Vx()}function t7(e){return e.idb.fallbackInterval*2}var r7={create:Yz,close:Xz,onMessage:Zz,postMessage:Jz,canBeUsed:e7,type:Wz,averageResponseTime:t7,microSeconds:Bz},n7=hc,i7="pubkey.broadcastChannel-",o7="localstorage";function Qx(){var e;if(typeof window>"u")return null;try{e=window.localStorage,e=window["ie8-eventlistener/storage"]||window.localStorage}catch{}return e}function Yx(e){return i7+e}function a7(e,t){return new Promise(function(r){bo().then(function(){var n=Yx(e.channelName),i={token:dc(),time:Date.now(),data:t,uuid:e.uuid},o=JSON.stringify(i);Qx().setItem(n,o);var a=document.createEvent("Event");a.initEvent("storage",!0,!0),a.key=n,a.newValue=o,window.dispatchEvent(a),r()})})}function s7(e,t){var r=Yx(e),n=function(o){o.key===r&&t(JSON.parse(o.newValue))};return window.addEventListener("storage",n),n}function u7(e){window.removeEventListener("storage",e)}function l7(e,t){if(t=fb(t),!Gx())throw new Error("BroadcastChannel: localstorage cannot be used");var r=dc(),n=new cb(t.localstorage.removeTimeout),i={channelName:e,uuid:r,eMIs:n};return i.listener=s7(e,function(o){i.messagesCallback&&o.uuid!==r&&(!o.token||n.has(o.token)||o.data.time&&o.data.time<i.messagesCallbackTime||(n.add(o.token),i.messagesCallback(o.data)))}),i}function c7(e){u7(e.listener)}function f7(e,t,r){e.messagesCallbackTime=r,e.messagesCallback=t}function Gx(){var e=Qx();if(!e)return!1;try{var t="__broadcastchannel_check";e.setItem(t,"works"),e.removeItem(t)}catch{return!1}return!0}function d7(){var e=120,t=navigator.userAgent.toLowerCase();return t.includes("safari")&&!t.includes("chrome")?e*2:e}var h7={create:l7,close:c7,onMessage:f7,postMessage:a7,canBeUsed:Gx,type:o7,averageResponseTime:d7,microSeconds:n7},Xx=hc,v7="simulate",hb=new Set;function p7(e){var t={time:Xx(),name:e,messagesCallback:null};return hb.add(t),t}function m7(e){hb.delete(e)}var Jx=5;function y7(e,t){return new Promise(function(r){return setTimeout(function(){var n=Array.from(hb);n.forEach(function(i){i.name===e.name&&i!==e&&i.messagesCallback&&i.time<t.time&&i.messagesCallback(t)}),r()},Jx)})}function g7(e,t){e.messagesCallback=t}function b7(){return!0}function _7(){return Jx}var w7={create:p7,close:m7,onMessage:g7,postMessage:y7,canBeUsed:b7,type:v7,averageResponseTime:_7,microSeconds:Xx},Gw=[Fz,r7,h7];function S7(e){var t=[].concat(e.methods,Gw).filter(Boolean);if(e.type){if(e.type==="simulate")return w7;var r=t.find(function(i){return i.type===e.type});if(r)return r;throw new Error("method-type "+e.type+" not found")}e.webWorkerSupport||(t=t.filter(function(i){return i.type!=="idb"}));var n=t.find(function(i){return i.canBeUsed()});if(n)return n;throw new Error("No usable method found in "+JSON.stringify(Gw.map(function(i){return i.type})))}var Zx=new Set,O7=0,vb=function(t,r){this.id=O7++,Zx.add(this),this.name=t,Xw&&(r=Xw),this.options=fb(r),this.method=S7(this.options),this._iL=!1,this._onML=null,this._addEL={message:[],internal:[]},this._uMP=new Set,this._befC=[],this._prepP=null,E7(this)};vb._pubkey=!0;var Xw;vb.prototype={postMessage:function(t){if(this.closed)throw new Error("BroadcastChannel.postMessage(): Cannot post message after channel has closed "+JSON.stringify(t));return Jw(this,"message",t)},postInternal:function(t){return Jw(this,"internal",t)},set onmessage(e){var t=this.method.microSeconds(),r={time:t,fn:e};eS(this,"message",this._onML),e&&typeof e=="function"?(this._onML=r,Zw(this,"message",r)):this._onML=null},addEventListener:function(t,r){var n=this.method.microSeconds(),i={time:n,fn:r};Zw(this,t,i)},removeEventListener:function(t,r){var n=this._addEL[t].find(function(i){return i.fn===r});eS(this,t,n)},close:function(){var t=this;if(!this.closed){Zx.delete(this),this.closed=!0;var r=this._prepP?this._prepP:Dn;return this._onML=null,this._addEL.message=[],r.then(function(){return Promise.all(Array.from(t._uMP))}).then(function(){return Promise.all(t._befC.map(function(n){return n()}))}).then(function(){return t.method.close(t._state)})}},get type(){return this.method.type},get isClosed(){return this.closed}};function Jw(e,t,r){var n=e.method.microSeconds(),i={time:n,type:t,data:r},o=e._prepP?e._prepP:Dn;return o.then(function(){var a=e.method.postMessage(e._state,i);return e._uMP.add(a),a.catch().then(function(){return e._uMP.delete(a)}),a})}function E7(e){var t=e.method.create(e.name,e.options);jz(t)?(e._prepP=t,t.then(function(r){e._state=r})):e._state=t}function ej(e){return e._addEL.message.length>0||e._addEL.internal.length>0}function Zw(e,t,r){e._addEL[t].push(r),P7(e)}function eS(e,t,r){e._addEL[t]=e._addEL[t].filter(function(n){return n!==r}),x7(e)}function P7(e){if(!e._iL&&ej(e)){var t=function(i){e._addEL[i.type].forEach(function(o){i.time>=o.time&&o.fn(i.data)})},r=e.method.microSeconds();e._prepP?e._prepP.then(function(){e._iL=!0,e.method.onMessage(e._state,t,r)}):(e._iL=!0,e.method.onMessage(e._state,t,r))}}function x7(e){if(e._iL&&!ej(e)){e._iL=!1;var t=e.method.microSeconds();e.method.onMessage(e._state,null,t)}}function j7(e){if(typeof WorkerGlobalScope=="function"&&self instanceof WorkerGlobalScope){var t=self.close.bind(self);self.close=function(){return e(),t()}}else{if(typeof window.addEventListener!="function")return;window.addEventListener("beforeunload",function(){e()},!0),window.addEventListener("unload",function(){e()},!0)}}function k7(e){process.on("exit",function(){return e()}),process.on("beforeExit",function(){return e().then(function(){return process.exit()})}),process.on("SIGINT",function(){return e().then(function(){return process.exit()})}),process.on("uncaughtException",function(t){return e().then(function(){console.trace(t),process.exit(101)})})}var C7=Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]",$7=C7?k7:j7,Tu=new Set,tS=!1;function A7(){tS||(tS=!0,$7(T7))}function R7(e){if(A7(),typeof e!="function")throw new Error("Listener is no function");Tu.add(e);var t={remove:function(){return Tu.delete(e)},run:function(){return Tu.delete(e),e()}};return t}function T7(){var e=[];return Tu.forEach(function(t){e.push(t()),Tu.delete(t)}),Promise.all(e)}function xo(e,t){var r={context:"leader",action:t,token:e.token};return e.broadcastChannel.postInternal(r)}function tj(e){e.isLeader=!0,e._hasLeader=!0;var t=R7(function(){return e.die()});e._unl.push(t);var r=function(i){i.context==="leader"&&i.action==="apply"&&xo(e,"tell"),i.context==="leader"&&i.action==="tell"&&!e._dpLC&&(e._dpLC=!0,e._dpL(),xo(e,"tell"))};return e.broadcastChannel.addEventListener("internal",r),e._lstns.push(r),xo(e,"tell")}var rj=function(t,r){var n=this;this.broadcastChannel=t,t._befC.push(function(){return n.die()}),this._options=r,this.isLeader=!1,this.isDead=!1,this.token=dc(),this._lstns=[],this._unl=[],this._dpL=function(){},this._dpLC=!1,this._wKMC={},this.lN="pubkey-bc||"+t.method.type+"||"+t.name};rj.prototype={hasLeader:function(){var t=this;return navigator.locks.query().then(function(r){var n=r.held?r.held.filter(function(i){return i.name===t.lN}):[];return!!(n&&n.length>0)})},awaitLeadership:function(){var t=this;if(!this._wLMP){this._wKMC.c=new AbortController;var r=new Promise(function(n,i){t._wKMC.res=n,t._wKMC.rej=i});this._wLMP=new Promise(function(n){navigator.locks.request(t.lN,{signal:t._wKMC.c.signal},function(){return t._wKMC.c=void 0,tj(t),n(),r}).catch(function(){})})}return this._wLMP},set onduplicate(e){},die:function(){var t=this;return this._lstns.forEach(function(r){return t.broadcastChannel.removeEventListener("internal",r)}),this._lstns=[],this._unl.forEach(function(r){return r.remove()}),this._unl=[],this.isLeader&&(this.isLeader=!1),this.isDead=!0,this._wKMC.res&&this._wKMC.res(),this._wKMC.c&&this._wKMC.c.abort("LeaderElectionWebLock.die() called"),xo(this,"death")}};var nj=function(t,r){var n=this;this.broadcastChannel=t,this._options=r,this.isLeader=!1,this._hasLeader=!1,this.isDead=!1,this.token=dc(),this._aplQ=Dn,this._aplQC=0,this._unl=[],this._lstns=[],this._dpL=function(){},this._dpLC=!1;var i=function(a){a.context==="leader"&&(a.action==="death"&&(n._hasLeader=!1),a.action==="tell"&&(n._hasLeader=!0))};this.broadcastChannel.addEventListener("internal",i),this._lstns.push(i)};nj.prototype={hasLeader:function(){return Promise.resolve(this._hasLeader)},applyOnce:function(t){var r=this;if(this.isLeader)return bo(0,!0);if(this.isDead)return bo(0,!1);if(this._aplQC>1)return this._aplQ;var n=function(){if(r.isLeader)return kz;var o=!1,a,s=new Promise(function(c){a=function(){o=!0,c()}}),u=function(d){d.context==="leader"&&d.token!=r.token&&(d.action==="apply"&&d.token>r.token&&a(),d.action==="tell"&&(a(),r._hasLeader=!0))};r.broadcastChannel.addEventListener("internal",u);var l=t?r._options.responseTime*4:r._options.responseTime;return xo(r,"apply").then(function(){return Promise.race([bo(l),s.then(function(){return Promise.reject(new Error)})])}).then(function(){return xo(r,"apply")}).then(function(){return Promise.race([bo(l),s.then(function(){return Promise.reject(new Error)})])}).catch(function(){}).then(function(){return r.broadcastChannel.removeEventListener("internal",u),o?!1:tj(r).then(function(){return!0})})};return this._aplQC=this._aplQC+1,this._aplQ=this._aplQ.then(function(){return n()}).then(function(){r._aplQC=r._aplQC-1}),this._aplQ.then(function(){return r.isLeader})},awaitLeadership:function(){return this._aLP||(this._aLP=M7(this)),this._aLP},set onduplicate(e){this._dpL=e},die:function(){var t=this;return this._lstns.forEach(function(r){return t.broadcastChannel.removeEventListener("internal",r)}),this._lstns=[],this._unl.forEach(function(r){return r.remove()}),this._unl=[],this.isLeader&&(this._hasLeader=!1,this.isLeader=!1),this.isDead=!0,xo(this,"death")}};function M7(e){return e.isLeader?Dn:new Promise(function(t){var r=!1;function n(){r||(r=!0,e.broadcastChannel.removeEventListener("internal",o),t(!0))}e.applyOnce().then(function(){e.isLeader&&n()});var i=function a(){return bo(e._options.fallbackInterval).then(function(){if(!(e.isDead||r))if(e.isLeader)n();else return e.applyOnce(!0).then(function(){e.isLeader?n():a()})})};i();var o=function(s){s.context==="leader"&&s.action==="death"&&(e._hasLeader=!1,e.applyOnce().then(function(){e.isLeader&&n()}))};e.broadcastChannel.addEventListener("internal",o),e._lstns.push(o)})}function I7(e,t){return e||(e={}),e=JSON.parse(JSON.stringify(e)),e.fallbackInterval||(e.fallbackInterval=3e3),e.responseTime||(e.responseTime=t.method.averageResponseTime(t.options)),e}function N7(e,t){if(e._leaderElector)throw new Error("BroadcastChannel already has a leader-elector");t=I7(t,e);var r=$z()?new rj(e,t):new nj(e,t);return e._befC.push(function(){return r.die()}),e._leaderElector=r,r}var jd=new Map;function ij(e,t,r,n){var i=jd.get(t);return i||(i={bc:new vb(["RxDB:",e,r].join("|")),refs:new Set},jd.set(t,i)),i.refs.add(n),i.bc}function vg(e,t){var r=jd.get(e);if(r&&(r.refs.delete(t),r.refs.size===0))return jd.delete(e),r.bc.close()}function D7(e,t,r,n){if(t.multiInstance){var i=n||ij(e,t.databaseInstanceToken,r.databaseName,r),o=new kt.Subject,a=f=>{f.storageName===e&&f.databaseName===t.databaseName&&f.collectionName===t.collectionName&&f.version===t.schema.version&&o.next(f.eventBulk)};i.addEventListener("message",a);var s=r.changeStream(),u=!1,l=s.subscribe(f=>{u||i.postMessage({storageName:e,databaseName:t.databaseName,collectionName:t.collectionName,version:t.schema.version,eventBulk:f})});r.changeStream=function(){return o.asObservable().pipe(p8(s))};var c=r.close.bind(r);r.close=async function(){return u=!0,l.unsubscribe(),i.removeEventListener("message",a),n||await vg(t.databaseInstanceToken,r),c()};var d=r.remove.bind(r);r.remove=async function(){return u=!0,l.unsubscribe(),i.removeEventListener("message",a),n||await vg(t.databaseInstanceToken,r),d()}}}function L7(e,t,r,n,i=o=>o){async function o(c){return c&&await r(c)}async function a(c){return c&&await n(c)}async function s(c){var d=et(c);return d.writeRow=et(d.writeRow),d.documentInDb&&(d.documentInDb=await a(d.documentInDb)),d.writeRow.previous&&(d.writeRow.previous=await a(d.writeRow.previous)),d.writeRow.document=await a(d.writeRow.document),d}var u=new kt.BehaviorSubject(0),l={databaseName:t.databaseName,internals:t.internals,cleanup:t.cleanup.bind(t),options:t.options,close:t.close.bind(t),schema:e,collectionName:t.collectionName,count:t.count.bind(t),remove:t.remove.bind(t),originalStorageInstance:t,bulkWrite:async(c,d)=>{var f=[];await Promise.all(c.map(async j=>{var[g,p]=await Promise.all([j.previous?o(j.previous):void 0,o(j.document)]);f.push({previous:g,document:p})}));var h=await t.bulkWrite(f,d),b={success:[],error:[]},_=[];return h.success.forEach(j=>{_.push(a(j).then(g=>b.success.push(g)))}),h.error.forEach(j=>{_.push(s(j).then(g=>b.error.push(g)))}),await Promise.all(_),await kt.firstValueFrom(u.pipe(Oo(j=>j===0))),b},query:c=>t.query(c).then(d=>Promise.all(d.documents.map(f=>a(f)))).then(d=>({documents:d})),getAttachmentData:async(c,d,f)=>{var h=await t.getAttachmentData(c,d,f);return h=await i(h),h},findDocumentsById:(c,d)=>t.findDocumentsById(c,d).then(async f=>{var h=[];return await Promise.all(f.map(async b=>{h.push(await a(b))})),h}),getChangedDocumentsSince:t.getChangedDocumentsSince?(c,d)=>t.getChangedDocumentsSince(c,d).then(async f=>({checkpoint:f.checkpoint,documents:await Promise.all(f.documents.map(h=>a(h)))})):void 0,changeStream:()=>t.changeStream().pipe(ww(()=>u.next(u.getValue()+1)),gs(async c=>{var d=await Promise.all(c.events.map(async h=>{var[b,_]=await Promise.all([a(h.documentData),a(h.previousDocumentData)]),j={operation:h.operation,documentId:h.documentId,documentData:b,previousDocumentData:_,isLocal:!1};return j})),f={id:c.id,events:d,checkpoint:c.checkpoint,context:c.context,startTime:c.startTime,endTime:c.endTime};return f}),ww(()=>u.next(u.getValue()-1))),conflictResultionTasks:()=>t.conflictResultionTasks().pipe(gs(async c=>{var d=await a(c.input.assumedMasterState),f=await a(c.input.newDocumentState),h=await a(c.input.realMasterState);return{id:c.id,context:c.context,input:{assumedMasterState:d,realMasterState:h,newDocumentState:f}}})),resolveConflictResultionTask:c=>{if(c.output.isEqual)return t.resolveConflictResultionTask(c);var d={id:c.id,output:{isEqual:!1,documentData:c.output.documentData}};return t.resolveConflictResultionTask(d)}};return l}const He=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,vt=Object.keys,Ft=Array.isArray;function Yt(e,t){return typeof t!="object"||vt(t).forEach(function(r){e[r]=t[r]}),e}typeof Promise>"u"||He.Promise||(He.Promise=Promise);const ws=Object.getPrototypeOf,F7={}.hasOwnProperty;function Ar(e,t){return F7.call(e,t)}function Ss(e,t){typeof t=="function"&&(t=t(ws(e))),(typeof Reflect>"u"?vt:Reflect.ownKeys)(t).forEach(r=>{Ln(e,r,t[r])})}const oj=Object.defineProperty;function Ln(e,t,r,n){oj(e,t,Yt(r&&Ar(r,"get")&&typeof r.get=="function"?{get:r.get,set:r.set,configurable:!0}:{value:r,configurable:!0,writable:!0},n))}function ts(e){return{from:function(t){return e.prototype=Object.create(t.prototype),Ln(e.prototype,"constructor",e),{extend:Ss.bind(null,e.prototype)}}}}const B7=Object.getOwnPropertyDescriptor;function pb(e,t){let r;return B7(e,t)||(r=ws(e))&&pb(r,t)}const U7=[].slice;function kd(e,t,r){return U7.call(e,t,r)}function aj(e,t){return t(e)}function bu(e){if(!e)throw new Error("Assertion Failed")}function sj(e){He.setImmediate?setImmediate(e):setTimeout(e,0)}function uj(e,t){return e.reduce((r,n,i)=>{var o=t(n,i);return o&&(r[o[0]]=o[1]),r},{})}function Fn(e,t){if(Ar(e,t))return e[t];if(!t)return e;if(typeof t!="string"){for(var r=[],n=0,i=t.length;n<i;++n){var o=Fn(e,t[n]);r.push(o)}return r}var a=t.indexOf(".");if(a!==-1){var s=e[t.substr(0,a)];return s===void 0?void 0:Fn(s,t.substr(a+1))}}function qr(e,t,r){if(e&&t!==void 0&&(!("isFrozen"in Object)||!Object.isFrozen(e)))if(typeof t!="string"&&"length"in t){bu(typeof r!="string"&&"length"in r);for(var n=0,i=t.length;n<i;++n)qr(e,t[n],r[n])}else{var o=t.indexOf(".");if(o!==-1){var a=t.substr(0,o),s=t.substr(o+1);if(s==="")r===void 0?Ft(e)&&!isNaN(parseInt(a))?e.splice(a,1):delete e[a]:e[a]=r;else{var u=e[a];u&&Ar(e,a)||(u=e[a]={}),qr(u,s,r)}}else r===void 0?Ft(e)&&!isNaN(parseInt(t))?e.splice(t,1):delete e[t]:e[t]=r}}function lj(e){var t={};for(var r in e)Ar(e,r)&&(t[r]=e[r]);return t}const W7=[].concat;function cj(e){return W7.apply([],e)}const fj="Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(cj([8,16,32,64].map(e=>["Int","Uint","Float"].map(t=>t+e+"Array")))).filter(e=>He[e]),z7=fj.map(e=>He[e]);uj(fj,e=>[e,!0]);let fi=null;function vc(e){fi=typeof WeakMap<"u"&&new WeakMap;const t=pg(e);return fi=null,t}function pg(e){if(!e||typeof e!="object")return e;let t=fi&&fi.get(e);if(t)return t;if(Ft(e)){t=[],fi&&fi.set(e,t);for(var r=0,n=e.length;r<n;++r)t.push(pg(e[r]))}else if(z7.indexOf(e.constructor)>=0)t=e;else{const o=ws(e);for(var i in t=o===Object.prototype?{}:Object.create(o),fi&&fi.set(e,t),e)Ar(e,i)&&(t[i]=pg(e[i]))}return t}const{toString:K7}={};function mg(e){return K7.call(e).slice(8,-1)}const yg=typeof Symbol<"u"?Symbol.iterator:"@@iterator",V7=typeof yg=="symbol"?function(e){var t;return e!=null&&(t=e[yg])&&t.apply(e)}:function(){return null},Aa={};function Rn(e){var t,r,n,i;if(arguments.length===1){if(Ft(e))return e.slice();if(this===Aa&&typeof e=="string")return[e];if(i=V7(e)){for(r=[];!(n=i.next()).done;)r.push(n.value);return r}if(e==null)return[e];if(typeof(t=e.length)=="number"){for(r=new Array(t);t--;)r[t]=e[t];return r}return[e]}for(t=arguments.length,r=new Array(t);t--;)r[t]=arguments[t];return r}const mb=typeof Symbol<"u"?e=>e[Symbol.toStringTag]==="AsyncFunction":()=>!1;var Pn=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function dj(e,t){Pn=e,hj=t}var hj=()=>!0;const q7=!new Error("").stack;function ca(){if(q7)try{throw ca.arguments,new Error}catch(e){return e}return new Error}function gg(e,t){var r=e.stack;return r?(t=t||0,r.indexOf(e.name)===0&&(t+=(e.name+e.message).split(`
`).length),r.split(`
`).slice(t).filter(hj).map(n=>`
`+n).join("")):""}var vj=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],yb=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(vj),H7={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function rs(e,t){this._e=ca(),this.name=e,this.message=t}function pj(e,t){return e+". Errors: "+Object.keys(t).map(r=>t[r].toString()).filter((r,n,i)=>i.indexOf(r)===n).join(`
`)}function Cd(e,t,r,n){this._e=ca(),this.failures=t,this.failedKeys=n,this.successCount=r,this.message=pj(e,t)}function Mu(e,t){this._e=ca(),this.name="BulkError",this.failures=Object.keys(t).map(r=>t[r]),this.failuresByPos=t,this.message=pj(e,t)}ts(rs).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+gg(this._e,2))}},toString:function(){return this.name+": "+this.message}}),ts(Cd).from(rs),ts(Mu).from(rs);var gb=yb.reduce((e,t)=>(e[t]=t+"Error",e),{});const Q7=rs;var ge=yb.reduce((e,t)=>{var r=t+"Error";function n(i,o){this._e=ca(),this.name=r,i?typeof i=="string"?(this.message=`${i}${o?`
 `+o:""}`,this.inner=o||null):typeof i=="object"&&(this.message=`${i.name} ${i.message}`,this.inner=i):(this.message=H7[t]||r,this.inner=null)}return ts(n).from(Q7),e[t]=n,e},{});ge.Syntax=SyntaxError,ge.Type=TypeError,ge.Range=RangeError;var rS=vj.reduce((e,t)=>(e[t+"Error"]=ge[t],e),{}),Nf=yb.reduce((e,t)=>(["Syntax","Type","Range"].indexOf(t)===-1&&(e[t+"Error"]=ge[t]),e),{});function Ue(){}function hl(e){return e}function Y7(e,t){return e==null||e===hl?t:function(r){return t(e(r))}}function Ho(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function G7(e,t){return e===Ue?t:function(){var r=e.apply(this,arguments);r!==void 0&&(arguments[0]=r);var n=this.onsuccess,i=this.onerror;this.onsuccess=null,this.onerror=null;var o=t.apply(this,arguments);return n&&(this.onsuccess=this.onsuccess?Ho(n,this.onsuccess):n),i&&(this.onerror=this.onerror?Ho(i,this.onerror):i),o!==void 0?o:r}}function X7(e,t){return e===Ue?t:function(){e.apply(this,arguments);var r=this.onsuccess,n=this.onerror;this.onsuccess=this.onerror=null,t.apply(this,arguments),r&&(this.onsuccess=this.onsuccess?Ho(r,this.onsuccess):r),n&&(this.onerror=this.onerror?Ho(n,this.onerror):n)}}function J7(e,t){return e===Ue?t:function(r){var n=e.apply(this,arguments);Yt(r,n);var i=this.onsuccess,o=this.onerror;this.onsuccess=null,this.onerror=null;var a=t.apply(this,arguments);return i&&(this.onsuccess=this.onsuccess?Ho(i,this.onsuccess):i),o&&(this.onerror=this.onerror?Ho(o,this.onerror):o),n===void 0?a===void 0?void 0:a:Yt(n,a)}}function Z7(e,t){return e===Ue?t:function(){return t.apply(this,arguments)!==!1&&e.apply(this,arguments)}}function bb(e,t){return e===Ue?t:function(){var r=e.apply(this,arguments);if(r&&typeof r.then=="function"){for(var n=this,i=arguments.length,o=new Array(i);i--;)o[i]=arguments[i];return r.then(function(){return t.apply(n,o)})}return t.apply(this,arguments)}}Nf.ModifyError=Cd,Nf.DexieError=rs,Nf.BulkError=Mu;var vl={};const[bg,$d,_g]=typeof Promise>"u"?[]:(()=>{let e=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[e,ws(e),e];const t=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[t,ws(t),e]})(),mj=$d&&$d.then,Df=bg&&bg.constructor,_b=!!_g;var wg=!1,eK=_g?()=>{_g.then(uf)}:He.setImmediate?setImmediate.bind(null,uf):He.MutationObserver?()=>{var e=document.createElement("div");new MutationObserver(()=>{uf(),e=null}).observe(e,{attributes:!0}),e.setAttribute("i","1")}:()=>{setTimeout(uf,0)},Iu=function(e,t){_u.push([e,t]),Ad&&(eK(),Ad=!1)},Sg=!0,Ad=!0,jo=[],Lf=[],Og=null,Eg=hl,ns={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:iS,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach(e=>{try{iS(e[0],e[1])}catch{}})}},ve=ns,_u=[],ko=0,Ff=[];function ae(e){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this.onuncatched=Ue,this._lib=!1;var t=this._PSD=ve;if(Pn&&(this._stackHolder=ca(),this._prev=null,this._numPrev=0),typeof e!="function"){if(e!==vl)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&xg(this,this._value))}this._state=null,this._value=null,++t.ref,gj(this,e)}const Pg={get:function(){var e=ve,t=Rd;function r(n,i){var o=!e.global&&(e!==ve||t!==Rd);const a=o&&!Qn();var s=new ae((u,l)=>{wb(this,new yj(Td(n,e,o,a),Td(i,e,o,a),u,l,e))});return Pn&&wj(s,this),s}return r.prototype=vl,r},set:function(e){Ln(this,"then",e&&e.prototype===vl?Pg:{get:function(){return e},set:Pg.set})}};function yj(e,t,r,n,i){this.onFulfilled=typeof e=="function"?e:null,this.onRejected=typeof t=="function"?t:null,this.resolve=r,this.reject=n,this.psd=i}function gj(e,t){try{t(r=>{if(e._state===null){if(r===e)throw new TypeError("A promise cannot be resolved with itself.");var n=e._lib&&pc();r&&typeof r.then=="function"?gj(e,(i,o)=>{r instanceof ae?r._then(i,o):r.then(i,o)}):(e._state=!0,e._value=r,bj(e)),n&&mc()}},xg.bind(null,e))}catch(r){xg(e,r)}}function xg(e,t){if(Lf.push(t),e._state===null){var r=e._lib&&pc();t=Eg(t),e._state=!1,e._value=t,Pn&&t!==null&&typeof t=="object"&&!t._promise&&function(n,i,o){try{n.apply(null,o)}catch(a){i&&i(a)}}(()=>{var n=pb(t,"stack");t._promise=e,Ln(t,"stack",{get:()=>wg?n&&(n.get?n.get.apply(t):n.value):e.stack})}),function(n){jo.some(i=>i._value===n._value)||jo.push(n)}(e),bj(e),r&&mc()}}function bj(e){var t=e._listeners;e._listeners=[];for(var r=0,n=t.length;r<n;++r)wb(e,t[r]);var i=e._PSD;--i.ref||i.finalize(),ko===0&&(++ko,Iu(()=>{--ko==0&&Sb()},[]))}function wb(e,t){if(e._state!==null){var r=e._state?t.onFulfilled:t.onRejected;if(r===null)return(e._state?t.resolve:t.reject)(e._value);++t.psd.ref,++ko,Iu(tK,[r,e,t])}else e._listeners.push(t)}function tK(e,t,r){try{Og=t;var n,i=t._value;t._state?n=e(i):(Lf.length&&(Lf=[]),n=e(i),Lf.indexOf(i)===-1&&function(o){for(var a=jo.length;a;)if(jo[--a]._value===o._value)return void jo.splice(a,1)}(t)),r.resolve(n)}catch(o){r.reject(o)}finally{Og=null,--ko==0&&Sb(),--r.psd.ref||r.psd.finalize()}}function _j(e,t,r){if(t.length===r)return t;var n="";if(e._state===!1){var i,o,a=e._value;a!=null?(i=a.name||"Error",o=a.message||a,n=gg(a,0)):(i=a,o=""),t.push(i+(o?": "+o:"")+n)}return Pn&&((n=gg(e._stackHolder,2))&&t.indexOf(n)===-1&&t.push(n),e._prev&&_j(e._prev,t,r)),t}function wj(e,t){var r=t?t._numPrev+1:0;r<100&&(e._prev=t,e._numPrev=r)}function uf(){pc()&&mc()}function pc(){var e=Sg;return Sg=!1,Ad=!1,e}function mc(){var e,t,r;do for(;_u.length>0;)for(e=_u,_u=[],r=e.length,t=0;t<r;++t){var n=e[t];n[0].apply(null,n[1])}while(_u.length>0);Sg=!0,Ad=!0}function Sb(){var e=jo;jo=[],e.forEach(n=>{n._PSD.onunhandled.call(null,n._value,n)});for(var t=Ff.slice(0),r=t.length;r;)t[--r]()}function lf(e){return new ae(vl,!1,e)}function Je(e,t){var r=ve;return function(){var n=pc(),i=ve;try{return Li(r,!0),e.apply(this,arguments)}catch(o){t&&t(o)}finally{Li(i,!1),n&&mc()}}}Ss(ae.prototype,{then:Pg,_then:function(e,t){wb(this,new yj(null,null,e,t,ve))},catch:function(e){if(arguments.length===1)return this.then(null,e);var t=arguments[0],r=arguments[1];return typeof t=="function"?this.then(null,n=>n instanceof t?r(n):lf(n)):this.then(null,n=>n&&n.name===t?r(n):lf(n))},finally:function(e){return this.then(t=>(e(),t),t=>(e(),lf(t)))},stack:{get:function(){if(this._stack)return this._stack;try{wg=!0;var e=_j(this,[],20).join(`
From previous: `);return this._state!==null&&(this._stack=e),e}finally{wg=!1}}},timeout:function(e,t){return e<1/0?new ae((r,n)=>{var i=setTimeout(()=>n(new ge.Timeout(t)),e);this.then(r,n).finally(clearTimeout.bind(null,i))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&Ln(ae.prototype,Symbol.toStringTag,"Dexie.Promise"),ns.env=Sj(),Ss(ae,{all:function(){var e=Rn.apply(null,arguments).map(cf);return new ae(function(t,r){e.length===0&&t([]);var n=e.length;e.forEach((i,o)=>ae.resolve(i).then(a=>{e[o]=a,--n||t(e)},r))})},resolve:e=>{if(e instanceof ae)return e;if(e&&typeof e.then=="function")return new ae((r,n)=>{e.then(r,n)});var t=new ae(vl,!0,e);return wj(t,Og),t},reject:lf,race:function(){var e=Rn.apply(null,arguments).map(cf);return new ae((t,r)=>{e.map(n=>ae.resolve(n).then(t,r))})},PSD:{get:()=>ve,set:e=>ve=e},totalEchoes:{get:()=>Rd},newPSD:Di,usePSD:Ws,scheduler:{get:()=>Iu,set:e=>{Iu=e}},rejectionMapper:{get:()=>Eg,set:e=>{Eg=e}},follow:(e,t)=>new ae((r,n)=>Di((i,o)=>{var a=ve;a.unhandleds=[],a.onunhandled=o,a.finalize=Ho(function(){(function(s){function u(){s(),Ff.splice(Ff.indexOf(u),1)}Ff.push(u),++ko,Iu(()=>{--ko==0&&Sb()},[])})(()=>{this.unhandleds.length===0?i():o(this.unhandleds[0])})},a.finalize),e()},t,r,n))}),Df&&(Df.allSettled&&Ln(ae,"allSettled",function(){const e=Rn.apply(null,arguments).map(cf);return new ae(t=>{e.length===0&&t([]);let r=e.length;const n=new Array(r);e.forEach((i,o)=>ae.resolve(i).then(a=>n[o]={status:"fulfilled",value:a},a=>n[o]={status:"rejected",reason:a}).then(()=>--r||t(n)))})}),Df.any&&typeof AggregateError<"u"&&Ln(ae,"any",function(){const e=Rn.apply(null,arguments).map(cf);return new ae((t,r)=>{e.length===0&&r(new AggregateError([]));let n=e.length;const i=new Array(n);e.forEach((o,a)=>ae.resolve(o).then(s=>t(s),s=>{i[a]=s,--n||r(new AggregateError(i))}))})}));const Lt={awaits:0,echoes:0,id:0};var rK=0,Bf=[],Km=0,Rd=0,nK=0;function Di(e,t,r,n){var i=ve,o=Object.create(i);o.parent=i,o.ref=0,o.global=!1,o.id=++nK;var a=ns.env;o.env=_b?{Promise:ae,PromiseProp:{value:ae,configurable:!0,writable:!0},all:ae.all,race:ae.race,allSettled:ae.allSettled,any:ae.any,resolve:ae.resolve,reject:ae.reject,nthen:nS(a.nthen,o),gthen:nS(a.gthen,o)}:{},t&&Yt(o,t),++i.ref,o.finalize=function(){--this.parent.ref||this.parent.finalize()};var s=Ws(o,e,r,n);return o.ref===0&&o.finalize(),s}function Us(){return Lt.id||(Lt.id=++rK),++Lt.awaits,Lt.echoes+=100,Lt.id}function Qn(){return!!Lt.awaits&&(--Lt.awaits==0&&(Lt.id=0),Lt.echoes=100*Lt.awaits,!0)}function cf(e){return Lt.echoes&&e&&e.constructor===Df?(Us(),e.then(t=>(Qn(),t),t=>(Qn(),_t(t)))):e}function iK(e){++Rd,Lt.echoes&&--Lt.echoes!=0||(Lt.echoes=Lt.id=0),Bf.push(ve),Li(e,!0)}function oK(){var e=Bf[Bf.length-1];Bf.pop(),Li(e,!1)}function Li(e,t){var r=ve;if((t?!Lt.echoes||Km++&&e===ve:!Km||--Km&&e===ve)||Oj(t?iK.bind(null,e):oK),e!==ve&&(ve=e,r===ns&&(ns.env=Sj()),_b)){var n=ns.env.Promise,i=e.env;$d.then=i.nthen,n.prototype.then=i.gthen,(r.global||e.global)&&(Object.defineProperty(He,"Promise",i.PromiseProp),n.all=i.all,n.race=i.race,n.resolve=i.resolve,n.reject=i.reject,i.allSettled&&(n.allSettled=i.allSettled),i.any&&(n.any=i.any))}}function Sj(){var e=He.Promise;return _b?{Promise:e,PromiseProp:Object.getOwnPropertyDescriptor(He,"Promise"),all:e.all,race:e.race,allSettled:e.allSettled,any:e.any,resolve:e.resolve,reject:e.reject,nthen:$d.then,gthen:e.prototype.then}:{}}function Ws(e,t,r,n,i){var o=ve;try{return Li(e,!0),t(r,n,i)}finally{Li(o,!1)}}function Oj(e){mj.call(bg,e)}function Td(e,t,r,n){return typeof e!="function"?e:function(){var i=ve;r&&Us(),Li(t,!0);try{return e.apply(this,arguments)}finally{Li(i,!1),n&&Oj(Qn)}}}function nS(e,t){return function(r,n){return e.call(this,Td(r,t),Td(n,t))}}(""+mj).indexOf("[native code]")===-1&&(Us=Qn=Ue);function iS(e,t){var r;try{r=t.onuncatched(e)}catch{}if(r!==!1)try{var n,i={promise:t,reason:e};if(He.document&&document.createEvent?((n=document.createEvent("Event")).initEvent("unhandledrejection",!0,!0),Yt(n,i)):He.CustomEvent&&Yt(n=new CustomEvent("unhandledrejection",{detail:i}),i),n&&He.dispatchEvent&&(dispatchEvent(n),!He.PromiseRejectionEvent&&He.onunhandledrejection))try{He.onunhandledrejection(n)}catch{}Pn&&n&&!n.defaultPrevented&&console.warn(`Unhandled rejection: ${e.stack||e}`)}catch{}}var _t=ae.reject;function jg(e,t,r,n){if(e.idbdb&&(e._state.openComplete||ve.letThrough||e._vip)){var i=e._createTransaction(t,r,e._dbSchema);try{i.create(),e._state.PR1398_maxLoop=3}catch(o){return o.name===gb.InvalidState&&e.isOpen()&&--e._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),e._close(),e.open().then(()=>jg(e,t,r,n))):_t(o)}return i._promise(t,(o,a)=>Di(()=>(ve.trans=i,n(o,a,i)))).then(o=>i._completion.then(()=>o))}if(e._state.openComplete)return _t(new ge.DatabaseClosed(e._state.dbOpenError));if(!e._state.isBeingOpened){if(!e._options.autoOpen)return _t(new ge.DatabaseClosed);e.open().catch(Ue)}return e._state.dbReadyPromise.then(()=>jg(e,t,r,n))}const _o="",kn="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Nu=[],yp=typeof navigator<"u"&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),aK=yp,sK=yp,Ej=e=>!/(dexie\.js|dexie\.min\.js)/.test(e);function Qo(e,t){return e?t?function(){return e.apply(this,arguments)&&t.apply(this,arguments)}:e:t}const Pj={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function ff(e){return typeof e!="string"||/\./.test(e)?t=>t:t=>(t[e]===void 0&&e in t&&delete(t=vc(t))[e],t)}function uK(){throw ge.Type()}class lK{_trans(t,r,n){const i=this._tx||ve.trans,o=this.name;function a(u,l,c){if(!c.schema[o])throw new ge.NotFound("Table "+o+" not part of transaction");return r(c.idbtrans,c)}const s=pc();try{return i&&i.db===this.db?i===ve.trans?i._promise(t,a,n):Di(()=>i._promise(t,a,n),{trans:i,transless:ve.transless||ve}):jg(this.db,t,[this.name],a)}finally{s&&mc()}}get(t,r){return t&&t.constructor===Object?this.where(t).first(r):this._trans("readonly",n=>this.core.get({trans:n,key:t}).then(i=>this.hook.reading.fire(i))).then(r)}where(t){if(typeof t=="string")return new this.db.WhereClause(this,t);if(Ft(t))return new this.db.WhereClause(this,`[${t.join("+")}]`);const r=vt(t);if(r.length===1)return this.where(r[0]).equals(t[r[0]]);const n=this.schema.indexes.concat(this.schema.primKey).filter(l=>l.compound&&r.every(c=>l.keyPath.indexOf(c)>=0)&&l.keyPath.every(c=>r.indexOf(c)>=0))[0];if(n&&this.db._maxKey!==_o)return this.where(n.name).equals(n.keyPath.map(l=>t[l]));!n&&Pn&&console.warn(`The query ${JSON.stringify(t)} on ${this.name} would benefit of a compound index [${r.join("+")}]`);const{idxByName:i}=this.schema,o=this.db._deps.indexedDB;function a(l,c){try{return o.cmp(l,c)===0}catch{return!1}}const[s,u]=r.reduce(([l,c],d)=>{const f=i[d],h=t[d];return[l||f,l||!f?Qo(c,f&&f.multi?b=>{const _=Fn(b,d);return Ft(_)&&_.some(j=>a(h,j))}:b=>a(h,Fn(b,d))):c]},[null,null]);return s?this.where(s.name).equals(t[s.keyPath]).filter(u):n?this.filter(u):this.where(r).equals("")}filter(t){return this.toCollection().and(t)}count(t){return this.toCollection().count(t)}offset(t){return this.toCollection().offset(t)}limit(t){return this.toCollection().limit(t)}each(t){return this.toCollection().each(t)}toArray(t){return this.toCollection().toArray(t)}toCollection(){return new this.db.Collection(new this.db.WhereClause(this))}orderBy(t){return new this.db.Collection(new this.db.WhereClause(this,Ft(t)?`[${t.join("+")}]`:t))}reverse(){return this.toCollection().reverse()}mapToClass(t){const{db:r,name:n}=this;this.schema.mappedClass=t,t.prototype instanceof uK&&(t=class extends t{get db(){return r}table(){return n}});const i=new Set;for(let a=t.prototype;a;a=ws(a))Object.getOwnPropertyNames(a).forEach(s=>i.add(s));const o=a=>{if(!a)return a;const s=Object.create(t.prototype);for(let u in a)if(!i.has(u))try{s[u]=a[u]}catch{}return s};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=o,this.hook("reading",o),t}defineClass(){return this.mapToClass(function(t){Yt(this,t)})}add(t,r){const{auto:n,keyPath:i}=this.schema.primKey;let o=t;return i&&n&&(o=ff(i)(t)),this._trans("readwrite",a=>this.core.mutate({trans:a,type:"add",keys:r!=null?[r]:null,values:[o]})).then(a=>a.numFailures?ae.reject(a.failures[0]):a.lastResult).then(a=>{if(i)try{qr(t,i,a)}catch{}return a})}update(t,r){if(typeof t!="object"||Ft(t))return this.where(":id").equals(t).modify(r);{const n=Fn(t,this.schema.primKey.keyPath);if(n===void 0)return _t(new ge.InvalidArgument("Given object does not contain its primary key"));try{typeof r!="function"?vt(r).forEach(i=>{qr(t,i,r[i])}):r(t,{value:t,primKey:n})}catch{}return this.where(":id").equals(n).modify(r)}}put(t,r){const{auto:n,keyPath:i}=this.schema.primKey;let o=t;return i&&n&&(o=ff(i)(t)),this._trans("readwrite",a=>this.core.mutate({trans:a,type:"put",values:[o],keys:r!=null?[r]:null})).then(a=>a.numFailures?ae.reject(a.failures[0]):a.lastResult).then(a=>{if(i)try{qr(t,i,a)}catch{}return a})}delete(t){return this._trans("readwrite",r=>this.core.mutate({trans:r,type:"delete",keys:[t]})).then(r=>r.numFailures?ae.reject(r.failures[0]):void 0)}clear(){return this._trans("readwrite",t=>this.core.mutate({trans:t,type:"deleteRange",range:Pj})).then(t=>t.numFailures?ae.reject(t.failures[0]):void 0)}bulkGet(t){return this._trans("readonly",r=>this.core.getMany({keys:t,trans:r}).then(n=>n.map(i=>this.hook.reading.fire(i))))}bulkAdd(t,r,n){const i=Array.isArray(r)?r:void 0,o=(n=n||(i?void 0:r))?n.allKeys:void 0;return this._trans("readwrite",a=>{const{auto:s,keyPath:u}=this.schema.primKey;if(u&&i)throw new ge.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(i&&i.length!==t.length)throw new ge.InvalidArgument("Arguments objects and keys must have the same length");const l=t.length;let c=u&&s?t.map(ff(u)):t;return this.core.mutate({trans:a,type:"add",keys:i,values:c,wantResults:o}).then(({numFailures:d,results:f,lastResult:h,failures:b})=>{if(d===0)return o?f:h;throw new Mu(`${this.name}.bulkAdd(): ${d} of ${l} operations failed`,b)})})}bulkPut(t,r,n){const i=Array.isArray(r)?r:void 0,o=(n=n||(i?void 0:r))?n.allKeys:void 0;return this._trans("readwrite",a=>{const{auto:s,keyPath:u}=this.schema.primKey;if(u&&i)throw new ge.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(i&&i.length!==t.length)throw new ge.InvalidArgument("Arguments objects and keys must have the same length");const l=t.length;let c=u&&s?t.map(ff(u)):t;return this.core.mutate({trans:a,type:"put",keys:i,values:c,wantResults:o}).then(({numFailures:d,results:f,lastResult:h,failures:b})=>{if(d===0)return o?f:h;throw new Mu(`${this.name}.bulkPut(): ${d} of ${l} operations failed`,b)})})}bulkDelete(t){const r=t.length;return this._trans("readwrite",n=>this.core.mutate({trans:n,type:"delete",keys:t})).then(({numFailures:n,lastResult:i,failures:o})=>{if(n===0)return i;throw new Mu(`${this.name}.bulkDelete(): ${n} of ${r} operations failed`,o)})}}function Du(e){var t={},r=function(s,u){if(u){for(var l=arguments.length,c=new Array(l-1);--l;)c[l-1]=arguments[l];return t[s].subscribe.apply(null,c),e}if(typeof s=="string")return t[s]};r.addEventType=o;for(var n=1,i=arguments.length;n<i;++n)o(arguments[n]);return r;function o(s,u,l){if(typeof s=="object")return a(s);u||(u=Z7),l||(l=Ue);var c={subscribers:[],fire:l,subscribe:function(d){c.subscribers.indexOf(d)===-1&&(c.subscribers.push(d),c.fire=u(c.fire,d))},unsubscribe:function(d){c.subscribers=c.subscribers.filter(function(f){return f!==d}),c.fire=c.subscribers.reduce(u,l)}};return t[s]=r[s]=c,c}function a(s){vt(s).forEach(function(u){var l=s[u];if(Ft(l))o(u,s[u][0],s[u][1]);else{if(l!=="asap")throw new ge.InvalidArgument("Invalid event config");var c=o(u,hl,function(){for(var d=arguments.length,f=new Array(d);d--;)f[d]=arguments[d];c.subscribers.forEach(function(h){sj(function(){h.apply(null,f)})})})}})}}function vu(e,t){return ts(t).from({prototype:e}),t}function Ca(e,t){return!(e.filter||e.algorithm||e.or)&&(t?e.justLimit:!e.replayFilter)}function Vm(e,t){e.filter=Qo(e.filter,t)}function qm(e,t,r){var n=e.replayFilter;e.replayFilter=n?()=>Qo(n(),t()):t,e.justLimit=r&&!n}function Uf(e,t){if(e.isPrimKey)return t.primaryKey;const r=t.getIndexByKeyPath(e.index);if(!r)throw new ge.Schema("KeyPath "+e.index+" on object store "+t.name+" is not indexed");return r}function oS(e,t,r){const n=Uf(e,t.schema);return t.openCursor({trans:r,values:!e.keysOnly,reverse:e.dir==="prev",unique:!!e.unique,query:{index:n,range:e.range}})}function df(e,t,r,n){const i=e.replayFilter?Qo(e.filter,e.replayFilter()):e.filter;if(e.or){const o={},a=(s,u,l)=>{if(!i||i(u,l,f=>u.stop(f),f=>u.fail(f))){var c=u.primaryKey,d=""+c;d==="[object ArrayBuffer]"&&(d=""+new Uint8Array(c)),Ar(o,d)||(o[d]=!0,t(s,u,l))}};return Promise.all([e.or._iterate(a,r),aS(oS(e,n,r),e.algorithm,a,!e.keysOnly&&e.valueMapper)])}return aS(oS(e,n,r),Qo(e.algorithm,i),t,!e.keysOnly&&e.valueMapper)}function aS(e,t,r,n){var i=Je(n?(o,a,s)=>r(n(o),a,s):r);return e.then(o=>{if(o)return o.start(()=>{var a=()=>o.continue();t&&!t(o,s=>a=s,s=>{o.stop(s),a=Ue},s=>{o.fail(s),a=Ue})||i(o.value,o,s=>a=s),a()})})}function Ht(e,t){try{const r=sS(e),n=sS(t);if(r!==n)return r==="Array"?1:n==="Array"?-1:r==="binary"?1:n==="binary"?-1:r==="string"?1:n==="string"?-1:r==="Date"?1:n!=="Date"?NaN:-1;switch(r){case"number":case"Date":case"string":return e>t?1:e<t?-1:0;case"binary":return function(i,o){const a=i.length,s=o.length,u=a<s?a:s;for(let l=0;l<u;++l)if(i[l]!==o[l])return i[l]<o[l]?-1:1;return a===s?0:a<s?-1:1}(uS(e),uS(t));case"Array":return function(i,o){const a=i.length,s=o.length,u=a<s?a:s;for(let l=0;l<u;++l){const c=Ht(i[l],o[l]);if(c!==0)return c}return a===s?0:a<s?-1:1}(e,t)}}catch{}return NaN}function sS(e){const t=typeof e;if(t!=="object")return t;if(ArrayBuffer.isView(e))return"binary";const r=mg(e);return r==="ArrayBuffer"?"binary":r}function uS(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):new Uint8Array(e)}class cK{_read(t,r){var n=this._ctx;return n.error?n.table._trans(null,_t.bind(null,n.error)):n.table._trans("readonly",t).then(r)}_write(t){var r=this._ctx;return r.error?r.table._trans(null,_t.bind(null,r.error)):r.table._trans("readwrite",t,"locked")}_addAlgorithm(t){var r=this._ctx;r.algorithm=Qo(r.algorithm,t)}_iterate(t,r){return df(this._ctx,t,r,this._ctx.table.core)}clone(t){var r=Object.create(this.constructor.prototype),n=Object.create(this._ctx);return t&&Yt(n,t),r._ctx=n,r}raw(){return this._ctx.valueMapper=null,this}each(t){var r=this._ctx;return this._read(n=>df(r,t,n,r.table.core))}count(t){return this._read(r=>{const n=this._ctx,i=n.table.core;if(Ca(n,!0))return i.count({trans:r,query:{index:Uf(n,i.schema),range:n.range}}).then(a=>Math.min(a,n.limit));var o=0;return df(n,()=>(++o,!1),r,i).then(()=>o)}).then(t)}sortBy(t,r){const n=t.split(".").reverse(),i=n[0],o=n.length-1;function a(l,c){return c?a(l[n[c]],c-1):l[i]}var s=this._ctx.dir==="next"?1:-1;function u(l,c){var d=a(l,o),f=a(c,o);return d<f?-s:d>f?s:0}return this.toArray(function(l){return l.sort(u)}).then(r)}toArray(t){return this._read(r=>{var n=this._ctx;if(n.dir==="next"&&Ca(n,!0)&&n.limit>0){const{valueMapper:i}=n,o=Uf(n,n.table.core.schema);return n.table.core.query({trans:r,limit:n.limit,values:!0,query:{index:o,range:n.range}}).then(({result:a})=>i?a.map(i):a)}{const i=[];return df(n,o=>i.push(o),r,n.table.core).then(()=>i)}},t)}offset(t){var r=this._ctx;return t<=0||(r.offset+=t,Ca(r)?qm(r,()=>{var n=t;return(i,o)=>n===0||(n===1?(--n,!1):(o(()=>{i.advance(n),n=0}),!1))}):qm(r,()=>{var n=t;return()=>--n<0})),this}limit(t){return this._ctx.limit=Math.min(this._ctx.limit,t),qm(this._ctx,()=>{var r=t;return function(n,i,o){return--r<=0&&i(o),r>=0}},!0),this}until(t,r){return Vm(this._ctx,function(n,i,o){return!t(n.value)||(i(o),r)}),this}first(t){return this.limit(1).toArray(function(r){return r[0]}).then(t)}last(t){return this.reverse().first(t)}filter(t){var r,n;return Vm(this._ctx,function(i){return t(i.value)}),r=this._ctx,n=t,r.isMatch=Qo(r.isMatch,n),this}and(t){return this.filter(t)}or(t){return new this.db.WhereClause(this._ctx.table,t,this)}reverse(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this}desc(){return this.reverse()}eachKey(t){var r=this._ctx;return r.keysOnly=!r.isMatch,this.each(function(n,i){t(i.key,i)})}eachUniqueKey(t){return this._ctx.unique="unique",this.eachKey(t)}eachPrimaryKey(t){var r=this._ctx;return r.keysOnly=!r.isMatch,this.each(function(n,i){t(i.primaryKey,i)})}keys(t){var r=this._ctx;r.keysOnly=!r.isMatch;var n=[];return this.each(function(i,o){n.push(o.key)}).then(function(){return n}).then(t)}primaryKeys(t){var r=this._ctx;if(r.dir==="next"&&Ca(r,!0)&&r.limit>0)return this._read(i=>{var o=Uf(r,r.table.core.schema);return r.table.core.query({trans:i,values:!1,limit:r.limit,query:{index:o,range:r.range}})}).then(({result:i})=>i).then(t);r.keysOnly=!r.isMatch;var n=[];return this.each(function(i,o){n.push(o.primaryKey)}).then(function(){return n}).then(t)}uniqueKeys(t){return this._ctx.unique="unique",this.keys(t)}firstKey(t){return this.limit(1).keys(function(r){return r[0]}).then(t)}lastKey(t){return this.reverse().firstKey(t)}distinct(){var t=this._ctx,r=t.index&&t.table.schema.idxByName[t.index];if(!r||!r.multi)return this;var n={};return Vm(this._ctx,function(i){var o=i.primaryKey.toString(),a=Ar(n,o);return n[o]=!0,!a}),this}modify(t){var r=this._ctx;return this._write(n=>{var i;if(typeof t=="function")i=t;else{var o=vt(t),a=o.length;i=function(_){for(var j=!1,g=0;g<a;++g){var p=o[g],O=t[p];Fn(_,p)!==O&&(qr(_,p,O),j=!0)}return j}}const s=r.table.core,{outbound:u,extractKey:l}=s.schema.primaryKey,c=this.db._options.modifyChunkSize||200,d=[];let f=0;const h=[],b=(_,j)=>{const{failures:g,numFailures:p}=j;f+=_-p;for(let O of vt(g))d.push(g[O])};return this.clone().primaryKeys().then(_=>{const j=g=>{const p=Math.min(c,_.length-g);return s.getMany({trans:n,keys:_.slice(g,g+p),cache:"immutable"}).then(O=>{const x=[],P=[],C=u?[]:null,A=[];for(let B=0;B<p;++B){const V=O[B],X={value:vc(V),primKey:_[g+B]};i.call(X,X.value,X)!==!1&&(X.value==null?A.push(_[g+B]):u||Ht(l(V),l(X.value))===0?(P.push(X.value),u&&C.push(_[g+B])):(A.push(_[g+B]),x.push(X.value)))}const D=Ca(r)&&r.limit===1/0&&(typeof t!="function"||t===Hm)&&{index:r.index,range:r.range};return Promise.resolve(x.length>0&&s.mutate({trans:n,type:"add",values:x}).then(B=>{for(let V in B.failures)A.splice(parseInt(V),1);b(x.length,B)})).then(()=>(P.length>0||D&&typeof t=="object")&&s.mutate({trans:n,type:"put",keys:C,values:P,criteria:D,changeSpec:typeof t!="function"&&t}).then(B=>b(P.length,B))).then(()=>(A.length>0||D&&t===Hm)&&s.mutate({trans:n,type:"delete",keys:A,criteria:D}).then(B=>b(A.length,B))).then(()=>_.length>g+p&&j(g+c))})};return j(0).then(()=>{if(d.length>0)throw new Cd("Error modifying one or more objects",d,f,h);return _.length})})})}delete(){var t=this._ctx,r=t.range;return Ca(t)&&(t.isPrimKey&&!sK||r.type===3)?this._write(n=>{const{primaryKey:i}=t.table.core.schema,o=r;return t.table.core.count({trans:n,query:{index:i,range:o}}).then(a=>t.table.core.mutate({trans:n,type:"deleteRange",range:o}).then(({failures:s,lastResult:u,results:l,numFailures:c})=>{if(c)throw new Cd("Could not delete some values",Object.keys(s).map(d=>s[d]),a-c);return a-c}))}):this.modify(Hm)}}const Hm=(e,t)=>t.value=null;function fK(e,t){return e<t?-1:e===t?0:1}function dK(e,t){return e>t?-1:e===t?0:1}function cr(e,t,r){var n=e instanceof jj?new e.Collection(e):e;return n._ctx.error=r?new r(t):new TypeError(t),n}function $a(e){return new e.Collection(e,()=>xj("")).limit(0)}function hK(e,t,r,n,i,o){for(var a=Math.min(e.length,n.length),s=-1,u=0;u<a;++u){var l=t[u];if(l!==n[u])return i(e[u],r[u])<0?e.substr(0,u)+r[u]+r.substr(u+1):i(e[u],n[u])<0?e.substr(0,u)+n[u]+r.substr(u+1):s>=0?e.substr(0,s)+t[s]+r.substr(s+1):null;i(e[u],l)<0&&(s=u)}return a<n.length&&o==="next"?e+r.substr(e.length):a<e.length&&o==="prev"?e.substr(0,r.length):s<0?null:e.substr(0,s)+n[s]+r.substr(s+1)}function hf(e,t,r,n){var i,o,a,s,u,l,c,d=r.length;if(!r.every(_=>typeof _=="string"))return cr(e,"String expected.");function f(_){i=function(g){return g==="next"?p=>p.toUpperCase():p=>p.toLowerCase()}(_),o=function(g){return g==="next"?p=>p.toLowerCase():p=>p.toUpperCase()}(_),a=_==="next"?fK:dK;var j=r.map(function(g){return{lower:o(g),upper:i(g)}}).sort(function(g,p){return a(g.lower,p.lower)});s=j.map(function(g){return g.upper}),u=j.map(function(g){return g.lower}),l=_,c=_==="next"?"":n}f("next");var h=new e.Collection(e,()=>ui(s[0],u[d-1]+n));h._ondirectionchange=function(_){f(_)};var b=0;return h._addAlgorithm(function(_,j,g){var p=_.key;if(typeof p!="string")return!1;var O=o(p);if(t(O,u,b))return!0;for(var x=null,P=b;P<d;++P){var C=hK(p,O,s[P],u[P],a,l);C===null&&x===null?b=P+1:(x===null||a(x,C)>0)&&(x=C)}return j(x!==null?function(){_.continue(x+c)}:g),!1}),h}function ui(e,t,r,n){return{type:2,lower:e,upper:t,lowerOpen:r,upperOpen:n}}function xj(e){return{type:1,lower:e,upper:e}}class jj{get Collection(){return this._ctx.table.db.Collection}between(t,r,n,i){n=n!==!1,i=i===!0;try{return this._cmp(t,r)>0||this._cmp(t,r)===0&&(n||i)&&(!n||!i)?$a(this):new this.Collection(this,()=>ui(t,r,!n,!i))}catch{return cr(this,kn)}}equals(t){return t==null?cr(this,kn):new this.Collection(this,()=>xj(t))}above(t){return t==null?cr(this,kn):new this.Collection(this,()=>ui(t,void 0,!0))}aboveOrEqual(t){return t==null?cr(this,kn):new this.Collection(this,()=>ui(t,void 0,!1))}below(t){return t==null?cr(this,kn):new this.Collection(this,()=>ui(void 0,t,!1,!0))}belowOrEqual(t){return t==null?cr(this,kn):new this.Collection(this,()=>ui(void 0,t))}startsWith(t){return typeof t!="string"?cr(this,"String expected."):this.between(t,t+_o,!0,!0)}startsWithIgnoreCase(t){return t===""?this.startsWith(t):hf(this,(r,n)=>r.indexOf(n[0])===0,[t],_o)}equalsIgnoreCase(t){return hf(this,(r,n)=>r===n[0],[t],"")}anyOfIgnoreCase(){var t=Rn.apply(Aa,arguments);return t.length===0?$a(this):hf(this,(r,n)=>n.indexOf(r)!==-1,t,"")}startsWithAnyOfIgnoreCase(){var t=Rn.apply(Aa,arguments);return t.length===0?$a(this):hf(this,(r,n)=>n.some(i=>r.indexOf(i)===0),t,_o)}anyOf(){const t=Rn.apply(Aa,arguments);let r=this._cmp;try{t.sort(r)}catch{return cr(this,kn)}if(t.length===0)return $a(this);const n=new this.Collection(this,()=>ui(t[0],t[t.length-1]));n._ondirectionchange=o=>{r=o==="next"?this._ascending:this._descending,t.sort(r)};let i=0;return n._addAlgorithm((o,a,s)=>{const u=o.key;for(;r(u,t[i])>0;)if(++i,i===t.length)return a(s),!1;return r(u,t[i])===0||(a(()=>{o.continue(t[i])}),!1)}),n}notEqual(t){return this.inAnyRange([[-1/0,t],[t,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})}noneOf(){const t=Rn.apply(Aa,arguments);if(t.length===0)return new this.Collection(this);try{t.sort(this._ascending)}catch{return cr(this,kn)}const r=t.reduce((n,i)=>n?n.concat([[n[n.length-1][1],i]]):[[-1/0,i]],null);return r.push([t[t.length-1],this.db._maxKey]),this.inAnyRange(r,{includeLowers:!1,includeUppers:!1})}inAnyRange(t,r){const n=this._cmp,i=this._ascending,o=this._descending,a=this._min,s=this._max;if(t.length===0)return $a(this);if(!t.every(p=>p[0]!==void 0&&p[1]!==void 0&&i(p[0],p[1])<=0))return cr(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",ge.InvalidArgument);const u=!r||r.includeLowers!==!1,l=r&&r.includeUppers===!0;let c,d=i;function f(p,O){return d(p[0],O[0])}try{c=t.reduce(function(p,O){let x=0,P=p.length;for(;x<P;++x){const C=p[x];if(n(O[0],C[1])<0&&n(O[1],C[0])>0){C[0]=a(C[0],O[0]),C[1]=s(C[1],O[1]);break}}return x===P&&p.push(O),p},[]),c.sort(f)}catch{return cr(this,kn)}let h=0;const b=l?p=>i(p,c[h][1])>0:p=>i(p,c[h][1])>=0,_=u?p=>o(p,c[h][0])>0:p=>o(p,c[h][0])>=0;let j=b;const g=new this.Collection(this,()=>ui(c[0][0],c[c.length-1][1],!u,!l));return g._ondirectionchange=p=>{p==="next"?(j=b,d=i):(j=_,d=o),c.sort(f)},g._addAlgorithm((p,O,x)=>{for(var P=p.key;j(P);)if(++h,h===c.length)return O(x),!1;return!!function(C){return!b(C)&&!_(C)}(P)||(this._cmp(P,c[h][1])===0||this._cmp(P,c[h][0])===0||O(()=>{d===i?p.continue(c[h][0]):p.continue(c[h][1])}),!1)}),g}startsWithAnyOf(){const t=Rn.apply(Aa,arguments);return t.every(r=>typeof r=="string")?t.length===0?$a(this):this.inAnyRange(t.map(r=>[r,r+_o])):cr(this,"startsWithAnyOf() only works with strings")}}function fn(e){return Je(function(t){return pl(t),e(t.target.error),!1})}function pl(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault()}const Fi=Du(null,"storagemutated");class vK{_lock(){return bu(!ve.global),++this._reculock,this._reculock!==1||ve.global||(ve.lockOwnerFor=this),this}_unlock(){if(bu(!ve.global),--this._reculock==0)for(ve.global||(ve.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var t=this._blockedFuncs.shift();try{Ws(t[1],t[0])}catch{}}return this}_locked(){return this._reculock&&ve.lockOwnerFor!==this}create(t){if(!this.mode)return this;const r=this.db.idbdb,n=this.db._state.dbOpenError;if(bu(!this.idbtrans),!t&&!r)switch(n&&n.name){case"DatabaseClosedError":throw new ge.DatabaseClosed(n);case"MissingAPIError":throw new ge.MissingAPI(n.message,n);default:throw new ge.OpenFailed(n)}if(!this.active)throw new ge.TransactionInactive;return bu(this._completion._state===null),(t=this.idbtrans=t||(this.db.core?this.db.core.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}):r.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}))).onerror=Je(i=>{pl(i),this._reject(t.error)}),t.onabort=Je(i=>{pl(i),this.active&&this._reject(new ge.Abort(t.error)),this.active=!1,this.on("abort").fire(i)}),t.oncomplete=Je(()=>{this.active=!1,this._resolve(),"mutatedParts"in t&&Fi.storagemutated.fire(t.mutatedParts)}),this}_promise(t,r,n){if(t==="readwrite"&&this.mode!=="readwrite")return _t(new ge.ReadOnly("Transaction is readonly"));if(!this.active)return _t(new ge.TransactionInactive);if(this._locked())return new ae((o,a)=>{this._blockedFuncs.push([()=>{this._promise(t,r,n).then(o,a)},ve])});if(n)return Di(()=>{var o=new ae((a,s)=>{this._lock();const u=r(a,s,this);u&&u.then&&u.then(a,s)});return o.finally(()=>this._unlock()),o._lib=!0,o});var i=new ae((o,a)=>{var s=r(o,a,this);s&&s.then&&s.then(o,a)});return i._lib=!0,i}_root(){return this.parent?this.parent._root():this}waitFor(t){var r=this._root();const n=ae.resolve(t);if(r._waitingFor)r._waitingFor=r._waitingFor.then(()=>n);else{r._waitingFor=n,r._waitingQueue=[];var i=r.idbtrans.objectStore(r.storeNames[0]);(function a(){for(++r._spinCount;r._waitingQueue.length;)r._waitingQueue.shift()();r._waitingFor&&(i.get(-1/0).onsuccess=a)})()}var o=r._waitingFor;return new ae((a,s)=>{n.then(u=>r._waitingQueue.push(Je(a.bind(null,u))),u=>r._waitingQueue.push(Je(s.bind(null,u)))).finally(()=>{r._waitingFor===o&&(r._waitingFor=null)})})}abort(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new ge.Abort))}table(t){const r=this._memoizedTables||(this._memoizedTables={});if(Ar(r,t))return r[t];const n=this.schema[t];if(!n)throw new ge.NotFound("Table "+t+" not part of transaction");const i=new this.db.Table(t,n,this);return i.core=this.db.core.table(t),r[t]=i,i}}function kg(e,t,r,n,i,o,a){return{name:e,keyPath:t,unique:r,multi:n,auto:i,compound:o,src:(r&&!a?"&":"")+(n?"*":"")+(i?"++":"")+kj(t)}}function kj(e){return typeof e=="string"?e:e?"["+[].join.call(e,"+")+"]":""}function Cj(e,t,r){return{name:e,primKey:t,indexes:r,mappedClass:null,idxByName:uj(r,n=>[n.name,n])}}let ml=e=>{try{return e.only([[]]),ml=()=>[[]],[[]]}catch{return ml=()=>_o,_o}};function Cg(e){return e==null?()=>{}:typeof e=="string"?function(t){return t.split(".").length===1?r=>r[t]:r=>Fn(r,t)}(e):t=>Fn(t,e)}function lS(e){return[].slice.call(e)}let pK=0;function Lu(e){return e==null?":id":typeof e=="string"?e:`[${e.join("+")}]`}function mK(e,t,r){function n(u){if(u.type===3)return null;if(u.type===4)throw new Error("Cannot convert never type to IDBKeyRange");const{lower:l,upper:c,lowerOpen:d,upperOpen:f}=u;return l===void 0?c===void 0?null:t.upperBound(c,!!f):c===void 0?t.lowerBound(l,!!d):t.bound(l,c,!!d,!!f)}const{schema:i,hasGetAll:o}=function(u,l){const c=lS(u.objectStoreNames);return{schema:{name:u.name,tables:c.map(d=>l.objectStore(d)).map(d=>{const{keyPath:f,autoIncrement:h}=d,b=Ft(f),_=f==null,j={},g={name:d.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:_,compound:b,keyPath:f,autoIncrement:h,unique:!0,extractKey:Cg(f)},indexes:lS(d.indexNames).map(p=>d.index(p)).map(p=>{const{name:O,unique:x,multiEntry:P,keyPath:C}=p,A={name:O,compound:Ft(C),keyPath:C,unique:x,multiEntry:P,extractKey:Cg(C)};return j[Lu(C)]=A,A}),getIndexByKeyPath:p=>j[Lu(p)]};return j[":id"]=g.primaryKey,f!=null&&(j[Lu(f)]=g.primaryKey),g})},hasGetAll:c.length>0&&"getAll"in l.objectStore(c[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}}(e,r),a=i.tables.map(u=>function(l){const c=l.name;return{name:c,schema:l,mutate:function({trans:d,type:f,keys:h,values:b,range:_}){return new Promise((j,g)=>{j=Je(j);const p=d.objectStore(c),O=p.keyPath==null,x=f==="put"||f==="add";if(!x&&f!=="delete"&&f!=="deleteRange")throw new Error("Invalid operation type: "+f);const{length:P}=h||b||{length:1};if(h&&b&&h.length!==b.length)throw new Error("Given keys array must have same length as given values array.");if(P===0)return j({numFailures:0,failures:{},results:[],lastResult:void 0});let C;const A=[],D=[];let B=0;const V=fe=>{++B,pl(fe)};if(f==="deleteRange"){if(_.type===4)return j({numFailures:B,failures:D,results:[],lastResult:void 0});_.type===3?A.push(C=p.clear()):A.push(C=p.delete(n(_)))}else{const[fe,he]=x?O?[b,h]:[b,null]:[h,null];if(x)for(let pe=0;pe<P;++pe)A.push(C=he&&he[pe]!==void 0?p[f](fe[pe],he[pe]):p[f](fe[pe])),C.onerror=V;else for(let pe=0;pe<P;++pe)A.push(C=p[f](fe[pe])),C.onerror=V}const X=fe=>{const he=fe.target.result;A.forEach((pe,$)=>pe.error!=null&&(D[$]=pe.error)),j({numFailures:B,failures:D,results:f==="delete"?h:A.map(pe=>pe.result),lastResult:he})};C.onerror=fe=>{V(fe),X(fe)},C.onsuccess=X})},getMany:({trans:d,keys:f})=>new Promise((h,b)=>{h=Je(h);const _=d.objectStore(c),j=f.length,g=new Array(j);let p,O=0,x=0;const P=A=>{const D=A.target;g[D._pos]=D.result,++x===O&&h(g)},C=fn(b);for(let A=0;A<j;++A)f[A]!=null&&(p=_.get(f[A]),p._pos=A,p.onsuccess=P,p.onerror=C,++O);O===0&&h(g)}),get:({trans:d,key:f})=>new Promise((h,b)=>{h=Je(h);const _=d.objectStore(c).get(f);_.onsuccess=j=>h(j.target.result),_.onerror=fn(b)}),query:function(d){return f=>new Promise((h,b)=>{h=Je(h);const{trans:_,values:j,limit:g,query:p}=f,O=g===1/0?void 0:g,{index:x,range:P}=p,C=_.objectStore(c),A=x.isPrimaryKey?C:C.index(x.name),D=n(P);if(g===0)return h({result:[]});if(d){const B=j?A.getAll(D,O):A.getAllKeys(D,O);B.onsuccess=V=>h({result:V.target.result}),B.onerror=fn(b)}else{let B=0;const V=j||!("openKeyCursor"in A)?A.openCursor(D):A.openKeyCursor(D),X=[];V.onsuccess=fe=>{const he=V.result;return he?(X.push(j?he.value:he.primaryKey),++B===g?h({result:X}):void he.continue()):h({result:X})},V.onerror=fn(b)}})}(o),openCursor:function({trans:d,values:f,query:h,reverse:b,unique:_}){return new Promise((j,g)=>{j=Je(j);const{index:p,range:O}=h,x=d.objectStore(c),P=p.isPrimaryKey?x:x.index(p.name),C=b?_?"prevunique":"prev":_?"nextunique":"next",A=f||!("openKeyCursor"in P)?P.openCursor(n(O),C):P.openKeyCursor(n(O),C);A.onerror=fn(g),A.onsuccess=Je(D=>{const B=A.result;if(!B)return void j(null);B.___id=++pK,B.done=!1;const V=B.continue.bind(B);let X=B.continuePrimaryKey;X&&(X=X.bind(B));const fe=B.advance.bind(B),he=()=>{throw new Error("Cursor not stopped")};B.trans=d,B.stop=B.continue=B.continuePrimaryKey=B.advance=()=>{throw new Error("Cursor not started")},B.fail=Je(g),B.next=function(){let pe=1;return this.start(()=>pe--?this.continue():this.stop()).then(()=>this)},B.start=pe=>{const $=new Promise((k,R)=>{k=Je(k),A.onerror=fn(R),B.fail=R,B.stop=L=>{B.stop=B.continue=B.continuePrimaryKey=B.advance=he,k(L)}}),y=()=>{if(A.result)try{pe()}catch(k){B.fail(k)}else B.done=!0,B.start=()=>{throw new Error("Cursor behind last entry")},B.stop()};return A.onsuccess=Je(k=>{A.onsuccess=y,y()}),B.continue=V,B.continuePrimaryKey=X,B.advance=fe,y(),$},j(B)},g)})},count({query:d,trans:f}){const{index:h,range:b}=d;return new Promise((_,j)=>{const g=f.objectStore(c),p=h.isPrimaryKey?g:g.index(h.name),O=n(b),x=O?p.count(O):p.count();x.onsuccess=Je(P=>_(P.target.result)),x.onerror=fn(j)})}}}(u)),s={};return a.forEach(u=>s[u.name]=u),{stack:"dbcore",transaction:e.transaction.bind(e),table(u){if(!s[u])throw new Error(`Table '${u}' not found`);return s[u]},MIN_KEY:-1/0,MAX_KEY:ml(t),schema:i}}function $g({_novip:e},t){const r=t.db,n=function(i,o,{IDBKeyRange:a,indexedDB:s},u){return{dbcore:function(c,d){return d.reduce((f,{create:h})=>({...f,...h(f)}),c)}(mK(o,a,u),i.dbcore)}}(e._middlewares,r,e._deps,t);e.core=n.dbcore,e.tables.forEach(i=>{const o=i.name;e.core.schema.tables.some(a=>a.name===o)&&(i.core=e.core.table(o),e[o]instanceof e.Table&&(e[o].core=i.core))})}function Md({_novip:e},t,r,n){r.forEach(i=>{const o=n[i];t.forEach(a=>{const s=pb(a,i);(!s||"value"in s&&s.value===void 0)&&(a===e.Transaction.prototype||a instanceof e.Transaction?Ln(a,i,{get(){return this.table(i)},set(u){oj(this,i,{value:u,writable:!0,configurable:!0,enumerable:!0})}}):a[i]=new e.Table(i,o))})})}function Ag({_novip:e},t){t.forEach(r=>{for(let n in r)r[n]instanceof e.Table&&delete r[n]})}function yK(e,t){return e._cfg.version-t._cfg.version}function gK(e,t,r,n){const i=e._dbSchema,o=e._createTransaction("readwrite",e._storeNames,i);o.create(r),o._completion.catch(n);const a=o._reject.bind(o),s=ve.transless||ve;Di(()=>{ve.trans=o,ve.transless=s,t===0?(vt(i).forEach(u=>{Qm(r,u,i[u].primKey,i[u].indexes)}),$g(e,r),ae.follow(()=>e.on.populate.fire(o)).catch(a)):function({_novip:u},l,c,d){const f=[],h=u._versions;let b=u._dbSchema=Tg(u,u.idbdb,d),_=!1;function j(){return f.length?ae.resolve(f.shift()(c.idbtrans)).then(j):ae.resolve()}return h.filter(g=>g._cfg.version>=l).forEach(g=>{f.push(()=>{const p=b,O=g._cfg.dbschema;Mg(u,p,d),Mg(u,O,d),b=u._dbSchema=O;const x=$j(p,O);x.add.forEach(C=>{Qm(d,C[0],C[1].primKey,C[1].indexes)}),x.change.forEach(C=>{if(C.recreate)throw new ge.Upgrade("Not yet support for changing primary key");{const A=d.objectStore(C.name);C.add.forEach(D=>Rg(A,D)),C.change.forEach(D=>{A.deleteIndex(D.name),Rg(A,D)}),C.del.forEach(D=>A.deleteIndex(D))}});const P=g._cfg.contentUpgrade;if(P&&g._cfg.version>l){$g(u,d),c._memoizedTables={},_=!0;let C=lj(O);x.del.forEach(V=>{C[V]=p[V]}),Ag(u,[u.Transaction.prototype]),Md(u,[u.Transaction.prototype],vt(C),C),c.schema=C;const A=mb(P);let D;A&&Us();const B=ae.follow(()=>{if(D=P(c),D&&A){var V=Qn.bind(null,null);D.then(V,V)}});return D&&typeof D.then=="function"?ae.resolve(D):B.then(()=>D)}}),f.push(p=>{(!_||!aK)&&function(O,x){[].slice.call(x.db.objectStoreNames).forEach(P=>O[P]==null&&x.db.deleteObjectStore(P))}(g._cfg.dbschema,p),Ag(u,[u.Transaction.prototype]),Md(u,[u.Transaction.prototype],u._storeNames,u._dbSchema),c.schema=u._dbSchema})}),j().then(()=>{var g,p;p=d,vt(g=b).forEach(O=>{p.db.objectStoreNames.contains(O)||Qm(p,O,g[O].primKey,g[O].indexes)})})}(e,t,o,r).catch(a)})}function $j(e,t){const r={del:[],add:[],change:[]};let n;for(n in e)t[n]||r.del.push(n);for(n in t){const i=e[n],o=t[n];if(i){const a={name:n,def:o,recreate:!1,del:[],add:[],change:[]};if(""+(i.primKey.keyPath||"")!=""+(o.primKey.keyPath||"")||i.primKey.auto!==o.primKey.auto&&!yp)a.recreate=!0,r.change.push(a);else{const s=i.idxByName,u=o.idxByName;let l;for(l in s)u[l]||a.del.push(l);for(l in u){const c=s[l],d=u[l];c?c.src!==d.src&&a.change.push(d):a.add.push(d)}(a.del.length>0||a.add.length>0||a.change.length>0)&&r.change.push(a)}}else r.add.push([n,o])}return r}function Qm(e,t,r,n){const i=e.db.createObjectStore(t,r.keyPath?{keyPath:r.keyPath,autoIncrement:r.auto}:{autoIncrement:r.auto});return n.forEach(o=>Rg(i,o)),i}function Rg(e,t){e.createIndex(t.name,t.keyPath,{unique:t.unique,multiEntry:t.multi})}function Tg(e,t,r){const n={};return kd(t.objectStoreNames,0).forEach(i=>{const o=r.objectStore(i);let a=o.keyPath;const s=kg(kj(a),a||"",!1,!1,!!o.autoIncrement,a&&typeof a!="string",!0),u=[];for(let c=0;c<o.indexNames.length;++c){const d=o.index(o.indexNames[c]);a=d.keyPath;var l=kg(d.name,a,!!d.unique,!!d.multiEntry,!1,a&&typeof a!="string",!1);u.push(l)}n[i]=Cj(i,s,u)}),n}function Mg({_novip:e},t,r){const n=r.db.objectStoreNames;for(let i=0;i<n.length;++i){const o=n[i],a=r.objectStore(o);e._hasGetAll="getAll"in a;for(let s=0;s<a.indexNames.length;++s){const u=a.indexNames[s],l=a.index(u).keyPath,c=typeof l=="string"?l:"["+kd(l).join("+")+"]";if(t[o]){const d=t[o].idxByName[c];d&&(d.name=u,delete t[o].idxByName[c],t[o].idxByName[u]=d)}}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&He.WorkerGlobalScope&&He instanceof He.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(e._hasGetAll=!1)}class bK{_parseStoresSpec(t,r){vt(t).forEach(n=>{if(t[n]!==null){var i=t[n].split(",").map((a,s)=>{const u=(a=a.trim()).replace(/([&*]|\+\+)/g,""),l=/^\[/.test(u)?u.match(/^\[(.*)\]$/)[1].split("+"):u;return kg(u,l||null,/\&/.test(a),/\*/.test(a),/\+\+/.test(a),Ft(l),s===0)}),o=i.shift();if(o.multi)throw new ge.Schema("Primary key cannot be multi-valued");i.forEach(a=>{if(a.auto)throw new ge.Schema("Only primary key can be marked as autoIncrement (++)");if(!a.keyPath)throw new ge.Schema("Index must have a name and cannot be an empty string")}),r[n]=Cj(n,o,i)}})}stores(t){const r=this.db;this._cfg.storesSource=this._cfg.storesSource?Yt(this._cfg.storesSource,t):t;const n=r._versions,i={};let o={};return n.forEach(a=>{Yt(i,a._cfg.storesSource),o=a._cfg.dbschema={},a._parseStoresSpec(i,o)}),r._dbSchema=o,Ag(r,[r._allTables,r,r.Transaction.prototype]),Md(r,[r._allTables,r,r.Transaction.prototype,this._cfg.tables],vt(o),o),r._storeNames=vt(o),this}upgrade(t){return this._cfg.contentUpgrade=bb(this._cfg.contentUpgrade||Ue,t),this}}function Ob(e,t){let r=e._dbNamesDB;return r||(r=e._dbNamesDB=new Co("__dbnames",{addons:[],indexedDB:e,IDBKeyRange:t}),r.version(1).stores({dbnames:"name"})),r.table("dbnames")}function Eb(e){return e&&typeof e.databases=="function"}function Ig(e){return Di(function(){return ve.letThrough=!0,e()})}function _K(){var e;return!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(t){var r=function(){return indexedDB.databases().finally(t)};e=setInterval(r,100),r()}).finally(function(){return clearInterval(e)}):Promise.resolve()}function wK(e){const t=e._state,{indexedDB:r}=e._deps;if(t.isBeingOpened||e.idbdb)return t.dbReadyPromise.then(()=>t.dbOpenError?_t(t.dbOpenError):e);Pn&&(t.openCanceller._stackHolder=ca()),t.isBeingOpened=!0,t.dbOpenError=null,t.openComplete=!1;const n=t.openCanceller;function i(){if(t.openCanceller!==n)throw new ge.DatabaseClosed("db.open() was cancelled")}let o=t.dbReadyResolve,a=null,s=!1;return ae.race([n,(typeof navigator>"u"?ae.resolve():_K()).then(()=>new ae((u,l)=>{if(i(),!r)throw new ge.MissingAPI;const c=e.name,d=t.autoSchema?r.open(c):r.open(c,Math.round(10*e.verno));if(!d)throw new ge.MissingAPI;d.onerror=fn(l),d.onblocked=Je(e._fireOnBlocked),d.onupgradeneeded=Je(f=>{if(a=d.transaction,t.autoSchema&&!e._options.allowEmptyDB){d.onerror=pl,a.abort(),d.result.close();const b=r.deleteDatabase(c);b.onsuccess=b.onerror=Je(()=>{l(new ge.NoSuchDatabase(`Database ${c} doesnt exist`))})}else{a.onerror=fn(l);var h=f.oldVersion>Math.pow(2,62)?0:f.oldVersion;s=h<1,e._novip.idbdb=d.result,gK(e,h/10,a,l)}},l),d.onsuccess=Je(()=>{a=null;const f=e._novip.idbdb=d.result,h=kd(f.objectStoreNames);if(h.length>0)try{const _=f.transaction((b=h).length===1?b[0]:b,"readonly");t.autoSchema?function({_novip:j},g,p){j.verno=g.version/10;const O=j._dbSchema=Tg(0,g,p);j._storeNames=kd(g.objectStoreNames,0),Md(j,[j._allTables],vt(O),O)}(e,f,_):(Mg(e,e._dbSchema,_),function(j,g){const p=$j(Tg(0,j.idbdb,g),j._dbSchema);return!(p.add.length||p.change.some(O=>O.add.length||O.change.length))}(e,_)||console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Some queries may fail.")),$g(e,_)}catch{}var b;Nu.push(e),f.onversionchange=Je(_=>{t.vcFired=!0,e.on("versionchange").fire(_)}),f.onclose=Je(_=>{e.on("close").fire(_)}),s&&function({indexedDB:_,IDBKeyRange:j},g){!Eb(_)&&g!=="__dbnames"&&Ob(_,j).put({name:g}).catch(Ue)}(e._deps,c),u()},l)}))]).then(()=>(i(),t.onReadyBeingFired=[],ae.resolve(Ig(()=>e.on.ready.fire(e.vip))).then(function u(){if(t.onReadyBeingFired.length>0){let l=t.onReadyBeingFired.reduce(bb,Ue);return t.onReadyBeingFired=[],ae.resolve(Ig(()=>l(e.vip))).then(u)}}))).finally(()=>{t.onReadyBeingFired=null,t.isBeingOpened=!1}).then(()=>e).catch(u=>{t.dbOpenError=u;try{a&&a.abort()}catch{}return n===t.openCanceller&&e._close(),_t(u)}).finally(()=>{t.openComplete=!0,o()})}function Ng(e){var t=o=>e.next(o),r=i(t),n=i(o=>e.throw(o));function i(o){return a=>{var s=o(a),u=s.value;return s.done?u:u&&typeof u.then=="function"?u.then(r,n):Ft(u)?Promise.all(u).then(r,n):r(u)}}return i(t)()}function SK(e,t,r){var n=arguments.length;if(n<2)throw new ge.InvalidArgument("Too few arguments");for(var i=new Array(n-1);--n;)i[n-1]=arguments[n];r=i.pop();var o=cj(i);return[e,o,r]}function Aj(e,t,r,n,i){return ae.resolve().then(()=>{const o=ve.transless||ve,a=e._createTransaction(t,r,e._dbSchema,n),s={trans:a,transless:o};if(n)a.idbtrans=n.idbtrans;else try{a.create(),e._state.PR1398_maxLoop=3}catch(d){return d.name===gb.InvalidState&&e.isOpen()&&--e._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),e._close(),e.open().then(()=>Aj(e,t,r,null,i))):_t(d)}const u=mb(i);let l;u&&Us();const c=ae.follow(()=>{if(l=i.call(a,a),l)if(u){var d=Qn.bind(null,null);l.then(d,d)}else typeof l.next=="function"&&typeof l.throw=="function"&&(l=Ng(l))},s);return(l&&typeof l.then=="function"?ae.resolve(l).then(d=>a.active?d:_t(new ge.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))):c.then(()=>l)).then(d=>(n&&a._resolve(),a._completion.then(()=>d))).catch(d=>(a._reject(d),_t(d)))})}function vf(e,t,r){const n=Ft(e)?e.slice():[e];for(let i=0;i<r;++i)n.push(t);return n}const OK={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(e){return{...e,table(t){const r=e.table(t),{schema:n}=r,i={},o=[];function a(c,d,f){const h=Lu(c),b=i[h]=i[h]||[],_=c==null?0:typeof c=="string"?1:c.length,j=d>0,g={...f,isVirtual:j,keyTail:d,keyLength:_,extractKey:Cg(c),unique:!j&&f.unique};return b.push(g),g.isPrimaryKey||o.push(g),_>1&&a(_===2?c[0]:c.slice(0,_-1),d+1,f),b.sort((p,O)=>p.keyTail-O.keyTail),g}const s=a(n.primaryKey.keyPath,0,n.primaryKey);i[":id"]=[s];for(const c of n.indexes)a(c.keyPath,0,c);function u(c){const d=c.query.index;return d.isVirtual?{...c,query:{index:d,range:(f=c.query.range,h=d.keyTail,{type:f.type===1?2:f.type,lower:vf(f.lower,f.lowerOpen?e.MAX_KEY:e.MIN_KEY,h),lowerOpen:!0,upper:vf(f.upper,f.upperOpen?e.MIN_KEY:e.MAX_KEY,h),upperOpen:!0})}}:c;var f,h}return{...r,schema:{...n,primaryKey:s,indexes:o,getIndexByKeyPath:function(c){const d=i[Lu(c)];return d&&d[0]}},count:c=>r.count(u(c)),query:c=>r.query(u(c)),openCursor(c){const{keyTail:d,isVirtual:f,keyLength:h}=c.query.index;return f?r.openCursor(u(c)).then(b=>b&&function(_){return Object.create(_,{continue:{value:function(g){g!=null?_.continue(vf(g,c.reverse?e.MAX_KEY:e.MIN_KEY,d)):c.unique?_.continue(_.key.slice(0,h).concat(c.reverse?e.MIN_KEY:e.MAX_KEY,d)):_.continue()}},continuePrimaryKey:{value(g,p){_.continuePrimaryKey(vf(g,e.MAX_KEY,d),p)}},primaryKey:{get:()=>_.primaryKey},key:{get(){const g=_.key;return h===1?g[0]:g.slice(0,h)}},value:{get:()=>_.value}})}(b)):r.openCursor(c)}}}}}};function Pb(e,t,r,n){return r=r||{},n=n||"",vt(e).forEach(i=>{if(Ar(t,i)){var o=e[i],a=t[i];if(typeof o=="object"&&typeof a=="object"&&o&&a){const s=mg(o);s!==mg(a)?r[n+i]=t[i]:s==="Object"?Pb(o,a,r,n+i+"."):o!==a&&(r[n+i]=t[i])}else o!==a&&(r[n+i]=t[i])}else r[n+i]=void 0}),vt(t).forEach(i=>{Ar(e,i)||(r[n+i]=t[i])}),r}const EK={stack:"dbcore",name:"HooksMiddleware",level:2,create:e=>({...e,table(t){const r=e.table(t),{primaryKey:n}=r.schema;return{...r,mutate(o){const a=ve.trans,{deleting:s,creating:u,updating:l}=a.table(t).hook;switch(o.type){case"add":if(u.fire===Ue)break;return a._promise("readwrite",()=>c(o),!0);case"put":if(u.fire===Ue&&l.fire===Ue)break;return a._promise("readwrite",()=>c(o),!0);case"delete":if(s.fire===Ue)break;return a._promise("readwrite",()=>c(o),!0);case"deleteRange":if(s.fire===Ue)break;return a._promise("readwrite",()=>function(f){return d(f.trans,f.range,1e4)}(o),!0)}return r.mutate(o);function c(f){const h=ve.trans,b=f.keys||function(_,j){return j.type==="delete"?j.keys:j.keys||j.values.map(_.extractKey)}(n,f);if(!b)throw new Error("Keys missing");return(f=f.type==="add"||f.type==="put"?{...f,keys:b}:{...f}).type!=="delete"&&(f.values=[...f.values]),f.keys&&(f.keys=[...f.keys]),function(_,j,g){return j.type==="add"?Promise.resolve([]):_.getMany({trans:j.trans,keys:g,cache:"immutable"})}(r,f,b).then(_=>{const j=b.map((g,p)=>{const O=_[p],x={onerror:null,onsuccess:null};if(f.type==="delete")s.fire.call(x,g,O,h);else if(f.type==="add"||O===void 0){const P=u.fire.call(x,g,f.values[p],h);g==null&&P!=null&&(g=P,f.keys[p]=g,n.outbound||qr(f.values[p],n.keyPath,g))}else{const P=Pb(O,f.values[p]),C=l.fire.call(x,P,g,O,h);if(C){const A=f.values[p];Object.keys(C).forEach(D=>{Ar(A,D)?A[D]=C[D]:qr(A,D,C[D])})}}return x});return r.mutate(f).then(({failures:g,results:p,numFailures:O,lastResult:x})=>{for(let P=0;P<b.length;++P){const C=p?p[P]:b[P],A=j[P];C==null?A.onerror&&A.onerror(g[P]):A.onsuccess&&A.onsuccess(f.type==="put"&&_[P]?f.values[P]:C)}return{failures:g,results:p,numFailures:O,lastResult:x}}).catch(g=>(j.forEach(p=>p.onerror&&p.onerror(g)),Promise.reject(g)))})}function d(f,h,b){return r.query({trans:f,values:!1,query:{index:n,range:h},limit:b}).then(({result:_})=>c({type:"delete",keys:_,trans:f}).then(j=>j.numFailures>0?Promise.reject(j.failures[0]):_.length<b?{failures:[],numFailures:0,lastResult:void 0}:d(f,{...h,lower:_[_.length-1],lowerOpen:!0},b)))}}}}})};function Rj(e,t,r){try{if(!t||t.keys.length<e.length)return null;const n=[];for(let i=0,o=0;i<t.keys.length&&o<e.length;++i)Ht(t.keys[i],e[o])===0&&(n.push(r?vc(t.values[i]):t.values[i]),++o);return n.length===e.length?n:null}catch{return null}}const PK={stack:"dbcore",level:-1,create:e=>({table:t=>{const r=e.table(t);return{...r,getMany:n=>{if(!n.cache)return r.getMany(n);const i=Rj(n.keys,n.trans._cache,n.cache==="clone");return i?ae.resolve(i):r.getMany(n).then(o=>(n.trans._cache={keys:n.keys,values:n.cache==="clone"?vc(o):o},o))},mutate:n=>(n.type!=="add"&&(n.trans._cache=null),r.mutate(n))}}})};function xb(e){return!("from"in e)}const An=function(e,t){if(!this){const r=new An;return e&&"d"in e&&Yt(r,e),r}Yt(this,arguments.length?{d:1,from:e,to:arguments.length>1?t:e}:{d:0})};function yl(e,t,r){const n=Ht(t,r);if(isNaN(n))return;if(n>0)throw RangeError();if(xb(e))return Yt(e,{from:t,to:r,d:1});const i=e.l,o=e.r;if(Ht(r,e.from)<0)return i?yl(i,t,r):e.l={from:t,to:r,d:1,l:null,r:null},cS(e);if(Ht(t,e.to)>0)return o?yl(o,t,r):e.r={from:t,to:r,d:1,l:null,r:null},cS(e);Ht(t,e.from)<0&&(e.from=t,e.l=null,e.d=o?o.d+1:1),Ht(r,e.to)>0&&(e.to=r,e.r=null,e.d=e.l?e.l.d+1:1);const a=!e.r;i&&!e.l&&Id(e,i),o&&a&&Id(e,o)}function Id(e,t){xb(t)||function r(n,{from:i,to:o,l:a,r:s}){yl(n,i,o),a&&r(n,a),s&&r(n,s)}(e,t)}function xK(e,t){const r=Dg(t);let n=r.next();if(n.done)return!1;let i=n.value;const o=Dg(e);let a=o.next(i.from),s=a.value;for(;!n.done&&!a.done;){if(Ht(s.from,i.to)<=0&&Ht(s.to,i.from)>=0)return!0;Ht(i.from,s.from)<0?i=(n=r.next(s.from)).value:s=(a=o.next(i.from)).value}return!1}function Dg(e){let t=xb(e)?null:{s:0,n:e};return{next(r){const n=arguments.length>0;for(;t;)switch(t.s){case 0:if(t.s=1,n)for(;t.n.l&&Ht(r,t.n.from)<0;)t={up:t,n:t.n.l,s:1};else for(;t.n.l;)t={up:t,n:t.n.l,s:1};case 1:if(t.s=2,!n||Ht(r,t.n.to)<=0)return{value:t.n,done:!1};case 2:if(t.n.r){t.s=3,t={up:t,n:t.n.r,s:0};continue}case 3:t=t.up}return{done:!0}}}}function cS(e){var t,r;const n=(((t=e.r)===null||t===void 0?void 0:t.d)||0)-(((r=e.l)===null||r===void 0?void 0:r.d)||0),i=n>1?"r":n<-1?"l":"";if(i){const o=i==="r"?"l":"r",a={...e},s=e[i];e.from=s.from,e.to=s.to,e[i]=s[i],a[i]=s[o],e[o]=a,a.d=fS(a)}e.d=fS(e)}function fS({r:e,l:t}){return(e?t?Math.max(e.d,t.d):e.d:t?t.d:0)+1}Ss(An.prototype,{add(e){return Id(this,e),this},addKey(e){return yl(this,e,e),this},addKeys(e){return e.forEach(t=>yl(this,t,t)),this},[yg](){return Dg(this)}});const jK={stack:"dbcore",level:0,create:e=>{const t=e.schema.name,r=new An(e.MIN_KEY,e.MAX_KEY);return{...e,table:n=>{const i=e.table(n),{schema:o}=i,{primaryKey:a}=o,{extractKey:s,outbound:u}=a,l={...i,mutate:f=>{const h=f.trans,b=h.mutatedParts||(h.mutatedParts={}),_=C=>{const A=`idb://${t}/${n}/${C}`;return b[A]||(b[A]=new An)},j=_(""),g=_(":dels"),{type:p}=f;let[O,x]=f.type==="deleteRange"?[f.range]:f.type==="delete"?[f.keys]:f.values.length<50?[[],f.values]:[];const P=f.trans._cache;return i.mutate(f).then(C=>{if(Ft(O)){p!=="delete"&&(O=C.results),j.addKeys(O);const A=Rj(O,P);A||p==="add"||g.addKeys(O),(A||x)&&function(D,B,V,X){function fe(he){const pe=D(he.name||"");function $(k){return k!=null?he.extractKey(k):null}const y=k=>he.multiEntry&&Ft(k)?k.forEach(R=>pe.addKey(R)):pe.addKey(k);(V||X).forEach((k,R)=>{const L=V&&$(V[R]),F=X&&$(X[R]);Ht(L,F)!==0&&(L!=null&&y(L),F!=null&&y(F))})}B.indexes.forEach(fe)}(_,o,A,x)}else if(O){const A={from:O.lower,to:O.upper};g.add(A),j.add(A)}else j.add(r),g.add(r),o.indexes.forEach(A=>_(A.name).add(r));return C})}},c=({query:{index:f,range:h}})=>{var b,_;return[f,new An((b=h.lower)!==null&&b!==void 0?b:e.MIN_KEY,(_=h.upper)!==null&&_!==void 0?_:e.MAX_KEY)]},d={get:f=>[a,new An(f.key)],getMany:f=>[a,new An().addKeys(f.keys)],count:c,query:c,openCursor:c};return vt(d).forEach(f=>{l[f]=function(h){const{subscr:b}=ve;if(b){const _=x=>{const P=`idb://${t}/${n}/${x}`;return b[P]||(b[P]=new An)},j=_(""),g=_(":dels"),[p,O]=d[f](h);if(_(p.name||"").add(O),!p.isPrimaryKey){if(f!=="count"){const x=f==="query"&&u&&h.values&&i.query({...h,values:!1});return i[f].apply(this,arguments).then(P=>{if(f==="query"){if(u&&h.values)return x.then(({result:A})=>(j.addKeys(A),P));const C=h.values?P.result.map(s):P.result;h.values?j.addKeys(C):g.addKeys(C)}else if(f==="openCursor"){const C=P,A=h.values;return C&&Object.create(C,{key:{get:()=>(g.addKey(C.primaryKey),C.key)},primaryKey:{get(){const D=C.primaryKey;return g.addKey(D),D}},value:{get:()=>(A&&j.addKey(C.primaryKey),C.value)}})}return P})}g.add(r)}}return i[f].apply(this,arguments)}}),l}}}};class Co{constructor(t,r){this._middlewares={},this.verno=0;const n=Co.dependencies;this._options=r={addons:Co.addons,autoOpen:!0,indexedDB:n.indexedDB,IDBKeyRange:n.IDBKeyRange,...r},this._deps={indexedDB:r.indexedDB,IDBKeyRange:r.IDBKeyRange};const{addons:i}=r;this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;const o={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:Ue,dbReadyPromise:null,cancelOpen:Ue,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3};var a;o.dbReadyPromise=new ae(s=>{o.dbReadyResolve=s}),o.openCanceller=new ae((s,u)=>{o.cancelOpen=u}),this._state=o,this.name=t,this.on=Du(this,"populate","blocked","versionchange","close",{ready:[bb,Ue]}),this.on.ready.subscribe=aj(this.on.ready.subscribe,s=>(u,l)=>{Co.vip(()=>{const c=this._state;if(c.openComplete)c.dbOpenError||ae.resolve().then(u),l&&s(u);else if(c.onReadyBeingFired)c.onReadyBeingFired.push(u),l&&s(u);else{s(u);const d=this;l||s(function f(){d.on.ready.unsubscribe(u),d.on.ready.unsubscribe(f)})}})}),this.Collection=(a=this,vu(cK.prototype,function(s,u){this.db=a;let l=Pj,c=null;if(u)try{l=u()}catch(b){c=b}const d=s._ctx,f=d.table,h=f.hook.reading.fire;this._ctx={table:f,index:d.index,isPrimKey:!d.index||f.schema.primKey.keyPath&&d.index===f.schema.primKey.name,range:l,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:c,or:d.or,valueMapper:h!==hl?h:null}})),this.Table=function(s){return vu(lK.prototype,function(u,l,c){this.db=s,this._tx=c,this.name=u,this.schema=l,this.hook=s._allTables[u]?s._allTables[u].hook:Du(null,{creating:[G7,Ue],reading:[Y7,hl],updating:[J7,Ue],deleting:[X7,Ue]})})}(this),this.Transaction=function(s){return vu(vK.prototype,function(u,l,c,d,f){this.db=s,this.mode=u,this.storeNames=l,this.schema=c,this.chromeTransactionDurability=d,this.idbtrans=null,this.on=Du(this,"complete","error","abort"),this.parent=f||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new ae((h,b)=>{this._resolve=h,this._reject=b}),this._completion.then(()=>{this.active=!1,this.on.complete.fire()},h=>{var b=this.active;return this.active=!1,this.on.error.fire(h),this.parent?this.parent._reject(h):b&&this.idbtrans&&this.idbtrans.abort(),_t(h)})})}(this),this.Version=function(s){return vu(bK.prototype,function(u){this.db=s,this._cfg={version:u,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})}(this),this.WhereClause=function(s){return vu(jj.prototype,function(u,l,c){this.db=s,this._ctx={table:u,index:l===":id"?null:l,or:c};const d=s._deps.indexedDB;if(!d)throw new ge.MissingAPI;this._cmp=this._ascending=d.cmp.bind(d),this._descending=(f,h)=>d.cmp(h,f),this._max=(f,h)=>d.cmp(f,h)>0?f:h,this._min=(f,h)=>d.cmp(f,h)<0?f:h,this._IDBKeyRange=s._deps.IDBKeyRange})}(this),this.on("versionchange",s=>{s.newVersion>0?console.warn(`Another connection wants to upgrade database '${this.name}'. Closing db now to resume the upgrade.`):console.warn(`Another connection wants to delete database '${this.name}'. Closing db now to resume the delete request.`),this.close()}),this.on("blocked",s=>{!s.newVersion||s.newVersion<s.oldVersion?console.warn(`Dexie.delete('${this.name}') was blocked`):console.warn(`Upgrade '${this.name}' blocked by other connection holding version ${s.oldVersion/10}`)}),this._maxKey=ml(r.IDBKeyRange),this._createTransaction=(s,u,l,c)=>new this.Transaction(s,u,l,this._options.chromeTransactionDurability,c),this._fireOnBlocked=s=>{this.on("blocked").fire(s),Nu.filter(u=>u.name===this.name&&u!==this&&!u._state.vcFired).map(u=>u.on("versionchange").fire(s))},this.use(OK),this.use(EK),this.use(jK),this.use(PK),this.vip=Object.create(this,{_vip:{value:!0}}),i.forEach(s=>s(this))}version(t){if(isNaN(t)||t<.1)throw new ge.Type("Given version is not a positive number");if(t=Math.round(10*t)/10,this.idbdb||this._state.isBeingOpened)throw new ge.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,t);const r=this._versions;var n=r.filter(i=>i._cfg.version===t)[0];return n||(n=new this.Version(t),r.push(n),r.sort(yK),n.stores({}),this._state.autoSchema=!1,n)}_whenReady(t){return this.idbdb&&(this._state.openComplete||ve.letThrough||this._vip)?t():new ae((r,n)=>{if(this._state.openComplete)return n(new ge.DatabaseClosed(this._state.dbOpenError));if(!this._state.isBeingOpened){if(!this._options.autoOpen)return void n(new ge.DatabaseClosed);this.open().catch(Ue)}this._state.dbReadyPromise.then(r,n)}).then(t)}use({stack:t,create:r,level:n,name:i}){i&&this.unuse({stack:t,name:i});const o=this._middlewares[t]||(this._middlewares[t]=[]);return o.push({stack:t,create:r,level:n??10,name:i}),o.sort((a,s)=>a.level-s.level),this}unuse({stack:t,name:r,create:n}){return t&&this._middlewares[t]&&(this._middlewares[t]=this._middlewares[t].filter(i=>n?i.create!==n:!!r&&i.name!==r)),this}open(){return wK(this)}_close(){const t=this._state,r=Nu.indexOf(this);if(r>=0&&Nu.splice(r,1),this.idbdb){try{this.idbdb.close()}catch{}this._novip.idbdb=null}t.dbReadyPromise=new ae(n=>{t.dbReadyResolve=n}),t.openCanceller=new ae((n,i)=>{t.cancelOpen=i})}close(){this._close();const t=this._state;this._options.autoOpen=!1,t.dbOpenError=new ge.DatabaseClosed,t.isBeingOpened&&t.cancelOpen(t.dbOpenError)}delete(){const t=arguments.length>0,r=this._state;return new ae((n,i)=>{const o=()=>{this.close();var a=this._deps.indexedDB.deleteDatabase(this.name);a.onsuccess=Je(()=>{(function({indexedDB:s,IDBKeyRange:u},l){!Eb(s)&&l!=="__dbnames"&&Ob(s,u).delete(l).catch(Ue)})(this._deps,this.name),n()}),a.onerror=fn(i),a.onblocked=this._fireOnBlocked};if(t)throw new ge.InvalidArgument("Arguments not allowed in db.delete()");r.isBeingOpened?r.dbReadyPromise.then(o):o()})}backendDB(){return this.idbdb}isOpen(){return this.idbdb!==null}hasBeenClosed(){const t=this._state.dbOpenError;return t&&t.name==="DatabaseClosed"}hasFailed(){return this._state.dbOpenError!==null}dynamicallyOpened(){return this._state.autoSchema}get tables(){return vt(this._allTables).map(t=>this._allTables[t])}transaction(){const t=SK.apply(this,arguments);return this._transaction.apply(this,t)}_transaction(t,r,n){let i=ve.trans;i&&i.db===this&&t.indexOf("!")===-1||(i=null);const o=t.indexOf("?")!==-1;let a,s;t=t.replace("!","").replace("?","");try{if(s=r.map(l=>{var c=l instanceof this.Table?l.name:l;if(typeof c!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return c}),t=="r"||t==="readonly")a="readonly";else{if(t!="rw"&&t!="readwrite")throw new ge.InvalidArgument("Invalid transaction mode: "+t);a="readwrite"}if(i){if(i.mode==="readonly"&&a==="readwrite"){if(!o)throw new ge.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");i=null}i&&s.forEach(l=>{if(i&&i.storeNames.indexOf(l)===-1){if(!o)throw new ge.SubTransaction("Table "+l+" not included in parent transaction.");i=null}}),o&&i&&!i.active&&(i=null)}}catch(l){return i?i._promise(null,(c,d)=>{d(l)}):_t(l)}const u=Aj.bind(null,this,a,s,i,n);return i?i._promise(a,u,"lock"):ve.trans?Ws(ve.transless,()=>this._whenReady(u)):this._whenReady(u)}table(t){if(!Ar(this._allTables,t))throw new ge.InvalidTable(`Table ${t} does not exist`);return this._allTables[t]}}const kK=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable";class CK{constructor(t){this._subscribe=t}subscribe(t,r,n){return this._subscribe(t&&typeof t!="function"?t:{next:t,error:r,complete:n})}[kK](){return this}}function Tj(e,t){return vt(t).forEach(r=>{Id(e[r]||(e[r]=new An),t[r])}),e}function $K(e){return new CK(t=>{const r=mb(e);let n=!1,i={},o={};const a={get closed(){return n},unsubscribe:()=>{n=!0,Fi.storagemutated.unsubscribe(c)}};t.start&&t.start(a);let s=!1,u=!1;function l(){return vt(o).some(f=>i[f]&&xK(i[f],o[f]))}const c=f=>{Tj(i,f),l()&&d()},d=()=>{if(s||n)return;i={};const f={},h=function(b){r&&Us();const _=()=>Di(e,{subscr:b,trans:null}),j=ve.trans?Ws(ve.transless,_):_();return r&&j.then(Qn,Qn),j}(f);u||(Fi("storagemutated",c),u=!0),s=!0,Promise.resolve(h).then(b=>{s=!1,n||(l()?d():(i={},o=f,t.next&&t.next(b)))},b=>{["DatabaseClosedError","AbortError"].includes(b==null?void 0:b.name)||(s=!1,t.error&&t.error(b),a.unsubscribe())})};return d(),a})}let Lg;try{Lg={indexedDB:He.indexedDB||He.mozIndexedDB||He.webkitIndexedDB||He.msIndexedDB,IDBKeyRange:He.IDBKeyRange||He.webkitIDBKeyRange}}catch{Lg={indexedDB:null,IDBKeyRange:null}}const so=Co;function Wf(e){let t=In;try{In=!0,Fi.storagemutated.fire(e)}finally{In=t}}Ss(so,{...Nf,delete:e=>new so(e,{addons:[]}).delete(),exists:e=>new so(e,{addons:[]}).open().then(t=>(t.close(),!0)).catch("NoSuchDatabaseError",()=>!1),getDatabaseNames(e){try{return function({indexedDB:t,IDBKeyRange:r}){return Eb(t)?Promise.resolve(t.databases()).then(n=>n.map(i=>i.name).filter(i=>i!=="__dbnames")):Ob(t,r).toCollection().primaryKeys()}(so.dependencies).then(e)}catch{return _t(new ge.MissingAPI)}},defineClass:()=>function(e){Yt(this,e)},ignoreTransaction:e=>ve.trans?Ws(ve.transless,e):e(),vip:Ig,async:function(e){return function(){try{var t=Ng(e.apply(this,arguments));return t&&typeof t.then=="function"?t:ae.resolve(t)}catch(r){return _t(r)}}},spawn:function(e,t,r){try{var n=Ng(e.apply(r,t||[]));return n&&typeof n.then=="function"?n:ae.resolve(n)}catch(i){return _t(i)}},currentTransaction:{get:()=>ve.trans||null},waitFor:function(e,t){const r=ae.resolve(typeof e=="function"?so.ignoreTransaction(e):e).timeout(t||6e4);return ve.trans?ve.trans.waitFor(r):r},Promise:ae,debug:{get:()=>Pn,set:e=>{dj(e,e==="dexie"?()=>!0:Ej)}},derive:ts,extend:Yt,props:Ss,override:aj,Events:Du,on:Fi,liveQuery:$K,extendObservabilitySet:Tj,getByKeyPath:Fn,setByKeyPath:qr,delByKeyPath:function(e,t){typeof t=="string"?qr(e,t,void 0):"length"in t&&[].map.call(t,function(r){qr(e,r,void 0)})},shallowClone:lj,deepClone:vc,getObjectDiff:Pb,cmp:Ht,asap:sj,minKey:-1/0,addons:[],connections:Nu,errnames:gb,dependencies:Lg,semVer:"4.0.0-alpha.4",version:"4.0.0-alpha.4".split(".").map(e=>parseInt(e)).reduce((e,t,r)=>e+t/Math.pow(10,2*r))}),so.maxKey=ml(so.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(Fi("storagemutated",e=>{if(!In){let t;yp?(t=document.createEvent("CustomEvent"),t.initCustomEvent("x-storagemutated-1",!0,!0,e)):t=new CustomEvent("x-storagemutated-1",{detail:e}),In=!0,dispatchEvent(t),In=!1}}),addEventListener("x-storagemutated-1",({detail:e})=>{In||Wf(e)}));let In=!1;if(typeof BroadcastChannel<"u"){const e=new BroadcastChannel("x-storagemutated-1");typeof e.unref=="function"&&e.unref(),Fi("storagemutated",t=>{In||e.postMessage(t)}),e.onmessage=t=>{t.data&&Wf(t.data)}}else if(typeof self<"u"&&typeof navigator<"u"){Fi("storagemutated",t=>{try{In||(typeof localStorage<"u"&&localStorage.setItem("x-storagemutated-1",JSON.stringify({trig:Math.random(),changedParts:t})),typeof self.clients=="object"&&[...self.clients.matchAll({includeUncontrolled:!0})].forEach(r=>r.postMessage({type:"x-storagemutated-1",changedParts:t})))}catch{}}),typeof addEventListener<"u"&&addEventListener("storage",t=>{if(t.key==="x-storagemutated-1"){const r=JSON.parse(t.newValue);r&&Wf(r.changedParts)}});const e=self.document&&navigator.serviceWorker;e&&e.addEventListener("message",function({data:t}){t&&t.type==="x-storagemutated-1"&&Wf(t.changedParts)})}ae.rejectionMapper=function(e,t){if(!e||e instanceof rs||e instanceof TypeError||e instanceof SyntaxError||!e.name||!rS[e.name])return e;var r=new rS[e.name](t||e.message,e);return"stack"in e&&Ln(r,"stack",{get:function(){return this.inner.stack}}),r},dj(Pn,Ej);var Nd="docs",AK="changes",dS="attachments",Mj="dexie",hS=new Map,zf=new Map;function RK(e,t,r,n){var i="rxdb-dexie-"+e+"--"+n.version+"--"+t,o=gn(hS,i,()=>{var a=(async()=>{var s=et(r);s.autoOpen=!1;var u=new Co(i,s),l={[Nd]:IK(n),[AK]:"++sequence, id",[dS]:"id"};return u.version(1).stores(l),await u.open(),{dexieDb:u,dexieTable:u[Nd],dexieAttachmentsTable:u[dS],booleanIndexes:NK(n)}})();return hS.set(i,o),zf.set(o,0),a});return o}async function TK(e){var t=await e,r=zf.get(e),n=r-1;n===0?(t.dexieDb.close(),zf.delete(e)):zf.set(e,n)}var Fg="__";function yc(e){var t=e.split(".");if(t.length>1)return t.map(n=>yc(n)).join(".");if(e.startsWith("|")){var r=e.substring(1);return Fg+r}else return e}function Ij(e){var t=e.split(".");if(t.length>1)return t.map(n=>Ij(n)).join(".");if(e.startsWith(Fg)){var r=e.substring(Fg.length);return"|"+r}else return e}function MK(e,t){return t&&(t=et(t),t=Bg(t),e.forEach(r=>{var n=ms(t,r),i=n?"1":"0";CP(t,r,i)}),t)}function Nj(e,t){return t&&(t=et(t),t=Ug(t),e.forEach(r=>{var n=ms(t,r),i=n==="1";CP(t,r,i)}),t)}function Bg(e){if(!e||typeof e=="string"||typeof e=="number"||typeof e=="boolean")return e;if(Array.isArray(e))return e.map(r=>Bg(r));if(typeof e=="object"){var t={};return Object.entries(e).forEach(([r,n])=>{typeof n=="object"&&(n=Bg(n)),t[yc(r)]=n}),t}}function Ug(e){if(!e||typeof e=="string"||typeof e=="number"||typeof e=="boolean")return e;if(Array.isArray(e))return e.map(r=>Ug(r));if(typeof e=="object"){var t={};return Object.entries(e).forEach(([r,n])=>{(typeof n=="object"||Array.isArray(e))&&(n=Ug(n)),t[Ij(r)]=n}),t}}function IK(e){var t=[],r=Qi(e.primaryKey);t.push([r]),t.push(["_deleted",r]),e.indexes&&e.indexes.forEach(o=>{var a=z0(o);t.push(a)}),t.push(["_meta.lwt",r]),t.push(["_meta.lwt"]),t=t.map(o=>o.map(a=>yc(a)));var n=t.map(o=>o.length===1?o[0]:"["+o.join("+")+"]");n=n.filter((o,a,s)=>s.indexOf(o)===a);var i=n.join(", ");return i}async function vS(e,t){var r=await e,n=await r.dexieTable.bulkGet(t);return n.map(i=>Nj(r.booleanIndexes,i))}function pf(e,t){return e+"||"+t}function NK(e){var t=new Set,r=[];return e.indexes?(e.indexes.forEach(n=>{var i=z0(n);i.forEach(o=>{if(!t.has(o)){t.add(o);var a=cl(e,o);a.type==="boolean"&&r.push(o)}})}),r.push("_deleted"),G5(r)):r}function pS(e){return e===es?-1/0:e}function mS(e,t,r){if(e.includes(t)){var n=r===Za||r===!0?"1":"0";return n}else return r}function Dj(e,t,r){if(!r){if(typeof window>"u")throw new Error("IDBKeyRange missing");r=window.IDBKeyRange}var n=t.startKeys.map((a,s)=>{var u=t.index[s];return mS(e,u,a)}).map(pS),i=t.endKeys.map((a,s)=>{var u=t.index[s];return mS(e,u,a)}).map(pS),o=r.bound(n,i,!t.inclusiveStart,!t.inclusiveEnd);return o}async function yS(e,t){var r=await e.internals,n=t.query,i=n.skip?n.skip:0,o=n.limit?n.limit:1/0,a=i+o,s=t.queryPlan,u=!1;s.selectorSatisfiedByIndex||(u=ib(e.schema,t.query));var l=Dj(r.booleanIndexes,s,r.dexieDb._options.IDBKeyRange),c=s.index,d=[];if(await r.dexieDb.transaction("r",r.dexieTable,async h=>{var b=h.idbtrans,_=b.objectStore(Nd),j,g;g="["+c.map(O=>yc(O)).join("+")+"]",j=_.index(g);var p=j.openCursor(l);await new Promise(O=>{p.onsuccess=function(x){var P=x.target.result;if(P){var C=Nj(r.booleanIndexes,P.value);(!u||u(C))&&d.push(C),s.sortSatisfiedByIndex&&d.length===a?O():P.continue()}else O()}})}),!s.sortSatisfiedByIndex){var f=jx(e.schema,t.query);d=d.sort(f)}return d=d.slice(i,a),{documents:d}}async function DK(e,t){var r=await e.internals,n=t.queryPlan,i=n.index,o=Dj(r.booleanIndexes,n,r.dexieDb._options.IDBKeyRange),a=-1;return await r.dexieDb.transaction("r",r.dexieTable,async s=>{var u=s.idbtrans,l=u.objectStore(Nd),c,d;d="["+i.map(h=>yc(h)).join("+")+"]",c=l.index(d);var f=c.count(o);a=await new Promise((h,b)=>{f.onsuccess=function(){h(f.result)},f.onerror=_=>b(_)})}),a}var LK=jr(),FK=function(){function e(r,n,i,o,a,s,u){this.changes$=new kt.Subject,this.instanceId=LK++,this.storage=r,this.databaseName=n,this.collectionName=i,this.schema=o,this.internals=a,this.options=s,this.settings=u,this.primaryPath=Qi(this.schema.primaryKey)}var t=e.prototype;return t.bulkWrite=async function(n,i){uo(this),n.forEach(c=>{if(!c.document._rev||c.previous&&!c.previous._rev)throw be("SNH",{args:{row:c}})});var o=await this.internals,a={success:[],error:[]},s=n.map(c=>c.document[this.primaryPath]),u;if(await o.dexieDb.transaction("rw",o.dexieTable,o.dexieAttachmentsTable,async()=>{var c=new Map,d=await vS(this.internals,s);d.forEach(b=>{var _=b;return _&&c.set(_[this.primaryPath],_),_}),u=QW(this,this.primaryPath,c,n,i),a.error=u.errors;var f=[];u.bulkInsertDocs.forEach(b=>{a.success.push(b.document),f.push(b.document)}),u.bulkUpdateDocs.forEach(b=>{a.success.push(b.document),f.push(b.document)}),f=f.map(b=>MK(o.booleanIndexes,b)),f.length>0&&await o.dexieTable.bulkPut(f);var h=[];u.attachmentsAdd.forEach(b=>{h.push({id:pf(b.documentId,b.attachmentId),data:b.attachmentData.data})}),u.attachmentsUpdate.forEach(b=>{h.push({id:pf(b.documentId,b.attachmentId),data:b.attachmentData.data})}),await o.dexieAttachmentsTable.bulkPut(h),await o.dexieAttachmentsTable.bulkDelete(u.attachmentsRemove.map(b=>pf(b.documentId,b.attachmentId)))}),u=ut(u),u.eventBulk.events.length>0){var l=ut(u.newestRow).document;u.eventBulk.checkpoint={id:l[this.primaryPath],lwt:l._meta.lwt},u.eventBulk.endTime=jr(),this.changes$.next(u.eventBulk)}return a},t.findDocumentsById=async function(n,i){uo(this);var o=await this.internals,a=[];return await o.dexieDb.transaction("r",o.dexieTable,async()=>{var s=await vS(this.internals,n);s.forEach(u=>{u&&(!u._deleted||i)&&a.push(u)})}),a},t.query=function(n){return uo(this),yS(this,n)},t.count=async function(n){if(n.queryPlan.selectorSatisfiedByIndex){var i=await DK(this,n);return{count:i,mode:"fast"}}else{var o=await yS(this,n);return{count:o.documents.length,mode:"slow"}}},t.changeStream=function(){return uo(this),this.changes$.asObservable()},t.cleanup=async function(n){uo(this);var i=await this.internals;return await i.dexieDb.transaction("rw",i.dexieTable,async()=>{var o=jr()-n,a=await i.dexieTable.where("_meta.lwt").below(o).toArray(),s=[];a.forEach(u=>{u._deleted==="1"&&s.push(u[this.primaryPath])}),await i.dexieTable.bulkDelete(s)}),!0},t.getAttachmentData=async function(n,i,o){uo(this);var a=await this.internals,s=pf(n,i);return await a.dexieDb.transaction("r",a.dexieAttachmentsTable,async()=>{var u=await a.dexieAttachmentsTable.get(s);if(u)return u.data;throw new Error("attachment missing documentId: "+n+" attachmentId: "+i)})},t.remove=async function(){uo(this);var n=await this.internals;return await n.dexieTable.clear(),this.close()},t.close=function(){return this.closed?this.closed:(this.closed=(async()=>{this.changes$.complete(),await TK(this.internals)})(),this.closed)},t.conflictResultionTasks=function(){return new kt.Subject},t.resolveConflictResultionTask=async function(n){},e}();async function BK(e,t,r){var n=RK(t.databaseName,t.collectionName,r,t.schema),i=new FK(e,t.databaseName,t.collectionName,t.schema,n,t.options,r);return await D7(Mj,t,i),Promise.resolve(i)}function uo(e){if(e.closed)throw new Error("RxStorageInstanceDexie is closed "+e.databaseName+"-"+e.collectionName)}var UK=function(){function e(r){this.name=Mj,this.settings=r}var t=e.prototype;return t.createStorageInstance=function(n){return XW(n),BK(this,n,this.settings)},e}();function WK(e={}){var t=new UK(e);return t}var Lj="abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ123456789",gS=Lj.length;function zK(e){var t=[];do{var r=e%gS;t.push(r),e=Math.floor(e/gS)}while(e-- >0);return t.reverse().map(function(n){return Lj[n]}).join("")}var KK=function(e,t){return e<t?-1:t>e?1:0};function bS(e){return Object.assign({},e)}var Fj="|";function VK(e,t,r){t===void 0&&(t=Fj),r===void 0&&(r=[]);var n=qK(e,r),i={compressedToUncompressed:n,uncompressedToCompressed:HK(n,t,r),compressionFlag:t};return i}function Bj(e){var t=new Set;function r(n){var i=Bj(n);Array.from(i).forEach(function(o){return t.add(o)})}return e.properties&&Object.keys(e.properties).forEach(function(n){var i=e.properties[n];t.add(n),e.properties&&r(i)}),e.items&&(Array.isArray(e.items)?e.items.forEach(function(n){r(n)}):r(e.items)),t}function qK(e,t){var r=Bj(e),n=Array.from(r).sort(KK),i=new Map,o=0;return n.filter(function(a){return a.length>3&&!t.includes(a)}).forEach(function(a){var s=zK(o);o++,i.set(a,s)}),i}function HK(e,t,r){var n=new Map;return Array.from(e.keys()).forEach(function(i){var o=e.get(i);r.includes(o)||n.set(t+o,i)}),n}function Wg(e,t){if(typeof t!="object"||t===null)return t;if(Array.isArray(t))return t.map(function(n){return Wg(e,n)});var r={};return Object.keys(t).forEach(function(n){var i=Uj(e,n),o=Wg(e,t[n]);r[i]=o}),r}function zr(e,t){var r=t.split(".");return r.map(function(n){var i=Uj(e,n);return i}).join(".")}function QK(e,t){if(t.startsWith(e.compressionFlag))throw new Error("cannot compress objects that start with the compression-flag: "+e.compressionFlag+" on key "+t)}function Uj(e,t){QK(e,t);var r=t.split("[");t=r.shift();var n=e.compressedToUncompressed.get(t);if(n){var i=r.length?"["+r.join("["):"";return e.compressionFlag+n+i}else return t}function YK(e,t){var r={selector:Dd(e,t.selector)};if(t.skip&&(r.skip=t.skip),t.limit&&(r.limit=t.limit),t.fields&&(r.fields=t.fields.map(function(i){return zr(e,i)})),t.sort)if(Array.isArray(t.sort))r.sort=t.sort.map(function(i){if(typeof i=="string"){var o=i.startsWith("-");o&&(i=i.substr(1));var a=zr(e,i);return o&&(a="-"+a),a}else return Dd(e,i)});else{var n={};Object.keys(t.sort).forEach(function(i){var o=t.sort[i],a=zr(e,i);n[a]=o}),r.sort=n}return r}function Dd(e,t){if(Array.isArray(t))return t.map(function(n){return Dd(e,n)});if(t instanceof RegExp)return t;if(typeof t=="object"&&t!==null){var r={};return Object.keys(t).forEach(function(n){var i;n.startsWith("$")?i=n:i=zr(e,n),r[i]=Dd(e,t[n])}),r}else return t}function zg(e,t){if(typeof t!="object"||t===null)return t;if(Array.isArray(t))return t.map(function(n){return zg(e,n)});var r={};return Object.keys(t).forEach(function(n){var i=GK(e,n),o=zg(e,t[n]);r[i]=o}),r}function GK(e,t){var r=t.split("[");t=r.shift();var n=e.uncompressedToCompressed.get(t);if(n){var i=r.length?"["+r.join("["):"";return n+i}else return t}function Kf(e,t){if(t.type==="array"&&t.items){var r=bS(t);if(Array.isArray(t.items)){var n=t.items.map(function(o){return Kf(e,o)});r.items=n}else{var n=Kf(e,t.items);r.items=n}return r}else if(t.type==="object"&&t.properties){var r=bS(t),i={};return Object.keys(t.properties).forEach(function(a){var s=t.properties[a],u=zr(e,a);i[u]=Kf(e,s)}),r.properties=i,r.required&&(r.required=r.required.map(function(a){return zr(e,a)})),r}else return t}var XK=new WeakMap;function JK(e){return ft.deepFreezeWhenDevMode(e),gn(XK,e,()=>{var t=et(e);delete t.primaryKey;var r=VK(t,Fj,[Qi(e.primaryKey),"_rev","_attachments","_deleted","_meta"]);delete t.primaryKey;var n=Kf(r,t);if(typeof e.primaryKey!="string"){var i=e.primaryKey,o={key:zr(r,i.key),fields:i.fields.map(u=>zr(r,u)),separator:i.separator};n.primaryKey=o}else n.primaryKey=zr(r,e.primaryKey);if(e.indexes){var a=e.indexes.map(u=>ap(u)?u.map(l=>zr(r,l)):zr(r,u));n.indexes=a}var s={table:r,schema:e,compressedSchema:n};return s})}function ZK(e){return Object.assign({},e.storage,{async createStorageInstance(t){if(!t.schema.keyCompression)return e.storage.createStorageInstance(t);var r=JK(t.schema);function n(l){return e9(r,l)}function i(l){return t9(r,l)}var o=et(r.compressedSchema);o.keyCompression=!1;var a=await e.storage.createStorageInstance(Object.assign({},t,{schema:o})),s=L7(t.schema,a,n,i),u=s.query.bind(s);return s.query=async l=>{var c=YK(r.table,l.query),d=ob(r.compressedSchema,c);return u(d)},s}})}function e9(e,t){t=ab(t);var r=t._attachments;return delete t._attachments,t=Wg(e.table,t),t._attachments=r,t}function t9(e,t){return zg(e.table,t)}const r9="bracketDocType",n9=0,i9=!0,o9="id",a9="object",s9={id:{type:"string",maxLength:100},name:{type:"string",default:""},type:{type:"string",enum:["elimination","doubleElimination","roundRobin","finals","custom"],default:"elimination"},rounds:{ref:"rounds",type:"array",uniqueItems:!0,items:{type:"string"},default:[]},createdAt:{type:"string",maxLength:100,default:"",final:!0},updatedAt:{type:"string",default:""}},u9=["id","name","type","rounds"],l9=["createdAt"],c9={title:r9,version:n9,keyCompression:i9,primaryKey:o9,type:a9,properties:s9,required:u9,indexes:l9},f9="gameDocType",d9=0,h9=!0,v9="id",p9="object",m9={id:{type:"string",maxLength:100},name:{type:"string",default:""},type:{type:"string",enum:["highestScore","lowestScore"],default:"highestScore"},completed:{type:"boolean",default:!1},scores:{ref:"scores",type:"array",uniqueItems:!0,items:{type:"string"},default:[]},createdAt:{type:"string",maxLength:100,default:"",final:!0},updatedAt:{type:"string",default:""}},y9=["id","name","type","completed","scores"],g9=["createdAt"],b9={title:f9,version:d9,keyCompression:h9,primaryKey:v9,type:p9,properties:m9,required:y9,indexes:g9},_9="memberDocType",w9=0,S9=!0,O9="id",E9="object",P9={id:{type:"string",maxLength:100},name:{type:"string",default:""},createdAt:{type:"string",maxLength:100,default:"",final:!0},updatedAt:{type:"string",default:""}},x9=["id","name"],j9=["createdAt"],k9={title:_9,version:w9,keyCompression:S9,primaryKey:O9,type:E9,properties:P9,required:x9,indexes:j9},C9="roundDocType",$9=0,A9=!0,R9="id",T9="object",M9={id:{type:"string",maxLength:100},name:{type:"string",default:""},games:{ref:"games",type:"array",uniqueItems:!0,items:{type:"string"},default:[]},createdAt:{type:"string",maxLength:100,default:"",final:!0},updatedAt:{type:"string",default:""}},I9=["id","name","games"],N9=["createdAt"],D9={title:C9,version:$9,keyCompression:A9,primaryKey:R9,type:T9,properties:M9,required:I9,indexes:N9},L9="scoreDocType",F9=0,B9=!0,U9="id",W9="object",z9={id:{type:"string",maxLength:100},score:{type:"integer",default:0},team:{ref:"teams",type:"string"},createdAt:{type:"string",maxLength:100,default:"",final:!0},updatedAt:{type:"string",default:""}},K9=["id","score","team"],V9=["createdAt"],q9={title:L9,version:F9,keyCompression:B9,primaryKey:U9,type:W9,properties:z9,required:K9,indexes:V9},H9="teamDocType",Q9=0,Y9=!0,G9="id",X9="object",J9={id:{type:"string",maxLength:100},name:{type:"string",default:""},members:{ref:"members",type:"array",uniqueItems:!0,items:{type:"string"},default:[]},createdAt:{type:"string",maxLength:100,default:"",final:!0},updatedAt:{type:"string",default:""}},Z9=["id","name","members"],eV=["createdAt"],tV={title:H9,version:Q9,keyCompression:Y9,primaryKey:G9,type:X9,properties:J9,required:Z9,indexes:eV},rV="tournamentDocType",nV=0,iV=!0,oV="id",aV="object",sV={id:{type:"string",maxLength:100},name:{type:"string",default:""},brackets:{ref:"brackets",type:"array",uniqueItems:!0,items:{type:"string"},default:[]},createdAt:{type:"string",maxLength:100,default:"",final:!0},updatedAt:{type:"string",default:""}},uV=["id","name","brackets"],lV=["createdAt"],cV={title:rV,version:nV,keyCompression:iV,primaryKey:oV,type:aV,properties:sV,required:uV,indexes:lV};var Wj={minimumDeletedTime:1e3*60*60*24*31,minimumCollectionAge:1e3*60,runEach:1e3*60*5,awaitReplicationsInSync:!0,waitForLeadership:!0},zj=new WeakMap,fV=new WeakMap;function _S(e){return gn(fV,e,()=>N7(e))}function dV(){var e=ij(this.storage.name,this.token,this.name,this),t=this.destroy.bind(this);this.destroy=function(){return vg(this.token,this),t()};var r=_S(e);return r||(r=_S(e),zj.set(this,r)),this.leaderElector=()=>r,r}function hV(){return this.multiInstance?this.leaderElector().isLeader:!0}function vV(){return this.multiInstance?this.leaderElector().awaitLeadership().then(()=>!0):EP}function pV(e){var t=zj.get(e);t&&t.die()}var mV=!0,yV={RxDatabase:e=>{e.leaderElector=dV,e.isLeader=hV,e.waitForLeadership=vV}},gV={name:"leader-election",rxdb:mV,prototypes:yV,hooks:{preDestroyRxDatabase:{after:pV}}},bV=new WeakMap,Ym=EP;async function _V(e){var t=e.database,r=Object.assign({},Wj,t.cleanupPolicy?t.cleanupPolicy:{});await e.promiseWait(r.minimumCollectionAge),!e.destroyed&&(r.waitForLeadership&&await t.waitForLeadership(),!e.destroyed&&(await Kj(e,r),await wV(e,r)))}async function Kj(e,t){for(var r=e.database,n=e.storageInstance,i=!1;!i&&!e.destroyed;){if(t.awaitReplicationsInSync){var o=bV.get(e);o&&await Promise.all(o.map(a=>{if(!a.isStopped())return a.awaitInSync()}))}if(await r.requestIdlePromise(),e.destroyed)return;Ym=Ym.then(()=>e.destroyed?!0:n.cleanup(t.minimumDeletedTime)),i=await Ym}}async function wV(e,t){for(;!e.destroyed;){if(await e.promiseWait(t.runEach),e.destroyed)return;await Kj(e,t)}}var SV={name:"cleanup",rxdb:!0,prototypes:{RxCollection:e=>{e.cleanup=async function(t){var r=Object.assign({},Wj,this.database.cleanupPolicy?this.database.cleanupPolicy:{});typeof t>"u"&&(t=r.minimumDeletedTime);for(var n=!1;!n&&!this.destroyed;)n=await this.storageInstance.cleanup(t)}}},hooks:{createRxCollection:{after:e=>{_V(e.collection)}}}};function OV(e){e.preInsert(t=>{const r=new Date().toISOString();t.createdAt=r,t.updatedAt=r},!1),e.preSave(t=>{t.updatedAt=new Date().toISOString()},!1)}function EV(e){Object.values(e).forEach(t=>OV(t)),e.tournaments.postRemove(t=>e.brackets.bulkRemove(t.brackets),!1),e.brackets.preRemove(t=>e.tournaments.find({selector:{brackets:t.id}}).exec().then(r=>{for(const n of r)n.incrementalModify(i=>(i.brackets=i.brackets.filter(o=>o!=t.id),i))}),!1),e.brackets.postRemove(t=>e.rounds.bulkRemove(t.rounds),!1),e.rounds.preRemove(t=>e.brackets.find({selector:{rounds:t.id}}).exec().then(r=>{for(const n of r)n.incrementalModify(i=>(i.rounds=i.rounds.filter(o=>o!=t.id),i))}),!1),e.rounds.postRemove(t=>e.games.bulkRemove(t.games),!1),e.games.preRemove(t=>e.rounds.find({selector:{games:t.id}}).exec().then(r=>{for(const n of r)n.incrementalModify(i=>(i.games=i.games.filter(o=>o!=t.id),i))}),!1),e.games.postRemove(t=>e.scores.bulkRemove(t.scores),!1),e.scores.preRemove(t=>e.games.find({selector:{scores:t.id}}).exec().then(r=>{for(const n of r)n.incrementalModify(i=>(i.scores=i.scores.filter(o=>o!=t.id),i))}),!1),e.members.preRemove(t=>e.teams.find({selector:{members:t.id}}).exec().then(r=>{for(const n of r)n.incrementalModify(i=>(i.members=i.members.filter(o=>o!=t.id),i))}),!1),e.teams.preRemove(t=>e.scores.find({selector:{team:t.id}}).exec().then(async r=>{for(const n of r)await n.incrementalRemove()}),!1)}async function PV(){Yw(gV),Yw(SV);const e=ZK({storage:WK()}),t=await Oz({name:"react-tournament-app",storage:e,eventReduce:!0}),r=c9,n=b9,i=k9,o=D9,a=q9,s=tV,u=cV,l=await t.addCollections({brackets:{schema:r},games:{schema:n},members:{schema:i},rounds:{schema:o},scores:{schema:a},teams:{schema:s},tournaments:{schema:u}});return EV(l),t}var Vj={},qj={exports:{}};(function(e,t){(function(n,i){e.exports=i()})(M,()=>(()=>{var r=[,(a,s,u)=>{u.r(s),u.d(s,{default:()=>c});var l=(()=>{var d=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return function(f={}){var h=f,b,_;h.ready=new Promise((m,v)=>{b=m,_=v});function j(){function m(z){const W=E;S=v=0,E=new Map,W.forEach(q=>{try{q(z)}catch(U){console.error(U)}}),this.hb(),T&&T.Fb()}let v=0,S=0,E=new Map,T=null,N=null;this.requestAnimationFrame=function(z){v||(v=requestAnimationFrame(m.bind(this)));const W=++S;return E.set(W,z),W},this.cancelAnimationFrame=function(z){E.delete(z),v&&E.size==0&&(cancelAnimationFrame(v),v=0)},this.Db=function(z){N&&(document.body.remove(N),N=null),z||(N=document.createElement("div"),N.style.backgroundColor="black",N.style.position="fixed",N.style.right=0,N.style.top=0,N.style.color="white",N.style.padding="4px",N.innerHTML="RIVE FPS",z=function(W){N.innerHTML="RIVE FPS "+W.toFixed(1)},document.body.appendChild(N)),T=new function(){let W=0,q=0;this.Fb=function(){var U=performance.now();q?(++W,U-=q,1e3<U&&(z(1e3*W/U),W=q=0)):(q=U,W=0)}}},this.Ab=function(){N&&(document.body.remove(N),N=null),T=null},this.hb=function(){}}function g(m){console.assert(!0);const v=new Map;let S=-1/0;this.push=function(E){return E=E+((1<<m)-1)>>m,v.has(E)&&clearTimeout(v.get(E)),v.set(E,setTimeout(function(){v.delete(E),v.length==0?S=-1/0:E==S&&(S=Math.max(...v.keys()),console.assert(S<E))},1e3)),S=Math.max(E,S),S<<m}}const p="createConicGradient createImageData createLinearGradient createPattern createRadialGradient getContextAttributes getImageData getLineDash getTransform isContextLost isPointInPath isPointInStroke measureText".split(" "),O=new function(){function m(){if(!v){let je=function(le,Ae,ze){if(Ae=te.createShader(Ae),te.shaderSource(Ae,ze),te.compileShader(Ae),ze=te.getShaderInfoLog(Ae),0<(ze||"").length)throw ze;te.attachShader(le,Ae)};var ce=je,I=document.createElement("canvas"),J={alpha:1,depth:0,stencil:0,antialias:0,premultipliedAlpha:1,preserveDrawingBuffer:0,preferLowPowerToHighPerformance:0,failIfMajorPerformanceCaveat:0,enableExtensionsByDefault:1,explicitSwapControl:1,renderViaOffscreenBackBuffer:1};let te;if(/iPhone|iPad|iPod/i.test(navigator.userAgent)){if(te=I.getContext("webgl",J),S=1,!te)return console.log("No WebGL support. Image mesh will not be drawn."),!1}else if(te=I.getContext("webgl2",J))S=2;else if(te=I.getContext("webgl",J))S=1;else return console.log("No WebGL support. Image mesh will not be drawn."),!1;if(te=new Proxy(te,{get(le,Ae){if(le.isContextLost()){if(q||(console.error("Cannot render the mesh because the GL Context was lost. Tried to invoke ",Ae),q=!0),typeof le[Ae]=="function")return function(){}}else return typeof le[Ae]=="function"?function(...ze){return le[Ae].apply(le,ze)}:le[Ae]},set(le,Ae,ze){if(le.isContextLost())q||(console.error("Cannot render the mesh because the GL Context was lost. Tried to set property "+Ae),q=!0);else return le[Ae]=ze,!0}}),E=Math.min(te.getParameter(te.MAX_RENDERBUFFER_SIZE),te.getParameter(te.MAX_TEXTURE_SIZE)),I=te.createProgram(),je(I,te.VERTEX_SHADER,`attribute vec2 vertex;
                attribute vec2 uv;
                uniform vec4 mat;
                uniform vec2 translate;
                varying vec2 st;
                void main() {
                    st = uv;
                    gl_Position = vec4(mat2(mat) * vertex + translate, 0, 1);
                }`),je(I,te.FRAGMENT_SHADER,`precision highp float;
                uniform sampler2D image;
                varying vec2 st;
                void main() {
                    gl_FragColor = texture2D(image, st);
                }`),te.bindAttribLocation(I,0,"vertex"),te.bindAttribLocation(I,1,"uv"),te.linkProgram(I),J=te.getProgramInfoLog(I),0<(J||"").trim().length)throw J;T=te.getUniformLocation(I,"mat"),N=te.getUniformLocation(I,"translate"),te.useProgram(I),te.bindBuffer(te.ARRAY_BUFFER,te.createBuffer()),te.enableVertexAttribArray(0),te.enableVertexAttribArray(1),te.bindBuffer(te.ELEMENT_ARRAY_BUFFER,te.createBuffer()),te.uniform1i(te.getUniformLocation(I,"image"),0),te.pixelStorei(te.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),v=te}return!0}let v=null,S=0,E=0,T=null,N=null,z=0,W=0,q=!1;m(),this.Ob=function(){return m(),E},this.yb=function(I){v.deleteTexture&&v.deleteTexture(I)},this.wb=function(I){if(!m())return null;const J=v.createTexture();return J?(v.bindTexture(v.TEXTURE_2D,J),v.texImage2D(v.TEXTURE_2D,0,v.RGBA,v.RGBA,v.UNSIGNED_BYTE,I),v.texParameteri(v.TEXTURE_2D,v.TEXTURE_WRAP_S,v.CLAMP_TO_EDGE),v.texParameteri(v.TEXTURE_2D,v.TEXTURE_WRAP_T,v.CLAMP_TO_EDGE),v.texParameteri(v.TEXTURE_2D,v.TEXTURE_MAG_FILTER,v.LINEAR),S==2?(v.texParameteri(v.TEXTURE_2D,v.TEXTURE_MIN_FILTER,v.LINEAR_MIPMAP_LINEAR),v.generateMipmap(v.TEXTURE_2D)):v.texParameteri(v.TEXTURE_2D,v.TEXTURE_MIN_FILTER,v.LINEAR),J):null};const U=new g(8),ee=new g(8),ie=new g(10),ye=new g(10);this.Cb=function(I,J,ce,te,je){if(m()){var le=U.push(I),Ae=ee.push(J);if(v.canvas){(v.canvas.width!=le||v.canvas.height!=Ae)&&(v.canvas.width=le,v.canvas.height=Ae),v.viewport(0,Ae-J,I,J),v.disable(v.SCISSOR_TEST),v.clearColor(0,0,0,0),v.clear(v.COLOR_BUFFER_BIT),v.enable(v.SCISSOR_TEST),ce.sort((Ee,sn)=>sn.lb-Ee.lb),le=ie.push(te),z!=le&&(v.bufferData(v.ARRAY_BUFFER,8*le,v.DYNAMIC_DRAW),z=le),le=0;for(var ze of ce)v.bufferSubData(v.ARRAY_BUFFER,le,ze.Sa),le+=4*ze.Sa.length;console.assert(le==4*te);for(var an of ce)v.bufferSubData(v.ARRAY_BUFFER,le,an.ob),le+=4*an.ob.length;console.assert(le==8*te),le=ye.push(je),W!=le&&(v.bufferData(v.ELEMENT_ARRAY_BUFFER,2*le,v.DYNAMIC_DRAW),W=le),ze=0;for(var to of ce)v.bufferSubData(v.ELEMENT_ARRAY_BUFFER,ze,to.indices),ze+=2*to.indices.length;console.assert(ze==2*je),to=0,an=!0,le=ze=0;for(const Ee of ce){Ee.image.Na!=to&&(v.bindTexture(v.TEXTURE_2D,Ee.image.Ma||null),to=Ee.image.Na),Ee.Rb?(v.scissor(Ee.Xa,Ae-Ee.Ya-Ee.fb,Ee.bc,Ee.fb),an=!0):an&&(v.scissor(0,Ae-J,I,J),an=!1),ce=2/I;const sn=-2/J;v.uniform4f(T,Ee.xa[0]*ce*Ee.Ga,Ee.xa[1]*sn*Ee.Ha,Ee.xa[2]*ce*Ee.Ga,Ee.xa[3]*sn*Ee.Ha),v.uniform2f(N,Ee.xa[4]*ce*Ee.Ga+ce*(Ee.Xa-Ee.Pb*Ee.Ga)-1,Ee.xa[5]*sn*Ee.Ha+sn*(Ee.Ya-Ee.Qb*Ee.Ha)+1),v.vertexAttribPointer(0,2,v.FLOAT,!1,0,le),v.vertexAttribPointer(1,2,v.FLOAT,!1,0,le+4*te),v.drawElements(v.TRIANGLES,Ee.indices.length,v.UNSIGNED_SHORT,ze),le+=4*Ee.Sa.length,ze+=2*Ee.indices.length}console.assert(le==4*te),console.assert(ze==2*je)}}},this.canvas=function(){return m()&&v.canvas}},x=h.onRuntimeInitialized;h.onRuntimeInitialized=function(){function m(Q){switch(Q){case U.srcOver:return"source-over";case U.screen:return"screen";case U.overlay:return"overlay";case U.darken:return"darken";case U.lighten:return"lighten";case U.colorDodge:return"color-dodge";case U.colorBurn:return"color-burn";case U.hardLight:return"hard-light";case U.softLight:return"soft-light";case U.difference:return"difference";case U.exclusion:return"exclusion";case U.multiply:return"multiply";case U.hue:return"hue";case U.saturation:return"saturation";case U.color:return"color";case U.luminosity:return"luminosity"}}function v(Q){return"rgba("+((16711680&Q)>>>16)+","+((65280&Q)>>>8)+","+((255&Q)>>>0)+","+((4278190080&Q)>>>24)/255+")"}function S(){0<Ae.length&&(O.Cb(le.drawWidth(),le.drawHeight(),Ae,ze,an),Ae=[],an=ze=0,le.reset(512,512));for(const Q of je){for(const se of Q.ja)se();Q.ja=[]}je.clear()}x&&x();var E=h.RenderPaintStyle;const T=h.RenderPath,N=h.RenderPaint,z=h.Renderer,W=h.StrokeCap,q=h.StrokeJoin,U=h.BlendMode,ee=E.fill,ie=E.stroke,ye=h.FillRule.evenOdd;let I=1;var J=h.RenderImage.extend("CanvasRenderImage",{__construct:function({Aa:Q,Fa:se}={}){this.__parent.__construct.call(this),this.Na=I,I=I+1&2147483647||1,this.Aa=Q,this.Fa=se},__destruct:function(){this.Ma&&(O.yb(this.Ma),URL.revokeObjectURL(this.Va)),this.__parent.__destruct.call(this)},decode:function(Q){var se=this;se.Fa&&se.Fa(se);var Pe=new Image;se.Va=URL.createObjectURL(new Blob([Q],{type:"image/png"})),Pe.src=se.Va,Pe.onload=function(){se.qb=Pe,se.Ma=O.wb(Pe),se.size(Pe.width,Pe.height),se.Aa&&se.Aa(se)}}}),ce=T.extend("CanvasRenderPath",{__construct:function(){this.__parent.__construct.call(this),this.pa=new Path2D},rewind:function(){this.pa=new Path2D},addPath:function(Q,se,Pe,xe,we,ke,Ce){var Te=this.pa,Sr=Te.addPath;Q=Q.pa;const mt=new DOMMatrix;mt.a=se,mt.b=Pe,mt.c=xe,mt.d=we,mt.e=ke,mt.f=Ce,Sr.call(Te,Q,mt)},fillRule:function(Q){this.Ua=Q},moveTo:function(Q,se){this.pa.moveTo(Q,se)},lineTo:function(Q,se){this.pa.lineTo(Q,se)},cubicTo:function(Q,se,Pe,xe,we,ke){this.pa.bezierCurveTo(Q,se,Pe,xe,we,ke)},close:function(){this.pa.closePath()}}),te=N.extend("CanvasRenderPaint",{color:function(Q){this.Wa=v(Q)},thickness:function(Q){this.tb=Q},join:function(Q){switch(Q){case q.miter:this.La="miter";break;case q.round:this.La="round";break;case q.bevel:this.La="bevel"}},cap:function(Q){switch(Q){case W.butt:this.Ka="butt";break;case W.round:this.Ka="round";break;case W.square:this.Ka="square"}},style:function(Q){this.sb=Q},blendMode:function(Q){this.pb=m(Q)},clearGradient:function(){this.za=null},linearGradient:function(Q,se,Pe,xe){this.za={mb:Q,nb:se,ab:Pe,bb:xe,Qa:[]}},radialGradient:function(Q,se,Pe,xe){this.za={mb:Q,nb:se,ab:Pe,bb:xe,Qa:[],Mb:!0}},addStop:function(Q,se){this.za.Qa.push({color:Q,stop:se})},completeGradient:function(){},draw:function(Q,se,Pe){let xe=this.sb;var we=this.Wa,ke=this.za;if(Q.globalCompositeOperation=this.pb,ke!=null){we=ke.mb;var Ce=ke.nb;const Sr=ke.ab;var Te=ke.bb;const mt=ke.Qa;ke.Mb?(ke=Sr-we,Te-=Ce,we=Q.createRadialGradient(we,Ce,0,we,Ce,Math.sqrt(ke*ke+Te*Te))):we=Q.createLinearGradient(we,Ce,Sr,Te);for(let un=0,xt=mt.length;un<xt;un++)Ce=mt[un],we.addColorStop(Ce.stop,v(Ce.color));this.Wa=we,this.za=null}switch(xe){case ie:Q.strokeStyle=we,Q.lineWidth=this.tb,Q.lineCap=this.Ka,Q.lineJoin=this.La,Q.stroke(se);break;case ee:Q.fillStyle=we,Q.fill(se,Pe)}}});const je=new Set;let le=null,Ae=[],ze=0,an=0;var to=h.CanvasRenderer=z.extend("Renderer",{__construct:function(Q){this.__parent.__construct.call(this),this.oa=[1,0,0,1,0,0],this.ha=Q.getContext("2d"),this.Ta=Q,this.ja=[]},save:function(){this.oa.push(...this.oa.slice(this.oa.length-6)),this.ja.push(this.ha.save.bind(this.ha))},restore:function(){const Q=this.oa.length-6;if(6>Q)throw"restore() called without matching save().";this.oa.splice(Q),this.ja.push(this.ha.restore.bind(this.ha))},transform:function(Q,se,Pe,xe,we,ke){const Ce=this.oa,Te=Ce.length-6;Ce.splice(Te,6,Ce[Te]*Q+Ce[Te+2]*se,Ce[Te+1]*Q+Ce[Te+3]*se,Ce[Te]*Pe+Ce[Te+2]*xe,Ce[Te+1]*Pe+Ce[Te+3]*xe,Ce[Te]*we+Ce[Te+2]*ke+Ce[Te+4],Ce[Te+1]*we+Ce[Te+3]*ke+Ce[Te+5]),this.ja.push(this.ha.transform.bind(this.ha,Q,se,Pe,xe,we,ke))},rotate:function(Q){const se=Math.sin(Q);Q=Math.cos(Q),this.transform(Q,se,-se,Q,0,0)},_drawPath:function(Q,se){this.ja.push(se.draw.bind(se,this.ha,Q.pa,Q.Ua===ye?"evenodd":"nonzero"))},_drawRiveImage:function(Q,se,Pe){var xe=Q.qb;if(xe){var we=this.ha,ke=m(se);this.ja.push(function(){we.globalCompositeOperation=ke,we.globalAlpha=Pe,we.drawImage(xe,0,0),we.globalAlpha=1})}},_getMatrix:function(Q){const se=this.oa,Pe=se.length-6;for(let xe=0;6>xe;++xe)Q[xe]=se[Pe+xe]},_drawImageMesh:function(Q,se,Pe,xe,we,ke,Ce,Te,Sr,mt){var un=this.ha.canvas.width,xt=this.ha.canvas.height;const Tb=Sr-Ce,Mb=mt-Te;Ce=Math.max(Ce,0),Te=Math.max(Te,0),Sr=Math.min(Sr,un),mt=Math.min(mt,xt);const ru=Sr-Ce,nu=mt-Te;if(console.assert(ru<=Math.min(Tb,un)),console.assert(nu<=Math.min(Mb,xt)),!(0>=ru||0>=nu)){Sr=ru<Tb||nu<Mb,un=mt=1;var ro=Math.ceil(ru*mt),no=Math.ceil(nu*un);xt=O.Ob(),ro>xt&&(mt*=xt/ro,ro=xt),no>xt&&(un*=xt/no,no=xt),le||(le=new h.DynamicRectanizer(xt),le.reset(512,512)),xt=le.addRect(ro,no),0>xt&&(S(),je.add(this),xt=le.addRect(ro,no),console.assert(0<=xt));var Ib=xt&65535,Nb=xt>>16;Ae.push({xa:this.oa.slice(this.oa.length-6),image:Q,Xa:Ib,Ya:Nb,Pb:Ce,Qb:Te,bc:ro,fb:no,Ga:mt,Ha:un,Sa:new Float32Array(xe),ob:new Float32Array(we),indices:new Uint16Array(ke),Rb:Sr,lb:Q.Na<<1|(Sr?1:0)}),ze+=xe.length,an+=ke.length;var ja=this.ha,Sk=m(se);this.ja.push(function(){ja.save(),ja.resetTransform(),ja.globalCompositeOperation=Sk,ja.globalAlpha=Pe;const Db=O.canvas();Db&&ja.drawImage(Db,Ib,Nb,ro,no,Ce,Te,ru,nu),ja.restore()})}},_clipPath:function(Q){this.ja.push(this.ha.clip.bind(this.ha,Q.pa,Q.Ua===ye?"evenodd":"nonzero"))},clear:function(){je.add(this),this.ja.push(this.ha.clearRect.bind(this.ha,0,0,this.Ta.width,this.Ta.height))},flush:function(){},translate:function(Q,se){this.transform(1,0,0,1,Q,se)}});h.makeRenderer=function(Q){const se=new to(Q),Pe=se.ha;return new Proxy(se,{get(xe,we){if(typeof xe[we]=="function")return function(...ke){return xe[we].apply(xe,ke)};if(typeof Pe[we]=="function"){if(-1<p.indexOf(we))throw Error("RiveException: Method call to '"+we+"()' is not allowed, as the renderer cannot immediately pass through the return                 values of any canvas 2d context methods.");return function(...ke){se.ja.push(Pe[we].bind(Pe,...ke))}}return xe[we]},set(xe,we,ke){if(we in Pe)return Pe[we]=ke,!0}})},h.decodeImage=function(Q,se){new J({Aa:se}).decode(Q)},h.renderFactory={makeRenderPaint:function(){return new te},makeRenderPath:function(){return new ce},makeRenderImage:function(){let Q=sn;return new J({Fa:()=>{Q.total++},Aa:()=>{if(Q.loaded++,Q.loaded===Q.total){const se=Q.ready;se&&(se(),Q.ready=null)}}})}};let Ee=h.load,sn=null;h.load=function(Q,se,Pe=!0){const xe=new h.FallbackFileAssetLoader;return se!==void 0&&xe.addLoader(se),Pe&&(se=new h.CDNFileAssetLoader,xe.addLoader(se)),new Promise(function(we){let ke=null;sn={total:0,loaded:0,ready:function(){we(ke)}},ke=Ee(Q,xe),sn.total==0&&we(ke)})},E=new j,h.requestAnimationFrame=E.requestAnimationFrame.bind(E),h.cancelAnimationFrame=E.cancelAnimationFrame.bind(E),h.enableFPSCounter=E.Db.bind(E),h.disableFPSCounter=E.Ab,E.hb=S,h.cleanup=function(){le&&le.delete()}};const P=h.onRuntimeInitialized;h.onRuntimeInitialized=function(){P&&P();let m=h.decodeFont;h.decodeFont=function(S,E){S=m(S),E(S)};const v=h.FileAssetLoader;h.ptrToAsset=S=>{let E=h.ptrToFileAsset(S);return E.isImage?h.ptrToImageAsset(S):E.isFont?h.ptrToFontAsset(S):E},h.CustomFileAssetLoader=v.extend("CustomFileAssetLoader",{__construct:function({loadContents:S}){this.__parent.__construct.call(this),this.rb=S},loadContents:function(S,E){return S=h.ptrToAsset(S),this.rb(S,E)}}),h.CDNFileAssetLoader=v.extend("CDNFileAssetLoader",{__construct:function(){this.__parent.__construct.call(this)},loadContents:function(S){let E=h.ptrToAsset(S);return S=E.cdnUuid,S===""?!1:(function(T,N){var z=new XMLHttpRequest;z.responseType="arraybuffer",z.onreadystatechange=function(){z.readyState==4&&z.status==200&&N(z)},z.open("GET",T,!0),z.send(null)}(E.cdnBaseUrl+"/"+S,T=>{E.decode(new Uint8Array(T.response))}),!0)}}),h.FallbackFileAssetLoader=v.extend("FallbackFileAssetLoader",{__construct:function(){this.__parent.__construct.call(this),this.gb=[]},addLoader:function(S){this.gb.push(S)},loadContents:function(S,E){for(let T of this.gb)if(T.loadContents(S,E))return!0;return!1}})};var C=Object.assign({},h),A="./this.program",D=typeof window=="object",B=typeof importScripts=="function",V="",X,fe;(D||B)&&(B?V=self.location.href:typeof document<"u"&&document.currentScript&&(V=document.currentScript.src),d&&(V=d),V.indexOf("blob:")!==0?V=V.substr(0,V.replace(/[?#].*/,"").lastIndexOf("/")+1):V="",B&&(fe=m=>{var v=new XMLHttpRequest;return v.open("GET",m,!1),v.responseType="arraybuffer",v.send(null),new Uint8Array(v.response)}),X=(m,v,S)=>{var E=new XMLHttpRequest;E.open("GET",m,!0),E.responseType="arraybuffer",E.onload=()=>{E.status==200||E.status==0&&E.response?v(E.response):S()},E.onerror=S,E.send(null)});var he=h.print||console.log.bind(console),pe=h.printErr||console.error.bind(console);Object.assign(h,C),C=null,h.thisProgram&&(A=h.thisProgram);var $;h.wasmBinary&&($=h.wasmBinary),h.noExitRuntime,typeof WebAssembly!="object"&&Ye("no native wasm support detected");var y,k,R=!1,L,F,K,Z,ne,Y,me,Se;function Fe(){var m=y.buffer;h.HEAP8=L=new Int8Array(m),h.HEAP16=K=new Int16Array(m),h.HEAP32=ne=new Int32Array(m),h.HEAPU8=F=new Uint8Array(m),h.HEAPU16=Z=new Uint16Array(m),h.HEAPU32=Y=new Uint32Array(m),h.HEAPF32=me=new Float32Array(m),h.HEAPF64=Se=new Float64Array(m)}var We,Et=[],zt=[],nn=[];function ri(){var m=h.preRun.shift();Et.unshift(m)}var Kt=0,pt=null;function Ye(m){throw h.onAbort&&h.onAbort(m),m="Aborted("+m+")",pe(m),R=!0,m=new WebAssembly.RuntimeError(m+". Build with -sASSERTIONS for more info."),_(m),m}function Be(m){return m.startsWith("data:application/octet-stream;base64,")}var tt;if(tt="canvas_advanced.wasm",!Be(tt)){var Ge=tt;tt=h.locateFile?h.locateFile(Ge,V):V+Ge}function Mt(m){if(m==tt&&$)return new Uint8Array($);if(fe)return fe(m);throw"both async and sync fetching of the wasm failed"}function ni(m){if(!$&&(D||B)){if(typeof fetch=="function"&&!m.startsWith("file://"))return fetch(m,{credentials:"same-origin"}).then(v=>{if(!v.ok)throw"failed to load wasm binary file at '"+m+"'";return v.arrayBuffer()}).catch(()=>Mt(m));if(X)return new Promise((v,S)=>{X(m,E=>v(new Uint8Array(E)),S)})}return Promise.resolve().then(()=>Mt(m))}function gc(m,v,S){return ni(m).then(E=>WebAssembly.instantiate(E,v)).then(E=>E).then(S,E=>{pe("failed to asynchronously prepare wasm: "+E),Ye(E)})}function wp(m,v){var S=tt;return $||typeof WebAssembly.instantiateStreaming!="function"||Be(S)||S.startsWith("file://")||typeof fetch!="function"?gc(S,m,v):fetch(S,{credentials:"same-origin"}).then(E=>WebAssembly.instantiateStreaming(E,m).then(v,function(T){return pe("wasm streaming compile failed: "+T),pe("falling back to ArrayBuffer instantiation"),gc(S,m,v)}))}var Ks=m=>{for(;0<m.length;)m.shift()(h)};function bc(m){if(m===void 0)return"_unknown";m=m.replace(/[^a-zA-Z0-9_]/g,"$");var v=m.charCodeAt(0);return 48<=v&&57>=v?`_${m}`:m}function fa(m,v){return m=bc(m),{[m]:function(){return v.apply(this,arguments)}}[m]}function _c(){this.qa=[void 0],this.eb=[]}var er=new _c,ii=void 0;function _e(m){throw new ii(m)}var lr=m=>(m||_e("Cannot use deleted val. handle = "+m),er.get(m).value),_r=m=>{switch(m){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:return er.ub({kb:1,value:m})}};function wc(m){var v=Error,S=fa(m,function(E){this.name=m,this.message=E,E=Error(E).stack,E!==void 0&&(this.stack=this.toString()+`
`+E.replace(/^Error(:[^\n]*)?\n/,""))});return S.prototype=Object.create(v.prototype),S.prototype.constructor=S,S.prototype.toString=function(){return this.message===void 0?this.name:`${this.name}: ${this.message}`},S}var Sc=void 0,Oc=void 0;function Xe(m){for(var v="";F[m];)v+=Oc[F[m++]];return v}var Gi=[];function Vs(){for(;Gi.length;){var m=Gi.pop();m.ba.wa=!1,m.delete()}}var Xi=void 0,Mr={};function qs(m,v){for(v===void 0&&_e("ptr should not be undefined");m.fa;)v=m.Ba(v),m=m.fa;return v}var jn={};function Ec(m){m=Uc(m);var v=Xe(m);return Dr(m),v}function Ji(m,v){var S=jn[m];return S===void 0&&_e(v+" has unknown type "+Ec(m)),S}function da(){}var Hs=!1;function Pc(m){--m.count.value,m.count.value===0&&(m.ia?m.la.ra(m.ia):m.ea.ca.ra(m.da))}function xc(m,v,S){return v===S?m:S.fa===void 0?null:(m=xc(m,v,S.fa),m===null?null:S.Bb(m))}var jc={};function Sp(m,v){return v=qs(m,v),Mr[v]}var kc=void 0;function ha(m){throw new kc(m)}function va(m,v){return v.ea&&v.da||ha("makeClassHandle requires ptr and ptrType"),!!v.la!=!!v.ia&&ha("Both smartPtrType and smartPtr must be specified"),v.count={value:1},oi(Object.create(m,{ba:{value:v}}))}function oi(m){return typeof FinalizationRegistry>"u"?(oi=v=>v,m):(Hs=new FinalizationRegistry(v=>{Pc(v.ba)}),oi=v=>{var S=v.ba;return S.ia&&Hs.register(v,{ba:S},v),v},da=v=>{Hs.unregister(v)},oi(m))}var pa={};function Zi(m){for(;m.length;){var v=m.pop();m.pop()(v)}}function eo(m){return this.fromWireType(ne[m>>2])}var ai={},ma={};function Vt(m,v,S){function E(W){W=S(W),W.length!==m.length&&ha("Mismatched type converter count");for(var q=0;q<m.length;++q)wr(m[q],W[q])}m.forEach(function(W){ma[W]=v});var T=Array(v.length),N=[],z=0;v.forEach((W,q)=>{jn.hasOwnProperty(W)?T[q]=jn[W]:(N.push(W),ai.hasOwnProperty(W)||(ai[W]=[]),ai[W].push(()=>{T[q]=jn[W],++z,z===N.length&&E(T)}))}),N.length===0&&E(T)}function ya(m){switch(m){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError(`Unknown type size: ${m}`)}}function Op(m,v,S={}){var E=v.name;if(m||_e(`type "${E}" must have a positive integer typeid pointer`),jn.hasOwnProperty(m)){if(S.Lb)return;_e(`Cannot register type '${E}' twice`)}jn[m]=v,delete ma[m],ai.hasOwnProperty(m)&&(v=ai[m],delete ai[m],v.forEach(T=>T()))}function wr(m,v,S={}){if(!("argPackAdvance"in v))throw new TypeError("registerType registeredInstance requires argPackAdvance");Op(m,v,S)}function Qs(m){_e(m.ba.ea.ca.name+" instance already deleted")}function on(){}function Ys(m,v,S){if(m[v].ga===void 0){var E=m[v];m[v]=function(){return m[v].ga.hasOwnProperty(arguments.length)||_e(`Function '${S}' called with an invalid number of arguments (${arguments.length}) - expects one of (${m[v].ga})!`),m[v].ga[arguments.length].apply(this,arguments)},m[v].ga=[],m[v].ga[E.va]=E}}function Gs(m,v,S){h.hasOwnProperty(m)?((S===void 0||h[m].ga!==void 0&&h[m].ga[S]!==void 0)&&_e(`Cannot register public name '${m}' twice`),Ys(h,m,m),h.hasOwnProperty(S)&&_e(`Cannot register multiple overloads of a function with the same number of arguments (${S})!`),h[m].ga[S]=v):(h[m]=v,S!==void 0&&(h[m].cc=S))}function Ep(m,v,S,E,T,N,z,W){this.name=m,this.constructor=v,this.ma=S,this.ra=E,this.fa=T,this.Gb=N,this.Ba=z,this.Bb=W,this.ib=[]}function ga(m,v,S){for(;v!==S;)v.Ba||_e(`Expected null or instance of ${S.name}, got an instance of ${v.name}`),m=v.Ba(m),v=v.fa;return m}function Pp(m,v){return v===null?(this.Oa&&_e(`null is not a valid ${this.name}`),0):(v.ba||_e(`Cannot pass "${Js(v)}" as a ${this.name}`),v.ba.da||_e(`Cannot pass deleted object as a pointer of type ${this.name}`),ga(v.ba.da,v.ba.ea.ca,this.ca))}function xp(m,v){if(v===null){if(this.Oa&&_e(`null is not a valid ${this.name}`),this.Ea){var S=this.Pa();return m!==null&&m.push(this.ra,S),S}return 0}if(v.ba||_e(`Cannot pass "${Js(v)}" as a ${this.name}`),v.ba.da||_e(`Cannot pass deleted object as a pointer of type ${this.name}`),!this.Da&&v.ba.ea.Da&&_e(`Cannot convert argument of type ${v.ba.la?v.ba.la.name:v.ba.ea.name} to parameter type ${this.name}`),S=ga(v.ba.da,v.ba.ea.ca,this.ca),this.Ea)switch(v.ba.ia===void 0&&_e("Passing raw pointer to smart pointer is illegal"),this.Xb){case 0:v.ba.la===this?S=v.ba.ia:_e(`Cannot convert argument of type ${v.ba.la?v.ba.la.name:v.ba.ea.name} to parameter type ${this.name}`);break;case 1:S=v.ba.ia;break;case 2:if(v.ba.la===this)S=v.ba.ia;else{var E=v.clone();S=this.Tb(S,_r(function(){E.delete()})),m!==null&&m.push(this.ra,S)}break;default:_e("Unsupporting sharing policy")}return S}function jp(m,v){return v===null?(this.Oa&&_e(`null is not a valid ${this.name}`),0):(v.ba||_e(`Cannot pass "${Js(v)}" as a ${this.name}`),v.ba.da||_e(`Cannot pass deleted object as a pointer of type ${this.name}`),v.ba.ea.Da&&_e(`Cannot convert argument of type ${v.ba.ea.name} to parameter type ${this.name}`),ga(v.ba.da,v.ba.ea.ca,this.ca))}function Ir(m,v,S,E){this.name=m,this.ca=v,this.Oa=S,this.Da=E,this.Ea=!1,this.ra=this.Tb=this.Pa=this.jb=this.Xb=this.Sb=void 0,v.fa!==void 0?this.toWireType=xp:(this.toWireType=E?Pp:jp,this.ka=null)}function Cc(m,v,S){h.hasOwnProperty(m)||ha("Replacing nonexistant public symbol"),h[m].ga!==void 0&&S!==void 0?h[m].ga[S]=v:(h[m]=v,h[m].va=S)}var kp=(m,v)=>{var S=[];return function(){if(S.length=0,Object.assign(S,arguments),m.includes("j")){var E=h["dynCall_"+m];E=S&&S.length?E.apply(null,[v].concat(S)):E.call(null,v)}else E=We.get(v).apply(null,S);return E}};function Pt(m,v){m=Xe(m);var S=m.includes("j")?kp(m,v):We.get(v);return typeof S!="function"&&_e(`unknown function pointer with signature ${m}: ${v}`),S}var $c=void 0;function Nr(m,v){function S(N){T[N]||jn[N]||(ma[N]?ma[N].forEach(S):(E.push(N),T[N]=!0))}var E=[],T={};throw v.forEach(S),new $c(`${m}: `+E.map(Ec).join([", "]))}function ba(m,v,S,E,T){var N=v.length;2>N&&_e("argTypes array size mismatch! Must at least get return value and 'this' types!");var z=v[1]!==null&&S!==null,W=!1;for(S=1;S<v.length;++S)if(v[S]!==null&&v[S].ka===void 0){W=!0;break}var q=v[0].name!=="void",U=N-2,ee=Array(U),ie=[],ye=[];return function(){if(arguments.length!==U&&_e(`function ${m} called with ${arguments.length} arguments, expected ${U} args!`),ye.length=0,ie.length=z?2:1,ie[0]=T,z){var I=v[1].toWireType(ye,this);ie[1]=I}for(var J=0;J<U;++J)ee[J]=v[J+2].toWireType(ye,arguments[J]),ie.push(ee[J]);if(J=E.apply(null,ie),W)Zi(ye);else for(var ce=z?1:2;ce<v.length;ce++){var te=ce===1?I:ee[ce-2];v[ce].ka!==null&&v[ce].ka(te)}return I=q?v[0].fromWireType(J):void 0,I}}function _a(m,v){for(var S=[],E=0;E<m;E++)S.push(Y[v+4*E>>2]);return S}function Ac(m,v,S){return m instanceof Object||_e(`${S} with invalid "this": ${m}`),m instanceof v.ca.constructor||_e(`${S} incompatible with "this" of type ${m.constructor.name}`),m.ba.da||_e(`cannot call emscripten binding method ${S} on deleted object`),ga(m.ba.da,m.ba.ea.ca,v.ca)}function Xs(m){m>=er.Za&&--er.get(m).kb===0&&er.xb(m)}function Cp(m,v,S){switch(v){case 0:return function(E){return this.fromWireType((S?L:F)[E])};case 1:return function(E){return this.fromWireType((S?K:Z)[E>>1])};case 2:return function(E){return this.fromWireType((S?ne:Y)[E>>2])};default:throw new TypeError("Unknown integer type: "+m)}}function Js(m){if(m===null)return"null";var v=typeof m;return v==="object"||v==="array"||v==="function"?m.toString():""+m}function $p(m,v){switch(v){case 2:return function(S){return this.fromWireType(me[S>>2])};case 3:return function(S){return this.fromWireType(Se[S>>3])};default:throw new TypeError("Unknown float type: "+m)}}function Ap(m,v,S){switch(v){case 0:return S?function(E){return L[E]}:function(E){return F[E]};case 1:return S?function(E){return K[E>>1]}:function(E){return Z[E>>1]};case 2:return S?function(E){return ne[E>>2]}:function(E){return Y[E>>2]};default:throw new TypeError("Unknown integer type: "+m)}}var Rc=(m,v,S,E)=>{if(0<E){E=S+E-1;for(var T=0;T<m.length;++T){var N=m.charCodeAt(T);if(55296<=N&&57343>=N){var z=m.charCodeAt(++T);N=65536+((N&1023)<<10)|z&1023}if(127>=N){if(S>=E)break;v[S++]=N}else{if(2047>=N){if(S+1>=E)break;v[S++]=192|N>>6}else{if(65535>=N){if(S+2>=E)break;v[S++]=224|N>>12}else{if(S+3>=E)break;v[S++]=240|N>>18,v[S++]=128|N>>12&63}v[S++]=128|N>>6&63}v[S++]=128|N&63}}v[S]=0}},Tc=m=>{for(var v=0,S=0;S<m.length;++S){var E=m.charCodeAt(S);127>=E?v++:2047>=E?v+=2:55296<=E&&57343>=E?(v+=4,++S):v+=3}return v},Mc=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,wa=(m,v,S)=>{var E=v+S;for(S=v;m[S]&&!(S>=E);)++S;if(16<S-v&&m.buffer&&Mc)return Mc.decode(m.subarray(v,S));for(E="";v<S;){var T=m[v++];if(T&128){var N=m[v++]&63;if((T&224)==192)E+=String.fromCharCode((T&31)<<6|N);else{var z=m[v++]&63;T=(T&240)==224?(T&15)<<12|N<<6|z:(T&7)<<18|N<<12|z<<6|m[v++]&63,65536>T?E+=String.fromCharCode(T):(T-=65536,E+=String.fromCharCode(55296|T>>10,56320|T&1023))}}else E+=String.fromCharCode(T)}return E},Ic=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,Rp=(m,v)=>{for(var S=m>>1,E=S+v/2;!(S>=E)&&Z[S];)++S;if(S<<=1,32<S-m&&Ic)return Ic.decode(F.subarray(m,S));for(S="",E=0;!(E>=v/2);++E){var T=K[m+2*E>>1];if(T==0)break;S+=String.fromCharCode(T)}return S},Tp=(m,v,S)=>{if(S===void 0&&(S=2147483647),2>S)return 0;S-=2;var E=v;S=S<2*m.length?S/2:m.length;for(var T=0;T<S;++T)K[v>>1]=m.charCodeAt(T),v+=2;return K[v>>1]=0,v-E},Mp=m=>2*m.length,Ip=(m,v)=>{for(var S=0,E="";!(S>=v/4);){var T=ne[m+4*S>>2];if(T==0)break;++S,65536<=T?(T-=65536,E+=String.fromCharCode(55296|T>>10,56320|T&1023)):E+=String.fromCharCode(T)}return E},Np=(m,v,S)=>{if(S===void 0&&(S=2147483647),4>S)return 0;var E=v;S=E+S-4;for(var T=0;T<m.length;++T){var N=m.charCodeAt(T);if(55296<=N&&57343>=N){var z=m.charCodeAt(++T);N=65536+((N&1023)<<10)|z&1023}if(ne[v>>2]=N,v+=4,v+4>S)break}return ne[v>>2]=0,v-E},Dp=m=>{for(var v=0,S=0;S<m.length;++S){var E=m.charCodeAt(S);55296<=E&&57343>=E&&++S,v+=4}return v},Lp={};function Sa(m){var v=Lp[m];return v===void 0?Xe(m):v}var Oa=[];function Fp(m){var v=Oa.length;return Oa.push(m),v}function Bp(m,v){for(var S=Array(m),E=0;E<m;++E)S[E]=Ji(Y[v+4*E>>2],"parameter "+E);return S}var Nc=[],Zs={},Dc=()=>{if(!eu){var m={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:A||"./this.program"},v;for(v in Zs)Zs[v]===void 0?delete m[v]:m[v]=Zs[v];var S=[];for(v in m)S.push(`${v}=${m[v]}`);eu=S}return eu},eu,Up=[null,[],[]],Ea=m=>m%4===0&&(m%100!==0||m%400===0),Lc=[31,29,31,30,31,30,31,31,30,31,30,31],Fc=[31,28,31,30,31,30,31,31,30,31,30,31];function Wp(m){var v=Array(Tc(m)+1);return Rc(m,v,0,v.length),v}var zp=(m,v,S,E)=>{function T(I,J,ce){for(I=typeof I=="number"?I.toString():I||"";I.length<J;)I=ce[0]+I;return I}function N(I,J){return T(I,J,"0")}function z(I,J){function ce(je){return 0>je?-1:0<je?1:0}var te;return(te=ce(I.getFullYear()-J.getFullYear()))===0&&(te=ce(I.getMonth()-J.getMonth()))===0&&(te=ce(I.getDate()-J.getDate())),te}function W(I){switch(I.getDay()){case 0:return new Date(I.getFullYear()-1,11,29);case 1:return I;case 2:return new Date(I.getFullYear(),0,3);case 3:return new Date(I.getFullYear(),0,2);case 4:return new Date(I.getFullYear(),0,1);case 5:return new Date(I.getFullYear()-1,11,31);case 6:return new Date(I.getFullYear()-1,11,30)}}function q(I){var J=I.ta;for(I=new Date(new Date(I.ua+1900,0,1).getTime());0<J;){var ce=I.getMonth(),te=(Ea(I.getFullYear())?Lc:Fc)[ce];if(J>te-I.getDate())J-=te-I.getDate()+1,I.setDate(1),11>ce?I.setMonth(ce+1):(I.setMonth(0),I.setFullYear(I.getFullYear()+1));else{I.setDate(I.getDate()+J);break}}return ce=new Date(I.getFullYear()+1,0,4),J=W(new Date(I.getFullYear(),0,4)),ce=W(ce),0>=z(J,I)?0>=z(ce,I)?I.getFullYear()+1:I.getFullYear():I.getFullYear()-1}var U=ne[E+40>>2];E={$b:ne[E>>2],Zb:ne[E+4>>2],Ia:ne[E+8>>2],Ra:ne[E+12>>2],Ja:ne[E+16>>2],ua:ne[E+20>>2],na:ne[E+24>>2],ta:ne[E+28>>2],dc:ne[E+32>>2],Yb:ne[E+36>>2],ac:U&&U?wa(F,U):""},S=S?wa(F,S):"",U={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var ee in U)S=S.replace(new RegExp(ee,"g"),U[ee]);var ie="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),ye="January February March April May June July August September October November December".split(" ");U={"%a":I=>ie[I.na].substring(0,3),"%A":I=>ie[I.na],"%b":I=>ye[I.Ja].substring(0,3),"%B":I=>ye[I.Ja],"%C":I=>N((I.ua+1900)/100|0,2),"%d":I=>N(I.Ra,2),"%e":I=>T(I.Ra,2," "),"%g":I=>q(I).toString().substring(2),"%G":I=>q(I),"%H":I=>N(I.Ia,2),"%I":I=>(I=I.Ia,I==0?I=12:12<I&&(I-=12),N(I,2)),"%j":I=>{for(var J=0,ce=0;ce<=I.Ja-1;J+=(Ea(I.ua+1900)?Lc:Fc)[ce++]);return N(I.Ra+J,3)},"%m":I=>N(I.Ja+1,2),"%M":I=>N(I.Zb,2),"%n":()=>`
`,"%p":I=>0<=I.Ia&&12>I.Ia?"AM":"PM","%S":I=>N(I.$b,2),"%t":()=>"	","%u":I=>I.na||7,"%U":I=>N(Math.floor((I.ta+7-I.na)/7),2),"%V":I=>{var J=Math.floor((I.ta+7-(I.na+6)%7)/7);if(2>=(I.na+371-I.ta-2)%7&&J++,J)J==53&&(ce=(I.na+371-I.ta)%7,ce==4||ce==3&&Ea(I.ua)||(J=1));else{J=52;var ce=(I.na+7-I.ta-1)%7;(ce==4||ce==5&&Ea(I.ua%400-1))&&J++}return N(J,2)},"%w":I=>I.na,"%W":I=>N(Math.floor((I.ta+7-(I.na+6)%7)/7),2),"%y":I=>(I.ua+1900).toString().substring(2),"%Y":I=>I.ua+1900,"%z":I=>{I=I.Yb;var J=0<=I;return I=Math.abs(I)/60,(J?"+":"-")+("0000"+(I/60*100+I%60)).slice(-4)},"%Z":I=>I.ac,"%%":()=>"%"},S=S.replace(/%%/g,"\0\0");for(ee in U)S.includes(ee)&&(S=S.replace(new RegExp(ee,"g"),U[ee](E)));return S=S.replace(/\0\0/g,"%"),ee=Wp(S),ee.length>v?0:(L.set(ee,m),ee.length-1)};Object.assign(_c.prototype,{get(m){return this.qa[m]},has(m){return this.qa[m]!==void 0},ub(m){var v=this.eb.pop()||this.qa.length;return this.qa[v]=m,v},xb(m){this.qa[m]=void 0,this.eb.push(m)}}),ii=h.BindingError=class extends Error{constructor(m){super(m),this.name="BindingError"}},er.qa.push({value:void 0},{value:null},{value:!0},{value:!1}),er.Za=er.qa.length,h.count_emval_handles=function(){for(var m=0,v=er.Za;v<er.qa.length;++v)er.qa[v]!==void 0&&++m;return m},Sc=h.PureVirtualError=wc("PureVirtualError");for(var Bc=Array(256),Pa=0;256>Pa;++Pa)Bc[Pa]=String.fromCharCode(Pa);Oc=Bc,h.getInheritedInstanceCount=function(){return Object.keys(Mr).length},h.getLiveInheritedInstances=function(){var m=[],v;for(v in Mr)Mr.hasOwnProperty(v)&&m.push(Mr[v]);return m},h.flushPendingDeletes=Vs,h.setDelayFunction=function(m){Xi=m,Gi.length&&Xi&&Xi(Vs)},kc=h.InternalError=class extends Error{constructor(m){super(m),this.name="InternalError"}},on.prototype.isAliasOf=function(m){if(!(this instanceof on&&m instanceof on))return!1;var v=this.ba.ea.ca,S=this.ba.da,E=m.ba.ea.ca;for(m=m.ba.da;v.fa;)S=v.Ba(S),v=v.fa;for(;E.fa;)m=E.Ba(m),E=E.fa;return v===E&&S===m},on.prototype.clone=function(){if(this.ba.da||Qs(this),this.ba.ya)return this.ba.count.value+=1,this;var m=oi,v=Object,S=v.create,E=Object.getPrototypeOf(this),T=this.ba;return m=m(S.call(v,E,{ba:{value:{count:T.count,wa:T.wa,ya:T.ya,da:T.da,ea:T.ea,ia:T.ia,la:T.la}}})),m.ba.count.value+=1,m.ba.wa=!1,m},on.prototype.delete=function(){this.ba.da||Qs(this),this.ba.wa&&!this.ba.ya&&_e("Object already scheduled for deletion"),da(this),Pc(this.ba),this.ba.ya||(this.ba.ia=void 0,this.ba.da=void 0)},on.prototype.isDeleted=function(){return!this.ba.da},on.prototype.deleteLater=function(){return this.ba.da||Qs(this),this.ba.wa&&!this.ba.ya&&_e("Object already scheduled for deletion"),Gi.push(this),Gi.length===1&&Xi&&Xi(Vs),this.ba.wa=!0,this},Ir.prototype.Hb=function(m){return this.jb&&(m=this.jb(m)),m},Ir.prototype.$a=function(m){this.ra&&this.ra(m)},Ir.prototype.argPackAdvance=8,Ir.prototype.readValueFromPointer=eo,Ir.prototype.deleteObject=function(m){m!==null&&m.delete()},Ir.prototype.fromWireType=function(m){function v(){return this.Ea?va(this.ca.ma,{ea:this.Sb,da:S,la:this,ia:m}):va(this.ca.ma,{ea:this,da:m})}var S=this.Hb(m);if(!S)return this.$a(m),null;var E=Sp(this.ca,S);if(E!==void 0)return E.ba.count.value===0?(E.ba.da=S,E.ba.ia=m,E.clone()):(E=E.clone(),this.$a(m),E);if(E=this.ca.Gb(S),E=jc[E],!E)return v.call(this);E=this.Da?E.vb:E.pointerType;var T=xc(S,this.ca,E.ca);return T===null?v.call(this):this.Ea?va(E.ca.ma,{ea:E,da:T,la:this,ia:m}):va(E.ca.ma,{ea:E,da:T})},$c=h.UnboundTypeError=wc("UnboundTypeError");var Kp={N:function(m,v,S){m=Xe(m),v=Ji(v,"wrapper"),S=lr(S);var E=[].slice,T=v.ca,N=T.ma,z=T.fa.ma,W=T.fa.constructor;m=fa(m,function(){T.fa.ib.forEach((function(U){if(this[U]===z[U])throw new Sc(`Pure virtual function ${U} must be implemented in JavaScript`)}).bind(this)),Object.defineProperty(this,"__parent",{value:N}),this.__construct.apply(this,E.call(arguments))}),N.__construct=function(){this===N&&_e("Pass correct 'this' to __construct");var U=W.implement.apply(void 0,[this].concat(E.call(arguments)));da(U);var ee=U.ba;U.notifyOnDestruction(),ee.ya=!0,Object.defineProperties(this,{ba:{value:ee}}),oi(this),U=ee.da,U=qs(T,U),Mr.hasOwnProperty(U)?_e(`Tried to register registered instance: ${U}`):Mr[U]=this},N.__destruct=function(){this===N&&_e("Pass correct 'this' to __destruct"),da(this);var U=this.ba.da;U=qs(T,U),Mr.hasOwnProperty(U)?delete Mr[U]:_e(`Tried to unregister unregistered instance: ${U}`)},m.prototype=Object.create(N);for(var q in S)m.prototype[q]=S[q];return _r(m)},O:function(m){var v=pa[m];delete pa[m];var S=v.Pa,E=v.ra,T=v.cb,N=T.map(z=>z.Kb).concat(T.map(z=>z.Vb));Vt([m],N,z=>{var W={};return T.forEach((q,U)=>{var ee=z[U],ie=q.Ib,ye=q.Jb,I=z[U+T.length],J=q.Ub,ce=q.Wb;W[q.Eb]={read:te=>ee.fromWireType(ie(ye,te)),write:(te,je)=>{var le=[];J(ce,te,I.toWireType(le,je)),Zi(le)}}}),[{name:v.name,fromWireType:function(q){var U={},ee;for(ee in W)U[ee]=W[ee].read(q);return E(q),U},toWireType:function(q,U){for(var ee in W)if(!(ee in U))throw new TypeError(`Missing field: "${ee}"`);var ie=S();for(ee in W)W[ee].write(ie,U[ee]);return q!==null&&q.push(E,ie),ie},argPackAdvance:8,readValueFromPointer:eo,ka:E}]})},C:function(){},K:function(m,v,S,E,T){var N=ya(S);v=Xe(v),wr(m,{name:v,fromWireType:function(z){return!!z},toWireType:function(z,W){return W?E:T},argPackAdvance:8,readValueFromPointer:function(z){if(S===1)var W=L;else if(S===2)W=K;else if(S===4)W=ne;else throw new TypeError("Unknown boolean type size: "+v);return this.fromWireType(W[z>>N])},ka:null})},f:function(m,v,S,E,T,N,z,W,q,U,ee,ie,ye){ee=Xe(ee),N=Pt(T,N),W&&(W=Pt(z,W)),U&&(U=Pt(q,U)),ye=Pt(ie,ye);var I=bc(ee);Gs(I,function(){Nr(`Cannot construct ${ee} due to unbound types`,[E])}),Vt([m,v,S],E?[E]:[],function(J){if(J=J[0],E)var ce=J.ca,te=ce.ma;else te=on.prototype;J=fa(I,function(){if(Object.getPrototypeOf(this)!==je)throw new ii("Use 'new' to construct "+ee);if(le.sa===void 0)throw new ii(ee+" has no accessible constructor");var ze=le.sa[arguments.length];if(ze===void 0)throw new ii(`Tried to invoke ctor of ${ee} with invalid number of parameters (${arguments.length}) - expected (${Object.keys(le.sa).toString()}) parameters instead!`);return ze.apply(this,arguments)});var je=Object.create(te,{constructor:{value:J}});J.prototype=je;var le=new Ep(ee,J,je,ye,ce,N,W,U);le.fa&&(le.fa.Ca===void 0&&(le.fa.Ca=[]),le.fa.Ca.push(le)),ce=new Ir(ee,le,!0,!1),te=new Ir(ee+"*",le,!1,!1);var Ae=new Ir(ee+" const*",le,!1,!0);return jc[m]={pointerType:te,vb:Ae},Cc(I,J),[ce,te,Ae]})},j:function(m,v,S,E,T,N,z){var W=_a(S,E);v=Xe(v),N=Pt(T,N),Vt([],[m],function(q){function U(){Nr(`Cannot call ${ee} due to unbound types`,W)}q=q[0];var ee=`${q.name}.${v}`;v.startsWith("@@")&&(v=Symbol[v.substring(2)]);var ie=q.ca.constructor;return ie[v]===void 0?(U.va=S-1,ie[v]=U):(Ys(ie,v,ee),ie[v].ga[S-1]=U),Vt([],W,function(ye){if(ye=ba(ee,[ye[0],null].concat(ye.slice(1)),null,N,z),ie[v].ga===void 0?(ye.va=S-1,ie[v]=ye):ie[v].ga[S-1]=ye,q.ca.Ca)for(const I of q.ca.Ca)I.constructor.hasOwnProperty(v)||(I.constructor[v]=ye);return[]}),[]})},x:function(m,v,S,E,T,N,z,W){v=Xe(v),N=Pt(T,N),Vt([],[m],function(q){q=q[0];var U=`${q.name}.${v}`,ee={get(){Nr(`Cannot access ${U} due to unbound types`,[S])},enumerable:!0,configurable:!0};return ee.set=W?()=>{Nr(`Cannot access ${U} due to unbound types`,[S])}:()=>{_e(`${U} is a read-only property`)},Object.defineProperty(q.ca.constructor,v,ee),Vt([],[S],function(ie){ie=ie[0];var ye={get(){return ie.fromWireType(N(E))},enumerable:!0};return W&&(W=Pt(z,W),ye.set=I=>{var J=[];W(E,ie.toWireType(J,I)),Zi(J)}),Object.defineProperty(q.ca.constructor,v,ye),[]}),[]})},s:function(m,v,S,E,T,N){var z=_a(v,S);T=Pt(E,T),Vt([],[m],function(W){W=W[0];var q=`constructor ${W.name}`;if(W.ca.sa===void 0&&(W.ca.sa=[]),W.ca.sa[v-1]!==void 0)throw new ii(`Cannot register multiple constructors with identical number of parameters (${v-1}) for class '${W.name}'! Overload resolution is currently only performed using the parameter count, not actual type info!`);return W.ca.sa[v-1]=()=>{Nr(`Cannot construct ${W.name} due to unbound types`,z)},Vt([],z,function(U){return U.splice(1,0,null),W.ca.sa[v-1]=ba(q,U,null,T,N),[]}),[]})},a:function(m,v,S,E,T,N,z,W){var q=_a(S,E);v=Xe(v),N=Pt(T,N),Vt([],[m],function(U){function ee(){Nr(`Cannot call ${ie} due to unbound types`,q)}U=U[0];var ie=`${U.name}.${v}`;v.startsWith("@@")&&(v=Symbol[v.substring(2)]),W&&U.ca.ib.push(v);var ye=U.ca.ma,I=ye[v];return I===void 0||I.ga===void 0&&I.className!==U.name&&I.va===S-2?(ee.va=S-2,ee.className=U.name,ye[v]=ee):(Ys(ye,v,ie),ye[v].ga[S-2]=ee),Vt([],q,function(J){return J=ba(ie,J,U,N,z),ye[v].ga===void 0?(J.va=S-2,ye[v]=J):ye[v].ga[S-2]=J,[]}),[]})},e:function(m,v,S,E,T,N,z,W,q,U){v=Xe(v),T=Pt(E,T),Vt([],[m],function(ee){ee=ee[0];var ie=`${ee.name}.${v}`,ye={get(){Nr(`Cannot access ${ie} due to unbound types`,[S,z])},enumerable:!0,configurable:!0};return ye.set=q?()=>{Nr(`Cannot access ${ie} due to unbound types`,[S,z])}:()=>{_e(ie+" is a read-only property")},Object.defineProperty(ee.ca.ma,v,ye),Vt([],q?[S,z]:[S],function(I){var J=I[0],ce={get(){var je=Ac(this,ee,ie+" getter");return J.fromWireType(T(N,je))},enumerable:!0};if(q){q=Pt(W,q);var te=I[1];ce.set=function(je){var le=Ac(this,ee,ie+" setter"),Ae=[];q(U,le,te.toWireType(Ae,je)),Zi(Ae)}}return Object.defineProperty(ee.ca.ma,v,ce),[]}),[]})},J:function(m,v){v=Xe(v),wr(m,{name:v,fromWireType:function(S){var E=lr(S);return Xs(S),E},toWireType:function(S,E){return _r(E)},argPackAdvance:8,readValueFromPointer:eo,ka:null})},p:function(m,v,S,E){function T(){}S=ya(S),v=Xe(v),T.values={},wr(m,{name:v,constructor:T,fromWireType:function(N){return this.constructor.values[N]},toWireType:function(N,z){return z.value},argPackAdvance:8,readValueFromPointer:Cp(v,S,E),ka:null}),Gs(v,T)},d:function(m,v,S){var E=Ji(m,"enum");v=Xe(v),m=E.constructor,E=Object.create(E.constructor.prototype,{value:{value:S},constructor:{value:fa(`${E.name}_${v}`,function(){})}}),m.values[S]=E,m[v]=E},y:function(m,v,S){S=ya(S),v=Xe(v),wr(m,{name:v,fromWireType:function(E){return E},toWireType:function(E,T){return T},argPackAdvance:8,readValueFromPointer:$p(v,S),ka:null})},m:function(m,v,S,E,T,N){var z=_a(v,S);m=Xe(m),T=Pt(E,T),Gs(m,function(){Nr(`Cannot call ${m} due to unbound types`,z)},v-1),Vt([],z,function(W){return Cc(m,ba(m,[W[0],null].concat(W.slice(1)),null,T,N),v-1),[]})},l:function(m,v,S,E,T){v=Xe(v),T===-1&&(T=4294967295),T=ya(S);var N=W=>W;if(E===0){var z=32-8*S;N=W=>W<<z>>>z}S=v.includes("unsigned")?function(W,q){return q>>>0}:function(W,q){return q},wr(m,{name:v,fromWireType:N,toWireType:S,argPackAdvance:8,readValueFromPointer:Ap(v,T,E!==0),ka:null})},g:function(m,v,S){function E(N){N>>=2;var z=Y;return new T(z.buffer,z[N+1],z[N])}var T=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][v];S=Xe(S),wr(m,{name:S,fromWireType:E,argPackAdvance:8,readValueFromPointer:E},{Lb:!0})},z:function(m,v){v=Xe(v);var S=v==="std::string";wr(m,{name:v,fromWireType:function(E){var T=Y[E>>2],N=E+4;if(S)for(var z=N,W=0;W<=T;++W){var q=N+W;if(W==T||F[q]==0){if(z=z?wa(F,z,q-z):"",U===void 0)var U=z;else U+="\0",U+=z;z=q+1}}else{for(U=Array(T),W=0;W<T;++W)U[W]=String.fromCharCode(F[N+W]);U=U.join("")}return Dr(E),U},toWireType:function(E,T){T instanceof ArrayBuffer&&(T=new Uint8Array(T));var N=typeof T=="string";N||T instanceof Uint8Array||T instanceof Uint8ClampedArray||T instanceof Int8Array||_e("Cannot pass non-string to std::string");var z=S&&N?Tc(T):T.length,W=tu(4+z+1),q=W+4;if(Y[W>>2]=z,S&&N)Rc(T,F,q,z+1);else if(N)for(N=0;N<z;++N){var U=T.charCodeAt(N);255<U&&(Dr(q),_e("String has UTF-16 code units that do not fit in 8 bits")),F[q+N]=U}else for(N=0;N<z;++N)F[q+N]=T[N];return E!==null&&E.push(Dr,W),W},argPackAdvance:8,readValueFromPointer:eo,ka:function(E){Dr(E)}})},u:function(m,v,S){if(S=Xe(S),v===2)var E=Rp,T=Tp,N=Mp,z=()=>Z,W=1;else v===4&&(E=Ip,T=Np,N=Dp,z=()=>Y,W=2);wr(m,{name:S,fromWireType:function(q){for(var U=Y[q>>2],ee=z(),ie,ye=q+4,I=0;I<=U;++I){var J=q+4+I*v;(I==U||ee[J>>W]==0)&&(ye=E(ye,J-ye),ie===void 0?ie=ye:(ie+="\0",ie+=ye),ye=J+v)}return Dr(q),ie},toWireType:function(q,U){typeof U!="string"&&_e(`Cannot pass non-string to C++ string type ${S}`);var ee=N(U),ie=tu(4+ee+v);return Y[ie>>2]=ee>>W,T(U,ie+4,ee+v),q!==null&&q.push(Dr,ie),ie},argPackAdvance:8,readValueFromPointer:eo,ka:function(q){Dr(q)}})},Q:function(m,v,S,E,T,N){pa[m]={name:Xe(v),Pa:Pt(S,E),ra:Pt(T,N),cb:[]}},P:function(m,v,S,E,T,N,z,W,q,U){pa[m].cb.push({Eb:Xe(v),Kb:S,Ib:Pt(E,T),Jb:N,Vb:z,Ub:Pt(W,q),Wb:U})},L:function(m,v){v=Xe(v),wr(m,{Nb:!0,name:v,argPackAdvance:0,fromWireType:function(){},toWireType:function(){}})},v:function(m,v,S){m=lr(m),v=Ji(v,"emval::as");var E=[],T=_r(E);return Y[S>>2]=T,v.toWireType(E,m)},w:function(m,v,S,E,T){m=Oa[m],v=lr(v),S=Sa(S);var N=[];return Y[E>>2]=_r(N),m(v,S,N,T)},i:function(m,v,S,E){m=Oa[m],v=lr(v),S=Sa(S),m(v,S,null,E)},c:Xs,h:function(m,v){var S=Bp(m,v),E=S[0];v=E.name+"_$"+S.slice(1).map(function(z){return z.name}).join("_")+"$";var T=Nc[v];if(T!==void 0)return T;var N=Array(m-1);return T=Fp((z,W,q,U)=>{for(var ee=0,ie=0;ie<m-1;++ie)N[ie]=S[ie+1].readValueFromPointer(U+ee),ee+=S[ie+1].argPackAdvance;for(z=z[W].apply(z,N),ie=0;ie<m-1;++ie)S[ie+1].zb&&S[ie+1].zb(N[ie]);if(!E.Nb)return E.toWireType(q,z)}),Nc[v]=T},t:function(m){return m=Sa(m),_r(h[m])},M:function(m,v){return m=lr(m),v=lr(v),_r(m[v])},n:function(m){4<m&&(er.get(m).kb+=1)},o:function(m){return _r(Sa(m))},A:function(){return _r({})},q:function(m){var v=lr(m);Zi(v),Xs(m)},k:function(m,v,S){m=lr(m),v=lr(v),S=lr(S),m[v]=S},r:function(m,v){return m=Ji(m,"_emval_take_value"),m=m.readValueFromPointer(v),_r(m)},b:()=>{Ye("")},E:m=>{var v=F.length;if(m>>>=0,2147483648<m)return!1;for(var S=1;4>=S;S*=2){var E=v*(1+.2/S);E=Math.min(E,m+100663296);var T=Math;E=Math.max(m,E);e:{T=T.min.call(T,2147483648,E+(65536-E%65536)%65536)-y.buffer.byteLength+65535>>>16;try{y.grow(T),Fe();var N=1;break e}catch{}N=void 0}if(N)return!0}return!1},F:(m,v)=>{var S=0;return Dc().forEach(function(E,T){var N=v+S;for(T=Y[m+4*T>>2]=N,N=0;N<E.length;++N)L[T++>>0]=E.charCodeAt(N);L[T>>0]=0,S+=E.length+1}),0},G:(m,v)=>{var S=Dc();Y[m>>2]=S.length;var E=0;return S.forEach(function(T){E+=T.length+1}),Y[v>>2]=E,0},H:()=>52,B:function(){return 70},I:(m,v,S,E)=>{for(var T=0,N=0;N<S;N++){var z=Y[v>>2],W=Y[v+4>>2];v+=8;for(var q=0;q<W;q++){var U=F[z+q],ee=Up[m];U===0||U===10?((m===1?he:pe)(wa(ee,0)),ee.length=0):ee.push(U)}T+=W}return Y[E>>2]=T,0},D:(m,v,S,E)=>zp(m,v,S,E)};(function(){function m(S){if(k=S=S.exports,y=k.R,Fe(),We=k.X,zt.unshift(k.S),Kt--,h.monitorRunDependencies&&h.monitorRunDependencies(Kt),Kt==0&&pt){var E=pt;pt=null,E()}return S}var v={a:Kp};if(Kt++,h.monitorRunDependencies&&h.monitorRunDependencies(Kt),h.instantiateWasm)try{return h.instantiateWasm(v,m)}catch(S){pe("Module.instantiateWasm callback failed with error: "+S),_(S)}return wp(v,function(S){m(S.instance)}).catch(_),{}})();var Dr=m=>(Dr=k.T)(m),tu=m=>(tu=k.U)(m),Uc=m=>(Uc=k.V)(m);h.__embind_initialize_bindings=()=>(h.__embind_initialize_bindings=k.W)(),h.dynCall_jiji=(m,v,S,E,T)=>(h.dynCall_jiji=k.Y)(m,v,S,E,T),h.dynCall_viijii=(m,v,S,E,T,N,z)=>(h.dynCall_viijii=k.Z)(m,v,S,E,T,N,z),h.dynCall_iiiiij=(m,v,S,E,T,N,z)=>(h.dynCall_iiiiij=k._)(m,v,S,E,T,N,z),h.dynCall_iiiiijj=(m,v,S,E,T,N,z,W,q)=>(h.dynCall_iiiiijj=k.$)(m,v,S,E,T,N,z,W,q),h.dynCall_iiiiiijj=(m,v,S,E,T,N,z,W,q,U)=>(h.dynCall_iiiiiijj=k.aa)(m,v,S,E,T,N,z,W,q,U);var xa;pt=function m(){xa||Wc(),xa||(pt=m)};function Wc(){function m(){if(!xa&&(xa=!0,h.calledRun=!0,!R)){if(Ks(zt),b(h),h.onRuntimeInitialized&&h.onRuntimeInitialized(),h.postRun)for(typeof h.postRun=="function"&&(h.postRun=[h.postRun]);h.postRun.length;){var v=h.postRun.shift();nn.unshift(v)}Ks(nn)}}if(!(0<Kt)){if(h.preRun)for(typeof h.preRun=="function"&&(h.preRun=[h.preRun]);h.preRun.length;)ri();Ks(Et),0<Kt||(h.setStatus?(h.setStatus("Running..."),setTimeout(function(){setTimeout(function(){h.setStatus("")},1),m()},1)):m())}}if(h.preInit)for(typeof h.preInit=="function"&&(h.preInit=[h.preInit]);0<h.preInit.length;)h.preInit.pop()();return Wc(),f.ready}})();const c=l},a=>{a.exports=JSON.parse(`{"name":"@rive-app/canvas-lite","version":"2.9.0","description":"A lite version of Rive's canvas based web api.","main":"rive.js","homepage":"https://rive.app","repository":{"type":"git","url":"https://github.com/rive-app/rive-wasm/tree/master/js"},"keywords":["rive","animation"],"author":"Rive","contributors":["Luigi Rosso <luigi@rive.app> (https://rive.app)","Maxwell Talbot <max@rive.app> (https://rive.app)","Arthur Vivian <arthur@rive.app> (https://rive.app)","Umberto Sonnino <umberto@rive.app> (https://rive.app)","Matthew Sullivan <matt.j.sullivan@gmail.com> (mailto:matt.j.sullivan@gmail.com)"],"license":"MIT","files":["rive.js","rive.js.map","rive.wasm","rive.d.ts","rive_advanced.mjs.d.ts"],"typings":"rive.d.ts","dependencies":{},"browser":{"fs":false,"path":false}}`)},(a,s,u)=>{u.r(s),u.d(s,{BLANK_URL:()=>c.BLANK_URL,registerTouchInteractions:()=>l.registerTouchInteractions,sanitizeUrl:()=>c.sanitizeUrl});var l=u(4),c=u(5)},(a,s,u)=>{u.r(s),u.d(s,{registerTouchInteractions:()=>d});var l=void 0,c=function(f){var h,b;return["touchstart","touchmove"].indexOf(f.type)>-1&&(!((h=f.touches)===null||h===void 0)&&h.length)?(f.preventDefault(),{clientX:f.touches[0].clientX,clientY:f.touches[0].clientY}):f.type==="touchend"&&(!((b=f.changedTouches)===null||b===void 0)&&b.length)?{clientX:f.changedTouches[0].clientX,clientY:f.changedTouches[0].clientY}:{clientX:f.clientX,clientY:f.clientY}},d=function(f){var h=f.canvas,b=f.artboard,_=f.stateMachines,j=_===void 0?[]:_,g=f.renderer,p=f.rive,O=f.fit,x=f.alignment;if(!h||!j.length||!g||!p||!b||typeof window>"u")return null;var P=function(A){var D=A.currentTarget.getBoundingClientRect(),B=c(A),V=B.clientX,X=B.clientY;if(!(!V&&!X)){var fe=V-D.left,he=X-D.top,pe=p.computeAlignment(O,x,{minX:0,minY:0,maxX:D.width,maxY:D.height},b.bounds),$=new p.Mat2D;pe.invert($);var y=new p.Vec2D(fe,he),k=p.mapXY($,y),R=k.x(),L=k.y();switch(k.delete(),$.delete(),y.delete(),pe.delete(),A.type){case"mouseout":for(var F=0,K=j;F<K.length;F++){var Z=K[F];Z.pointerMove(R<0?R-1e4:R+1e4,L<0?L-1e4:L+1e4)}break;case"touchmove":case"mouseover":case"mousemove":{for(var ne=0,Y=j;ne<Y.length;ne++){var Z=Y[ne];Z.pointerMove(R,L)}break}case"touchstart":case"mousedown":{for(var me=0,Se=j;me<Se.length;me++){var Z=Se[me];Z.pointerDown(R,L)}break}case"touchend":case"mouseup":{for(var Fe=0,We=j;Fe<We.length;Fe++){var Z=We[Fe];Z.pointerUp(R,L)}break}}}},C=P.bind(l);return h.addEventListener("mouseover",C),h.addEventListener("mouseout",C),h.addEventListener("mousemove",C),h.addEventListener("mousedown",C),h.addEventListener("mouseup",C),h.addEventListener("touchmove",C),h.addEventListener("touchstart",C),h.addEventListener("touchend",C),function(){h.removeEventListener("mouseover",C),h.removeEventListener("mouseout",C),h.removeEventListener("mousemove",C),h.removeEventListener("mousedown",C),h.removeEventListener("mouseup",C),h.removeEventListener("touchmove",C),h.removeEventListener("touchstart",C),h.removeEventListener("touchend",C)}}},(a,s,u)=>{u.r(s),u.d(s,{BLANK_URL:()=>_,sanitizeUrl:()=>p});var l=/^([^\w]*)(javascript|data|vbscript)/im,c=/&#(\w+)(^\w|;)?/g,d=/&(newline|tab);/gi,f=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,h=/^.+(:|&colon;)/gim,b=[".","/"],_="about:blank";function j(O){return b.indexOf(O[0])>-1}function g(O){var x=O.replace(f,"");return x.replace(c,function(P,C){return String.fromCharCode(C)})}function p(O){if(!O)return _;var x=g(O).replace(d,"").replace(f,"").trim();if(!x)return _;if(j(x))return x;var P=x.match(h);if(!P)return x;var C=P[0];return l.test(C)?_:x}}],n={};function i(a){var s=n[a];if(s!==void 0)return s.exports;var u=n[a]={exports:{}};return r[a](u,u.exports,i),u.exports}i.d=(a,s)=>{for(var u in s)i.o(s,u)&&!i.o(a,u)&&Object.defineProperty(a,u,{enumerable:!0,get:s[u]})},i.o=(a,s)=>Object.prototype.hasOwnProperty.call(a,s),i.r=a=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})};var o={};return(()=>{i.r(o),i.d(o,{Alignment:()=>f,EventType:()=>P,Fit:()=>d,Layout:()=>h,LoopType:()=>C,Rive:()=>B,RiveEventType:()=>p,RuntimeLoader:()=>b,StateMachineInput:()=>g,StateMachineInputType:()=>j,Testing:()=>fe,decodeFont:()=>pe,decodeImage:()=>he});var a=i(1),s=i(2),u=i(3),l=function($,y,k,R){function L(F){return F instanceof k?F:new k(function(K){K(F)})}return new(k||(k=Promise))(function(F,K){function Z(me){try{Y(R.next(me))}catch(Se){K(Se)}}function ne(me){try{Y(R.throw(me))}catch(Se){K(Se)}}function Y(me){me.done?F(me.value):L(me.value).then(Z,ne)}Y((R=R.apply($,y||[])).next())})},c=function($,y){var k={label:0,sent:function(){if(F[0]&1)throw F[1];return F[1]},trys:[],ops:[]},R,L,F,K;return K={next:Z(0),throw:Z(1),return:Z(2)},typeof Symbol=="function"&&(K[Symbol.iterator]=function(){return this}),K;function Z(Y){return function(me){return ne([Y,me])}}function ne(Y){if(R)throw new TypeError("Generator is already executing.");for(;K&&(K=0,Y[0]&&(k=0)),k;)try{if(R=1,L&&(F=Y[0]&2?L.return:Y[0]?L.throw||((F=L.return)&&F.call(L),0):L.next)&&!(F=F.call(L,Y[1])).done)return F;switch(L=0,F&&(Y=[Y[0]&2,F.value]),Y[0]){case 0:case 1:F=Y;break;case 4:return k.label++,{value:Y[1],done:!1};case 5:k.label++,L=Y[1],Y=[0];continue;case 7:Y=k.ops.pop(),k.trys.pop();continue;default:if(F=k.trys,!(F=F.length>0&&F[F.length-1])&&(Y[0]===6||Y[0]===2)){k=0;continue}if(Y[0]===3&&(!F||Y[1]>F[0]&&Y[1]<F[3])){k.label=Y[1];break}if(Y[0]===6&&k.label<F[1]){k.label=F[1],F=Y;break}if(F&&k.label<F[2]){k.label=F[2],k.ops.push(Y);break}F[2]&&k.ops.pop(),k.trys.pop();continue}Y=y.call($,k)}catch(me){Y=[6,me],L=0}finally{R=F=0}if(Y[0]&5)throw Y[1];return{value:Y[0]?Y[1]:void 0,done:!0}}},d;(function($){$.Cover="cover",$.Contain="contain",$.Fill="fill",$.FitWidth="fitWidth",$.FitHeight="fitHeight",$.None="none",$.ScaleDown="scaleDown"})(d||(d={}));var f;(function($){$.Center="center",$.TopLeft="topLeft",$.TopCenter="topCenter",$.TopRight="topRight",$.CenterLeft="centerLeft",$.CenterRight="centerRight",$.BottomLeft="bottomLeft",$.BottomCenter="bottomCenter",$.BottomRight="bottomRight"})(f||(f={}));var h=function(){function $(y){var k,R,L,F,K,Z;this.fit=(k=y==null?void 0:y.fit)!==null&&k!==void 0?k:d.Contain,this.alignment=(R=y==null?void 0:y.alignment)!==null&&R!==void 0?R:f.Center,this.minX=(L=y==null?void 0:y.minX)!==null&&L!==void 0?L:0,this.minY=(F=y==null?void 0:y.minY)!==null&&F!==void 0?F:0,this.maxX=(K=y==null?void 0:y.maxX)!==null&&K!==void 0?K:0,this.maxY=(Z=y==null?void 0:y.maxY)!==null&&Z!==void 0?Z:0}return $.new=function(y){var k=y.fit,R=y.alignment,L=y.minX,F=y.minY,K=y.maxX,Z=y.maxY;return console.warn("This function is deprecated: please use `new Layout({})` instead"),new $({fit:k,alignment:R,minX:L,minY:F,maxX:K,maxY:Z})},$.prototype.copyWith=function(y){var k=y.fit,R=y.alignment,L=y.minX,F=y.minY,K=y.maxX,Z=y.maxY;return new $({fit:k??this.fit,alignment:R??this.alignment,minX:L??this.minX,minY:F??this.minY,maxX:K??this.maxX,maxY:Z??this.maxY})},$.prototype.runtimeFit=function(y){if(this.cachedRuntimeFit)return this.cachedRuntimeFit;var k;return this.fit===d.Cover?k=y.Fit.cover:this.fit===d.Contain?k=y.Fit.contain:this.fit===d.Fill?k=y.Fit.fill:this.fit===d.FitWidth?k=y.Fit.fitWidth:this.fit===d.FitHeight?k=y.Fit.fitHeight:this.fit===d.ScaleDown?k=y.Fit.scaleDown:k=y.Fit.none,this.cachedRuntimeFit=k,k},$.prototype.runtimeAlignment=function(y){if(this.cachedRuntimeAlignment)return this.cachedRuntimeAlignment;var k;return this.alignment===f.TopLeft?k=y.Alignment.topLeft:this.alignment===f.TopCenter?k=y.Alignment.topCenter:this.alignment===f.TopRight?k=y.Alignment.topRight:this.alignment===f.CenterLeft?k=y.Alignment.centerLeft:this.alignment===f.CenterRight?k=y.Alignment.centerRight:this.alignment===f.BottomLeft?k=y.Alignment.bottomLeft:this.alignment===f.BottomCenter?k=y.Alignment.bottomCenter:this.alignment===f.BottomRight?k=y.Alignment.bottomRight:k=y.Alignment.center,this.cachedRuntimeAlignment=k,k},$}(),b=function(){function $(){}return $.loadRuntime=function(){a.default({locateFile:function(){return $.wasmURL}}).then(function(y){var k;for($.runtime=y;$.callBackQueue.length>0;)(k=$.callBackQueue.shift())===null||k===void 0||k($.runtime)}).catch(function(){var y="https://cdn.jsdelivr.net/npm/".concat(s.name,"@").concat(s.version,"/rive.wasm");$.wasmURL.toLowerCase()!==y?(console.warn("Failed to load WASM from ".concat($.wasmURL,", trying jsdelivr as a backup")),$.setWasmUrl(y),$.loadRuntime()):console.error("Could not load Rive WASM file from unpkg or jsdelivr, network connection may be down, or 	        you may need to call set a new WASM source via RuntimeLoader.setWasmUrl() and call 	        RuntimeLoader.loadRuntime() again")})},$.getInstance=function(y){$.isLoading||($.isLoading=!0,$.loadRuntime()),$.runtime?y($.runtime):$.callBackQueue.push(y)},$.awaitInstance=function(){return new Promise(function(y){return $.getInstance(function(k){return y(k)})})},$.setWasmUrl=function(y){$.wasmURL=y},$.isLoading=!1,$.callBackQueue=[],$.wasmURL="https://unpkg.com/".concat(s.name,"@").concat(s.version,"/rive.wasm"),$}(),_=function(){function $(y,k,R,L){this.animation=y,this.artboard=k,this.playing=L,this.loopCount=0,this.scrubTo=null,this.instance=new R.LinearAnimationInstance(y,k)}return Object.defineProperty($.prototype,"name",{get:function(){return this.animation.name},enumerable:!1,configurable:!0}),Object.defineProperty($.prototype,"time",{get:function(){return this.instance.time},set:function(y){this.instance.time=y},enumerable:!1,configurable:!0}),Object.defineProperty($.prototype,"loopValue",{get:function(){return this.animation.loopValue},enumerable:!1,configurable:!0}),$.prototype.advance=function(y){this.scrubTo===null?this.instance.advance(y):(this.instance.time=0,this.instance.advance(this.scrubTo),this.scrubTo=null)},$.prototype.apply=function(y){this.instance.apply(y)},Object.defineProperty($.prototype,"needsScrub",{get:function(){return this.scrubTo!==null},enumerable:!1,configurable:!0}),$.prototype.cleanup=function(){this.instance.delete()},$}(),j;(function($){$[$.Number=56]="Number",$[$.Trigger=58]="Trigger",$[$.Boolean=59]="Boolean"})(j||(j={}));var g=function(){function $(y,k){this.type=y,this.runtimeInput=k}return Object.defineProperty($.prototype,"name",{get:function(){return this.runtimeInput.name},enumerable:!1,configurable:!0}),Object.defineProperty($.prototype,"value",{get:function(){return this.runtimeInput.value},set:function(y){this.runtimeInput.value=y},enumerable:!1,configurable:!0}),$.prototype.fire=function(){this.type===j.Trigger&&this.runtimeInput.fire()},$}(),p;(function($){$[$.General=128]="General",$[$.OpenUrl=131]="OpenUrl"})(p||(p={}));var O=function(){function $(y,k,R,L){this.stateMachine=y,this.playing=R,this.artboard=L,this.inputs=[],this.instance=new k.StateMachineInstance(y,L),this.initInputs(k)}return Object.defineProperty($.prototype,"name",{get:function(){return this.stateMachine.name},enumerable:!1,configurable:!0}),Object.defineProperty($.prototype,"statesChanged",{get:function(){for(var y=[],k=0;k<this.instance.stateChangedCount();k++)y.push(this.instance.stateChangedNameByIndex(k));return y},enumerable:!1,configurable:!0}),$.prototype.advance=function(y){this.instance.advance(y)},$.prototype.reportedEventCount=function(){return this.instance.reportedEventCount()},$.prototype.reportedEventAt=function(y){return this.instance.reportedEventAt(y)},$.prototype.initInputs=function(y){for(var k=0;k<this.instance.inputCount();k++){var R=this.instance.input(k);this.inputs.push(this.mapRuntimeInput(R,y))}},$.prototype.mapRuntimeInput=function(y,k){if(y.type===k.SMIInput.bool)return new g(j.Boolean,y.asBool());if(y.type===k.SMIInput.number)return new g(j.Number,y.asNumber());if(y.type===k.SMIInput.trigger)return new g(j.Trigger,y.asTrigger())},$.prototype.cleanup=function(){this.instance.delete()},$}(),x=function(){function $(y,k,R,L,F){L===void 0&&(L=[]),F===void 0&&(F=[]),this.runtime=y,this.artboard=k,this.eventManager=R,this.animations=L,this.stateMachines=F}return $.prototype.add=function(y,k,R){if(R===void 0&&(R=!0),y=X(y),y.length===0)this.animations.forEach(function(We){return We.playing=k}),this.stateMachines.forEach(function(We){return We.playing=k});else for(var L=this.animations.map(function(We){return We.name}),F=this.stateMachines.map(function(We){return We.name}),K=0;K<y.length;K++){var Z=L.indexOf(y[K]),ne=F.indexOf(y[K]);if(Z>=0||ne>=0)Z>=0?this.animations[Z].playing=k:this.stateMachines[ne].playing=k;else{var Y=this.artboard.animationByName(y[K]);if(Y){var me=new _(Y,this.artboard,this.runtime,k);me.advance(0),me.apply(1),this.animations.push(me)}else{var Se=this.artboard.stateMachineByName(y[K]);if(Se){var Fe=new O(Se,this.runtime,k,this.artboard);this.stateMachines.push(Fe)}}}}return R&&(k?this.eventManager.fire({type:P.Play,data:this.playing}):this.eventManager.fire({type:P.Pause,data:this.paused})),k?this.playing:this.paused},$.prototype.initLinearAnimations=function(y,k){for(var R=this.animations.map(function(ne){return ne.name}),L=0;L<y.length;L++){var F=R.indexOf(y[L]);if(F>=0)this.animations[F].playing=k;else{var K=this.artboard.animationByName(y[L]);if(K){var Z=new _(K,this.artboard,this.runtime,k);Z.advance(0),Z.apply(1),this.animations.push(Z)}}}},$.prototype.initStateMachines=function(y,k){for(var R=this.stateMachines.map(function(ne){return ne.name}),L=0;L<y.length;L++){var F=R.indexOf(y[L]);if(F>=0)this.stateMachines[F].playing=k;else{var K=this.artboard.stateMachineByName(y[L]);if(K){var Z=new O(K,this.runtime,k,this.artboard);this.stateMachines.push(Z)}else this.initLinearAnimations([y[L]],k)}}},$.prototype.play=function(y){return this.add(y,!0)},$.prototype.pause=function(y){return this.add(y,!1)},$.prototype.scrub=function(y,k){var R=this.animations.filter(function(L){return y.includes(L.name)});return R.forEach(function(L){return L.scrubTo=k}),R.map(function(L){return L.name})},Object.defineProperty($.prototype,"playing",{get:function(){return this.animations.filter(function(y){return y.playing}).map(function(y){return y.name}).concat(this.stateMachines.filter(function(y){return y.playing}).map(function(y){return y.name}))},enumerable:!1,configurable:!0}),Object.defineProperty($.prototype,"paused",{get:function(){return this.animations.filter(function(y){return!y.playing}).map(function(y){return y.name}).concat(this.stateMachines.filter(function(y){return!y.playing}).map(function(y){return y.name}))},enumerable:!1,configurable:!0}),$.prototype.stop=function(y){var k=this;y=X(y);var R=[];if(y.length===0)R=this.animations.map(function(K){return K.name}).concat(this.stateMachines.map(function(K){return K.name})),this.animations.forEach(function(K){return K.cleanup()}),this.stateMachines.forEach(function(K){return K.cleanup()}),this.animations.splice(0,this.animations.length),this.stateMachines.splice(0,this.stateMachines.length);else{var L=this.animations.filter(function(K){return y.includes(K.name)});L.forEach(function(K){K.cleanup(),k.animations.splice(k.animations.indexOf(K),1)});var F=this.stateMachines.filter(function(K){return y.includes(K.name)});F.forEach(function(K){K.cleanup(),k.stateMachines.splice(k.stateMachines.indexOf(K),1)}),R=L.map(function(K){return K.name}).concat(F.map(function(K){return K.name}))}return this.eventManager.fire({type:P.Stop,data:R}),R},Object.defineProperty($.prototype,"isPlaying",{get:function(){return this.animations.reduce(function(y,k){return y||k.playing},!1)||this.stateMachines.reduce(function(y,k){return y||k.playing},!1)},enumerable:!1,configurable:!0}),Object.defineProperty($.prototype,"isPaused",{get:function(){return!this.isPlaying&&(this.animations.length>0||this.stateMachines.length>0)},enumerable:!1,configurable:!0}),Object.defineProperty($.prototype,"isStopped",{get:function(){return this.animations.length===0&&this.stateMachines.length===0},enumerable:!1,configurable:!0}),$.prototype.atLeastOne=function(y,k){k===void 0&&(k=!0);var R;return this.animations.length===0&&this.stateMachines.length===0&&(this.artboard.animationCount()>0?this.add([R=this.artboard.animationByIndex(0).name],y,k):this.artboard.stateMachineCount()>0&&this.add([R=this.artboard.stateMachineByIndex(0).name],y,k)),R},$.prototype.handleLooping=function(){for(var y=0,k=this.animations.filter(function(L){return L.playing});y<k.length;y++){var R=k[y];R.loopValue===0&&R.loopCount?(R.loopCount=0,this.stop(R.name)):R.loopValue===1&&R.loopCount?(this.eventManager.fire({type:P.Loop,data:{animation:R.name,type:C.Loop}}),R.loopCount=0):R.loopValue===2&&R.loopCount>1&&(this.eventManager.fire({type:P.Loop,data:{animation:R.name,type:C.PingPong}}),R.loopCount=0)}},$.prototype.handleStateChanges=function(){for(var y=[],k=0,R=this.stateMachines.filter(function(F){return F.playing});k<R.length;k++){var L=R[k];y.push.apply(y,L.statesChanged)}y.length>0&&this.eventManager.fire({type:P.StateChange,data:y})},$.prototype.handleAdvancing=function(y){this.eventManager.fire({type:P.Advance,data:y})},$}(),P;(function($){$.Load="load",$.LoadError="loaderror",$.Play="play",$.Pause="pause",$.Stop="stop",$.Loop="loop",$.Draw="draw",$.Advance="advance",$.StateChange="statechange",$.RiveEvent="riveevent"})(P||(P={}));var C;(function($){$.OneShot="oneshot",$.Loop="loop",$.PingPong="pingpong"})(C||(C={}));var A=function(){function $(y){y===void 0&&(y=[]),this.listeners=y}return $.prototype.getListeners=function(y){return this.listeners.filter(function(k){return k.type===y})},$.prototype.add=function(y){this.listeners.includes(y)||this.listeners.push(y)},$.prototype.remove=function(y){for(var k=0;k<this.listeners.length;k++){var R=this.listeners[k];if(R.type===y.type&&R.callback===y.callback){this.listeners.splice(k,1);break}}},$.prototype.removeAll=function(y){var k=this;y?this.listeners.filter(function(R){return R.type===y}).forEach(function(R){return k.remove(R)}):this.listeners.splice(0,this.listeners.length)},$.prototype.fire=function(y){var k=this.getListeners(y.type);k.forEach(function(R){return R.callback(y)})},$}(),D=function(){function $(y){this.eventManager=y,this.queue=[]}return $.prototype.add=function(y){this.queue.push(y)},$.prototype.process=function(){for(;this.queue.length>0;){var y=this.queue.shift();y!=null&&y.action&&y.action(),y!=null&&y.event&&this.eventManager.fire(y.event)}},$}(),B=function(){function $(y){var k;this.loaded=!1,this.readyForPlaying=!1,this.artboard=null,this.eventCleanup=null,this.shouldDisableRiveListeners=!1,this.automaticallyHandleEvents=!1,this.enableRiveAssetCDN=!0,this.durations=[],this.frameTimes=[],this.frameCount=0,this.renderSecondTimer=0,this.canvas=y.canvas,this.src=y.src,this.buffer=y.buffer,this.layout=(k=y.layout)!==null&&k!==void 0?k:new h,this.shouldDisableRiveListeners=!!y.shouldDisableRiveListeners,this.automaticallyHandleEvents=!!y.automaticallyHandleEvents,this.enableRiveAssetCDN=y.enableRiveAssetCDN===void 0?!0:y.enableRiveAssetCDN,this.eventManager=new A,y.onLoad&&this.on(P.Load,y.onLoad),y.onLoadError&&this.on(P.LoadError,y.onLoadError),y.onPlay&&this.on(P.Play,y.onPlay),y.onPause&&this.on(P.Pause,y.onPause),y.onStop&&this.on(P.Stop,y.onStop),y.onLoop&&this.on(P.Loop,y.onLoop),y.onStateChange&&this.on(P.StateChange,y.onStateChange),y.onAdvance&&this.on(P.Advance,y.onAdvance),y.onload&&!y.onLoad&&this.on(P.Load,y.onload),y.onloaderror&&!y.onLoadError&&this.on(P.LoadError,y.onloaderror),y.onplay&&!y.onPlay&&this.on(P.Play,y.onplay),y.onpause&&!y.onPause&&this.on(P.Pause,y.onpause),y.onstop&&!y.onStop&&this.on(P.Stop,y.onstop),y.onloop&&!y.onLoop&&this.on(P.Loop,y.onloop),y.onstatechange&&!y.onStateChange&&this.on(P.StateChange,y.onstatechange),y.assetLoader&&(this.assetLoader=y.assetLoader),this.taskQueue=new D(this.eventManager),this.init({src:this.src,buffer:this.buffer,autoplay:y.autoplay,animations:y.animations,stateMachines:y.stateMachines,artboard:y.artboard,useOffscreenRenderer:y.useOffscreenRenderer})}return $.new=function(y){return console.warn("This function is deprecated: please use `new Rive({})` instead"),new $(y)},$.prototype.init=function(y){var k=this,R=y.src,L=y.buffer,F=y.animations,K=y.stateMachines,Z=y.artboard,ne=y.autoplay,Y=ne===void 0?!1:ne,me=y.useOffscreenRenderer,Se=me===void 0?!1:me;if(this.src=R,this.buffer=L,!this.src&&!this.buffer)throw new Error($.missingErrorMessage);var Fe=X(F),We=X(K);this.loaded=!1,this.readyForPlaying=!1,b.awaitInstance().then(function(Et){k.runtime=Et,k.renderer=k.runtime.makeRenderer(k.canvas,Se),k.canvas.width||k.canvas.height||k.resizeDrawingSurfaceToCanvas(),k.initData(Z,Fe,We,Y).then(function(){return k.setupRiveListeners()}).catch(function(zt){console.error(zt)})}).catch(function(Et){console.error(Et)})},$.prototype.setupRiveListeners=function(){var y=this;if(!this.shouldDisableRiveListeners){var k=(this.animator.stateMachines||[]).filter(function(R){return R.playing&&y.runtime.hasListeners(R.instance)}).map(function(R){return R.instance});this.eventCleanup=(0,u.registerTouchInteractions)({canvas:this.canvas,artboard:this.artboard,stateMachines:k,renderer:this.renderer,rive:this.runtime,fit:this._layout.runtimeFit(this.runtime),alignment:this._layout.runtimeAlignment(this.runtime)})}},$.prototype.initData=function(y,k,R,L){var F;return l(this,void 0,void 0,function(){var K,Z,ne,Y;return c(this,function(me){switch(me.label){case 0:return this.src?(K=this,[4,V(this.src)]):[3,2];case 1:K.buffer=me.sent(),me.label=2;case 2:return this.assetLoader&&(Z=new this.runtime.CustomFileAssetLoader({loadContents:this.assetLoader})),ne=this,[4,this.runtime.load(new Uint8Array(this.buffer),Z,this.enableRiveAssetCDN)];case 3:return ne.file=me.sent(),this.file?(this.initArtboard(y,k,R,L),this.loaded=!0,this.eventManager.fire({type:P.Load,data:(F=this.src)!==null&&F!==void 0?F:"buffer"}),this.readyForPlaying=!0,this.taskQueue.process(),this.drawFrame(),[2,Promise.resolve()]):(Y="Problem loading file; may be corrupt!",console.warn(Y),this.eventManager.fire({type:P.LoadError,data:Y}),[2,Promise.reject(Y)])}})})},$.prototype.initArtboard=function(y,k,R,L){var F=y?this.file.artboardByName(y):this.file.defaultArtboard();if(!F){var K="Invalid artboard name or no default artboard";console.warn(K),this.eventManager.fire({type:P.LoadError,data:K});return}if(this.artboard=F,this.artboard.animationCount()<1){var K="Artboard has no animations";throw this.eventManager.fire({type:P.LoadError,data:K}),K}this.animator=new x(this.runtime,this.artboard,this.eventManager);var Z;k.length>0||R.length>0?(Z=k.concat(R),this.animator.initLinearAnimations(k,L),this.animator.initStateMachines(R,L)):Z=[this.animator.atLeastOne(L,!1)],this.taskQueue.add({event:{type:L?P.Play:P.Pause,data:Z}})},$.prototype.drawFrame=function(){this.startRendering()},$.prototype.draw=function(y,k){var R=performance.now();this.frameRequestId=null,this.lastRenderTime||(this.lastRenderTime=y),this.renderSecondTimer+=y-this.lastRenderTime,this.renderSecondTimer>5e3&&(this.renderSecondTimer=0,k==null||k());var L=(y-this.lastRenderTime)/1e3;this.lastRenderTime=y;for(var F=this.animator.animations.filter(function(Ge){return Ge.playing||Ge.needsScrub}).sort(function(Ge){return Ge.needsScrub?-1:1}),K=0,Z=F;K<Z.length;K++){var ne=Z[K];ne.advance(L),ne.instance.didLoop&&(ne.loopCount+=1),ne.apply(1)}for(var Y=this.animator.stateMachines.filter(function(Ge){return Ge.playing}),me=0,Se=Y;me<Se.length;me++){var Fe=Se[me],We=Fe.reportedEventCount();if(We)for(var Et=0;Et<We;Et++){var zt=Fe.reportedEventAt(Et);if(zt)if(zt.type===p.OpenUrl){if(this.eventManager.fire({type:P.RiveEvent,data:zt}),this.automaticallyHandleEvents){var nn=document.createElement("a"),ri=zt,Kt=ri.url,pt=ri.target,Ye=(0,u.sanitizeUrl)(Kt);Kt&&nn.setAttribute("href",Ye),pt&&nn.setAttribute("target",pt),Ye&&Ye!==u.BLANK_URL&&nn.click()}}else this.eventManager.fire({type:P.RiveEvent,data:zt})}Fe.advance(L)}this.artboard.advance(L);var Be=this.renderer;Be.clear(),Be.save(),this.alignRenderer(),this.artboard.draw(Be),Be.restore(),Be.flush(),this.animator.handleLooping(),this.animator.handleStateChanges(),this.animator.handleAdvancing(L),this.frameCount++;var tt=performance.now();for(this.frameTimes.push(tt),this.durations.push(tt-R);this.frameTimes[0]<=tt-1e3;)this.frameTimes.shift(),this.durations.shift();this.animator.isPlaying?this.startRendering():this.animator.isPaused?this.lastRenderTime=0:this.animator.isStopped&&(this.lastRenderTime=0)},$.prototype.alignRenderer=function(){var y=this,k=y.renderer,R=y.runtime,L=y._layout,F=y.artboard;k.align(L.runtimeFit(R),L.runtimeAlignment(R),{minX:L.minX,minY:L.minY,maxX:L.maxX,maxY:L.maxY},F.bounds)},Object.defineProperty($.prototype,"fps",{get:function(){return this.durations.length},enumerable:!1,configurable:!0}),Object.defineProperty($.prototype,"frameTime",{get:function(){return this.durations.length===0?0:(this.durations.reduce(function(y,k){return y+k},0)/this.durations.length).toFixed(4)},enumerable:!1,configurable:!0}),$.prototype.cleanup=function(){var y,k,R;this.stopRendering(),this.cleanupInstances(),!((y=this.runtime)===null||y===void 0)&&y.CanvasRenderer&&((k=this.renderer)===null||k===void 0||k.delete()),this.renderer=null,(R=this.file)===null||R===void 0||R.delete(),this.file=null},$.prototype.cleanupInstances=function(){this.eventCleanup!==null&&this.eventCleanup(),this.stop(),this.artboard&&(this.artboard.delete(),this.artboard=null)},$.prototype.retrieveTextRun=function(y){var k;if(!y){console.warn("No text run name provided");return}if(!this.artboard){console.warn("Tried to access text run, but the Artboard is null");return}var R=this.artboard.textRun(y);if(!R){console.warn("Could not access a text run with name '".concat(y,"' in the '").concat((k=this.artboard)===null||k===void 0?void 0:k.name,"' Artboard. Note that you must rename a text run node in the Rive editor to make it queryable at runtime."));return}return R},$.prototype.getTextRunValue=function(y){var k=this.retrieveTextRun(y);return k?k.text:void 0},$.prototype.setTextRunValue=function(y,k){var R=this.retrieveTextRun(y);R&&(R.text=k)},$.prototype.play=function(y,k){var R=this;if(y=X(y),!this.readyForPlaying){this.taskQueue.add({action:function(){return R.play(y,k)}});return}this.animator.play(y),this.eventCleanup&&this.eventCleanup(),this.setupRiveListeners(),this.startRendering()},$.prototype.pause=function(y){var k=this;if(y=X(y),!this.readyForPlaying){this.taskQueue.add({action:function(){return k.pause(y)}});return}this.eventCleanup&&this.eventCleanup(),this.animator.pause(y)},$.prototype.scrub=function(y,k){var R=this;if(y=X(y),!this.readyForPlaying){this.taskQueue.add({action:function(){return R.scrub(y,k)}});return}this.animator.scrub(y,k||0),this.drawFrame()},$.prototype.stop=function(y){var k=this;if(y=X(y),!this.readyForPlaying){this.taskQueue.add({action:function(){return k.stop(y)}});return}this.animator.stop(y),this.eventCleanup&&this.eventCleanup()},$.prototype.reset=function(y){var k,R=y==null?void 0:y.artboard,L=X(y==null?void 0:y.animations),F=X(y==null?void 0:y.stateMachines),K=(k=y==null?void 0:y.autoplay)!==null&&k!==void 0?k:!1;this.cleanupInstances(),this.initArtboard(R,L,F,K),this.taskQueue.process()},$.prototype.load=function(y){this.stop(),this.init(y)},Object.defineProperty($.prototype,"layout",{get:function(){return this._layout},set:function(y){this._layout=y,(!y.maxX||!y.maxY)&&this.resizeToCanvas(),this.loaded&&!this.animator.isPlaying&&this.drawFrame()},enumerable:!1,configurable:!0}),$.prototype.resizeToCanvas=function(){this._layout=this.layout.copyWith({minX:0,minY:0,maxX:this.canvas.width,maxY:this.canvas.height})},$.prototype.resizeDrawingSurfaceToCanvas=function(){if(this.canvas instanceof HTMLCanvasElement&&window){var y=this.canvas.getBoundingClientRect(),k=y.width,R=y.height,L=window.devicePixelRatio||1;this.canvas.width=L*k,this.canvas.height=L*R,this.startRendering(),this.resizeToCanvas()}},Object.defineProperty($.prototype,"source",{get:function(){return this.src},enumerable:!1,configurable:!0}),Object.defineProperty($.prototype,"activeArtboard",{get:function(){return this.artboard?this.artboard.name:""},enumerable:!1,configurable:!0}),Object.defineProperty($.prototype,"animationNames",{get:function(){if(!this.loaded)return[];for(var y=[],k=0;k<this.artboard.animationCount();k++)y.push(this.artboard.animationByIndex(k).name);return y},enumerable:!1,configurable:!0}),Object.defineProperty($.prototype,"stateMachineNames",{get:function(){if(!this.loaded)return[];for(var y=[],k=0;k<this.artboard.stateMachineCount();k++)y.push(this.artboard.stateMachineByIndex(k).name);return y},enumerable:!1,configurable:!0}),$.prototype.stateMachineInputs=function(y){if(this.loaded){var k=this.animator.stateMachines.find(function(R){return R.name===y});return k==null?void 0:k.inputs}},Object.defineProperty($.prototype,"playingStateMachineNames",{get:function(){return this.loaded?this.animator.stateMachines.filter(function(y){return y.playing}).map(function(y){return y.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty($.prototype,"playingAnimationNames",{get:function(){return this.loaded?this.animator.animations.filter(function(y){return y.playing}).map(function(y){return y.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty($.prototype,"pausedAnimationNames",{get:function(){return this.loaded?this.animator.animations.filter(function(y){return!y.playing}).map(function(y){return y.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty($.prototype,"pausedStateMachineNames",{get:function(){return this.loaded?this.animator.stateMachines.filter(function(y){return!y.playing}).map(function(y){return y.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty($.prototype,"isPlaying",{get:function(){return this.animator.isPlaying},enumerable:!1,configurable:!0}),Object.defineProperty($.prototype,"isPaused",{get:function(){return this.animator.isPaused},enumerable:!1,configurable:!0}),Object.defineProperty($.prototype,"isStopped",{get:function(){return this.animator.isStopped},enumerable:!1,configurable:!0}),Object.defineProperty($.prototype,"bounds",{get:function(){return this.artboard?this.artboard.bounds:void 0},enumerable:!1,configurable:!0}),$.prototype.on=function(y,k){this.eventManager.add({type:y,callback:k})},$.prototype.off=function(y,k){this.eventManager.remove({type:y,callback:k})},$.prototype.unsubscribe=function(y,k){console.warn("This function is deprecated: please use `off()` instead."),this.off(y,k)},$.prototype.removeAllRiveEventListeners=function(y){this.eventManager.removeAll(y)},$.prototype.unsubscribeAll=function(y){console.warn("This function is deprecated: please use `removeAllRiveEventListeners()` instead."),this.removeAllRiveEventListeners(y)},$.prototype.stopRendering=function(){this.loaded&&this.frameRequestId&&(this.runtime.cancelAnimationFrame?this.runtime.cancelAnimationFrame(this.frameRequestId):cancelAnimationFrame(this.frameRequestId),this.frameRequestId=null)},$.prototype.startRendering=function(){this.loaded&&this.artboard&&!this.frameRequestId&&(this.runtime.requestAnimationFrame?this.frameRequestId=this.runtime.requestAnimationFrame(this.draw.bind(this)):this.frameRequestId=requestAnimationFrame(this.draw.bind(this)))},$.prototype.enableFPSCounter=function(y){this.runtime.enableFPSCounter(y)},$.prototype.disableFPSCounter=function(){this.runtime.disableFPSCounter()},Object.defineProperty($.prototype,"contents",{get:function(){if(this.loaded){for(var y={artboards:[]},k=0;k<this.file.artboardCount();k++){for(var R=this.file.artboardByIndex(k),L={name:R.name,animations:[],stateMachines:[]},F=0;F<R.animationCount();F++){var K=R.animationByIndex(F);L.animations.push(K.name)}for(var Z=0;Z<R.stateMachineCount();Z++){for(var ne=R.stateMachineByIndex(Z),Y=ne.name,me=new this.runtime.StateMachineInstance(ne,R),Se=[],Fe=0;Fe<me.inputCount();Fe++){var We=me.input(Fe);Se.push({name:We.name,type:We.type})}L.stateMachines.push({name:Y,inputs:Se})}y.artboards.push(L)}return y}},enumerable:!1,configurable:!0}),$.missingErrorMessage="Rive source file or data buffer required",$}(),V=function($){return l(void 0,void 0,void 0,function(){var y,k,R;return c(this,function(L){switch(L.label){case 0:return y=new Request($),[4,fetch(y)];case 1:return k=L.sent(),[4,k.arrayBuffer()];case 2:return R=L.sent(),[2,R]}})})},X=function($){return typeof $=="string"?[$]:$ instanceof Array?$:[]},fe={EventManager:A,TaskQueueManager:D},he=function($){return new Promise(function(y){return b.getInstance(function(k){k.decodeImage($,y)})})},pe=function($){return new Promise(function(y){return b.getInstance(function(k){k.decodeFont($,y)})})}})(),o})())})(qj);var xV=qj.exports;(function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=H,r=xV;function n(p){return p&&typeof p=="object"&&"default"in p?p:{default:p}}var i=n(t),o=function(){return o=Object.assign||function(p){for(var O,x=1,P=arguments.length;x<P;x++)for(var C in O=arguments[x])Object.prototype.hasOwnProperty.call(O,C)&&(p[C]=O[C]);return p},o.apply(this,arguments)};function a(p,O){var x={};for(var P in p)Object.prototype.hasOwnProperty.call(p,P)&&O.indexOf(P)<0&&(x[P]=p[P]);if(p!=null&&typeof Object.getOwnPropertySymbols=="function"){var C=0;for(P=Object.getOwnPropertySymbols(p);C<P.length;C++)O.indexOf(P[C])<0&&Object.prototype.propertyIsEnumerable.call(p,P[C])&&(x[P[C]]=p[P[C]])}return x}function s(){var p=typeof window<"u"&&typeof window.devicePixelRatio=="number"?window.devicePixelRatio:1;return Math.min(Math.max(1,p),3)}typeof SuppressedError=="function"&&SuppressedError;var u=function(){function p(){}return p.prototype.observe=function(){},p.prototype.unobserve=function(){},p.prototype.disconnect=function(){},p}(),l=globalThis.ResizeObserver||u,c=globalThis.ResizeObserver!==void 0,d=!c;function f(p,O){O===void 0&&(O=!0);var x=t.useState({width:0,height:0}),P=x[0],C=x[1];t.useEffect(function(){if(typeof window<"u"&&O){var X=function(){C({width:window.innerWidth,height:window.innerHeight})};return d&&(X(),window.addEventListener("resize",X)),function(){return window.removeEventListener("resize",X)}}},[]);var A,D,B,V=t.useRef(new l((A=function(X){c&&C({width:X[X.length-1].contentRect.width,height:X[X.length-1].contentRect.height})},D=0,B=0,function(){for(var X=this,fe=[],he=0;he<arguments.length;he++)fe[he]=arguments[he];clearTimeout(B),B=window.setTimeout(function(){return A.apply(X,fe)},D)})));return t.useEffect(function(){var X=V.current;if(O){var fe=p.current;return p.current&&c&&X.observe(p.current),function(){X.disconnect(),fe&&c&&X.unobserve(fe)}}X.disconnect()},[p,V]),P}var h={useDevicePixelRatio:!0,fitCanvasToArtboardHeight:!1,useOffscreenRenderer:!0,shouldResizeCanvasToContainer:!0};function b(p){return Object.assign({},h,p)}function _(p){var O=p.riveLoaded,x=O!==void 0&&O,P=p.canvasRef,C=p.containerRef,A=p.options,D=A===void 0?{}:A,B=p.onCanvasHasResized,V=p.artboardBounds,X=b(D),fe=t.useState({height:0,width:0}),he=fe[0],pe=he.height,$=he.width,y=fe[1],k=t.useState({height:0,width:0}),R=k[0],L=R.height,F=R.width,K=k[1],Z=t.useState(!0),ne=Z[0],Y=Z[1],me=X.fitCanvasToArtboardHeight,Se=X.shouldResizeCanvasToContainer,Fe=X.useDevicePixelRatio,We=f(C,Se),Et=function(){var pt=s(),Ye=t.useState(pt),Be=Ye[0],tt=Ye[1];return t.useEffect(function(){if(typeof window<"u"&&"matchMedia"in window){var Ge=function(){var ni=s();tt(ni)},Mt=window.matchMedia("screen and (resolution: ".concat(Be,"dppx)"));return Mt.hasOwnProperty("addEventListener")?Mt.addEventListener("change",Ge):Mt.addListener(Ge),function(){Mt.hasOwnProperty("removeEventListener")?Mt.removeEventListener("change",Ge):Mt.removeListener(Ge)}}},[Be]),Be}(),zt=V??{},nn=zt.maxX,ri=zt.maxY,Kt=t.useCallback(function(){var pt,Ye,Be,tt,Ge=(Ye=(pt=C.current)===null||pt===void 0?void 0:pt.clientWidth)!==null&&Ye!==void 0?Ye:0,Mt=(tt=(Be=C.current)===null||Be===void 0?void 0:Be.clientHeight)!==null&&tt!==void 0?tt:0;return me&&V?{width:Ge,height:Ge*(V.maxY/V.maxX)}:{width:Ge,height:Mt}},[C,me,nn,ri]);t.useEffect(function(){if(Se&&C.current&&x){var pt=Kt(),Ye=pt.width,Be=pt.height,tt=!1;if(P.current){var Ge=Ye!==$||Be!==pe;if(X.fitCanvasToArtboardHeight&&Ge&&(C.current.style.height=Be+"px",tt=!0),X.useDevicePixelRatio){if(Ge||Ye*Et!==F||Be*Et!==L){var Mt=Et*Ye,ni=Et*Be;P.current.width=Mt,P.current.height=ni,P.current.style.width=Ye+"px",P.current.style.height=Be+"px",K({width:Mt,height:ni}),tt=!0}}else Ge&&(P.current.width=Ye,P.current.height=Be,K({width:Ye,height:Be}),tt=!0);y({width:Ye,height:Be})}B&&(ne||tt)&&B&&B(),ne&&Y(!1)}},[P,C,We,Et,Kt,ne,Y,L,F,pe,$,B,Se,me,Fe,x])}function j(p){var O=p.setContainerRef,x=p.setCanvasRef,P=p.className,C=P===void 0?"":P,A=p.style,D=p.children,B=a(p,["setContainerRef","setCanvasRef","className","style","children"]),V=o({width:"100%",height:"100%"},A);return i.default.createElement("div",o({ref:O,className:C},!C&&{style:V}),i.default.createElement("canvas",o({ref:x,style:{verticalAlign:"top",width:0,height:0}},B),D))}function g(p,O){O===void 0&&(O={});var x=t.useRef(null),P=t.useRef(null),C=t.useState(null),A=C[0],D=C[1],B=!!p,V=b(O),X=t.useCallback(function(){A&&(A.startRendering(),A.resizeToCanvas())},[A]);_({riveLoaded:!!A,canvasRef:x,containerRef:P,options:V,onCanvasHasResized:X,artboardBounds:A==null?void 0:A.bounds});var fe=t.useCallback(function(y){if(y&&p&&B){var k=V.useOffscreenRenderer,R=new r.Rive(o(o({useOffscreenRenderer:k},p),{canvas:y}));R.on(r.EventType.Load,function(){x.current?D(R):R.cleanup()})}else y===null&&x.current&&(x.current.height=0,x.current.width=0);x.current=y},[B]),he=t.useCallback(function(y){P.current=y},[]);t.useEffect(function(){var y=new IntersectionObserver(function(k){k[0].isIntersecting?A&&A.startRendering():A&&A.stopRendering()});return x.current&&y.observe(x.current),function(){y.disconnect()}},[A]),t.useEffect(function(){return function(){A&&(A.cleanup(),D(null))}},[A]);var pe=p==null?void 0:p.animations;t.useEffect(function(){A&&pe&&(A.isPlaying?(A.stop(A.animationNames),A.play(pe)):A.isPaused&&(A.stop(A.animationNames),A.pause(pe)))},[pe,A]);var $=t.useCallback(function(y){return i.default.createElement(j,o({setContainerRef:he,setCanvasRef:fe},y))},[fe,he]);return{canvas:x.current,container:P.current,setCanvasRef:fe,setContainerRef:he,rive:A,RiveComponent:$}}e.default=function(p){var O=p.src,x=p.artboard,P=p.animations,C=p.stateMachines,A=p.layout,D=p.useOffscreenRenderer,B=D===void 0||D,V=p.shouldDisableRiveListeners,X=V!==void 0&&V,fe=p.shouldResizeCanvasToContainer,he=fe===void 0||fe,pe=p.automaticallyHandleEvents,$=pe!==void 0&&pe,y=p.children,k=a(p,["src","artboard","animations","stateMachines","layout","useOffscreenRenderer","shouldDisableRiveListeners","shouldResizeCanvasToContainer","automaticallyHandleEvents","children"]),R=g({src:O,artboard:x,animations:P,layout:A,stateMachines:C,autoplay:!0,shouldDisableRiveListeners:X,automaticallyHandleEvents:$},{useOffscreenRenderer:B,shouldResizeCanvasToContainer:he}).RiveComponent;return i.default.createElement(R,o({},k),y)},e.useResizeCanvas=_,e.useRive=g,e.useStateMachineInput=function(p,O,x,P){var C=t.useState(null),A=C[0],D=C[1];return t.useEffect(function(){function B(){if(p&&O&&x||D(null),p&&O&&x){var V=p.stateMachineInputs(O);if(V){var X=V.find(function(fe){return fe.name===x});P!==void 0&&X&&(X.value=P),D(X||null)}}else D(null)}B(),p&&p.on(r.EventType.Play,function(){B()})},[p]),A},Object.keys(r).forEach(function(p){p==="default"||e.hasOwnProperty(p)||Object.defineProperty(e,p,{enumerable:!0,get:function(){return r[p]}})})})(Vj);Hj.defaultProps={className:""};function Hj({className:e}){const{rive:t,RiveComponent:r}=Vj.useRive({src:"/trophy.riv",autoplay:!0});function n(){t&&(t.stop("wobble"),t.play("wobble"))}return w.jsx(r,{onClick:n,className:`tap-none cursor-pointer select-none ${e}`})}function jV({tabs:e,defaultTabIndex:t,onChanged:r,className:n}){const[i,o]=H.useState(t??0);function a(s){o(s),r(s)}return w.jsx("div",{className:`bg-300 rounded-full p-1 text-violet-800 ${n}`,children:w.jsxs("div",{className:"relative grid h-10",style:{gridTemplateColumns:`repeat(${e.length},1fr)`},children:[w.jsx("span",{className:"bg-100 absolute left-0 top-0 h-full rounded-full shadow transition-transform",style:{transform:`translateX(${i*100}%)`,width:`${1/e.length*100}%`}}),e.map((s,u)=>w.jsxs("div",{className:"relative truncate",children:[w.jsx("input",{type:"radio",id:`tab-button-${u}`,name:"tab-buttons",onChange:()=>a(u),className:"hidden"}),w.jsx("label",{htmlFor:`tab-button-${u}`,className:`tap-none flex h-full w-full cursor-pointer items-center justify-center truncate px-3 text-center font-bold leading-none ${u==i,""}`,children:s})]},u))]})})}let mf;const kV=new Uint8Array(16);function CV(){if(!mf&&(mf=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!mf))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return mf(kV)}const $t=[];for(let e=0;e<256;++e)$t.push((e+256).toString(16).slice(1));function $V(e,t=0){return $t[e[t+0]]+$t[e[t+1]]+$t[e[t+2]]+$t[e[t+3]]+"-"+$t[e[t+4]]+$t[e[t+5]]+"-"+$t[e[t+6]]+$t[e[t+7]]+"-"+$t[e[t+8]]+$t[e[t+9]]+"-"+$t[e[t+10]]+$t[e[t+11]]+$t[e[t+12]]+$t[e[t+13]]+$t[e[t+14]]+$t[e[t+15]]}const AV=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),wS={randomUUID:AV};function pr(e,t,r){if(wS.randomUUID&&!t&&!e)return wS.randomUUID();e=e||{};const n=e.random||(e.rng||CV)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){r=r||0;for(let i=0;i<16;++i)t[r+i]=n[i];return t}return $V(n)}xn.defaultProps={inputMode:"text",className:""};function xn({value:e,inputMode:t,placeholder:r,label:n,disabled:i,className:o,onChange:a}){function s(l){a(l.target.value)}const u=H.useMemo(()=>pr(),[]);return w.jsxs(w.Fragment,{children:[n&&w.jsx("label",{htmlFor:u,className:"mx-2",children:n}),w.jsx("div",{className:`rounded-3xl shadow ${o}`,children:i?w.jsx("span",{className:"bg-300 input",children:e}):w.jsx("input",{id:u,type:"text",inputMode:t,value:e,placeholder:r,onChange:s,className:"bg-100 input"})})]})}Bn.defaultProps={inputMode:"numeric",className:""};function Bn({value:e,inputMode:t,min:r,max:n,step:i,placeholder:o,label:a,disabled:s,className:u,onChange:l,onKeyDown:c,onBlur:d,focused:f}){const h=H.useRef(null);function b(j){let g=parseInt(j.target.value);isNaN(g)&&(g=0),l(g)}H.useEffect(()=>{var j;f&&((j=h.current)==null||j.focus())},[f,h]);const _=H.useMemo(()=>pr(),[]);return w.jsxs(w.Fragment,{children:[a&&w.jsx("label",{htmlFor:_,className:"mx-2",children:a}),w.jsx("div",{className:`rounded-3xl shadow ${u}`,children:s?w.jsx("span",{className:"bg-300 input",children:e}):w.jsx("input",{id:_,ref:h,type:"number",inputMode:t,value:e,placeholder:o,onChange:b,className:"bg-100 input",min:r,max:n,step:i,onKeyDown:c,onBlur:d})})]})}function Me(e){return w.jsx(w.Fragment,{children:e.children})}function Qj(e){return H.useMemo(()=>H.Children.toArray(e).reduce((t,r)=>{const n=r;return n.type==Me&&(n.props.name!=""?t[n.props.name]=r:t.default=w.jsxs(w.Fragment,{children:[t.default,n]})),t},{default:null}),[e])}function Rr(e){const[t,r]=H.useState(e),[n,i]=H.useState(e);return e!=n&&(i(e),r(e)),[t,r]}Zt.defaultProps={className:""};function Zt({className:e,children:t}){const r=Qj(t);return w.jsx("div",{className:"w-full",children:w.jsxs("div",{className:`bg-100 mx-2 flex h-full flex-col rounded-3xl text-violet-800 ${e}`,children:[w.jsx("div",{className:"bg-300 -mx-2 flex h-10 items-center rounded-3xl",children:r.header}),r.content]})})}var Ai=(e=>(e.HighestScore="highestScore",e.LowestScore="lowestScore",e))(Ai||{}),st=(e=>(e.Elimination="elimination",e.DoubleElimination="doubleElimination",e.RoundRobin="roundRobin",e.Finals="finals",e.Custom="custom",e))(st||{});const Yj={numTeams:2,numGames:1},Gj={type:st.Elimination,teamsIn:2,teamsOut:1,numRounds:1,rounds:[gp(Yj)]},RV={name:"New Tournament",numTeams:2,numBrackets:1,brackets:[gp(Gj)]};function gp(e){return JSON.parse(JSON.stringify(e))}function Ld(e,t){if(e>t.numBrackets-1)return;const r=e==0?t.numTeams:t.brackets[e-1].teamsOut,n=t.brackets[e];n.teamsIn=r,r<n.teamsOut&&(n.teamsOut=r,Ld(e+1,t)),Fd(e,t)}function Fd(e,t){const r=t.brackets[e];switch(r.type){default:case st.Elimination:r.numRounds=Math.ceil(Math.log2(r.teamsIn)-Math.log2(r.teamsOut));break;case st.DoubleElimination:break;case st.RoundRobin:r.numRounds=2*Math.ceil(r.teamsIn/2)-1;break;case st.Finals:break;case st.Custom:break}Xj(e,t)}function Xj(e,t){const r=t.brackets[e];switch(r.rounds.length=r.numRounds,r.rounds.fill(gp(Yj)),r.type){default:case st.Elimination:for(let n=0;n<r.numRounds;n++){const i=n==0?r.teamsIn:r.rounds[n-1].numGames+r.rounds[n-1].numTeams%2;r.rounds[n]={numTeams:i,numGames:Math.floor(i/2)}}break;case st.DoubleElimination:break;case st.RoundRobin:r.rounds.fill({numTeams:r.teamsIn,numGames:Math.floor(r.teamsIn/2)});break;case st.Finals:break;case st.Custom:break}}function TV({title:e,titleId:t,...r},n){return H.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?H.createElement("title",{id:t},e):null,H.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"}))}const MV=H.forwardRef(TV),IV=MV;function NV({title:e,titleId:t,...r},n){return H.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?H.createElement("title",{id:t},e):null,H.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"}))}const DV=H.forwardRef(NV),Jj=DV;function LV({title:e,titleId:t,...r},n){return H.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?H.createElement("title",{id:t},e):null,H.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"}))}const FV=H.forwardRef(LV),BV=FV;function UV({title:e,titleId:t,...r},n){return H.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?H.createElement("title",{id:t},e):null,H.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 12h14"}))}const WV=H.forwardRef(UV),zV=WV;function KV({title:e,titleId:t,...r},n){return H.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?H.createElement("title",{id:t},e):null,H.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"}))}const VV=H.forwardRef(KV),qV=VV;function HV({title:e,titleId:t,...r},n){return H.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?H.createElement("title",{id:t},e):null,H.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const QV=H.forwardRef(HV),YV=QV;function GV({title:e,titleId:t,...r},n){return H.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?H.createElement("title",{id:t},e):null,H.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 18.75h-9m9 0a3 3 0 0 1 3 3h-15a3 3 0 0 1 3-3m9 0v-3.375c0-.621-.503-1.125-1.125-1.125h-.871M7.5 18.75v-3.375c0-.621.504-1.125 1.125-1.125h.872m5.007 0H9.497m5.007 0a7.454 7.454 0 0 1-.982-3.172M9.497 14.25a7.454 7.454 0 0 0 .981-3.172M5.25 4.236c-.982.143-1.954.317-2.916.52A6.003 6.003 0 0 0 7.73 9.728M5.25 4.236V4.5c0 2.108.966 3.99 2.48 5.228M5.25 4.236V2.721C7.456 2.41 9.71 2.25 12 2.25c2.291 0 4.545.16 6.75.47v1.516M7.73 9.728a6.726 6.726 0 0 0 2.748 1.35m8.272-6.842V4.5c0 2.108-.966 3.99-2.48 5.228m2.48-5.492a46.32 46.32 0 0 1 2.916.52 6.003 6.003 0 0 1-5.395 4.972m0 0a6.726 6.726 0 0 1-2.749 1.35m0 0a6.772 6.772 0 0 1-3.044 0"}))}const XV=H.forwardRef(GV),JV=XV;function ZV({title:e,titleId:t,...r},n){return H.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?H.createElement("title",{id:t},e):null,H.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const eq=H.forwardRef(ZV),tq=eq;Tr.defaultProps={title:"Toggle accordion open"};function Tr({open:e,title:t,onChange:r}){return w.jsx("button",{title:t,className:"bg-100 h-8 w-8 rounded-3xl p-2 text-violet-800 shadow",onClick:()=>r(!e),children:w.jsx(Jj,{className:`transition-all duration-300 ease-in-out ${e?"rotate-180":"rotate-0"}`})})}Zn.defaultProps={className:""};function Zn({open:e,className:t,children:r}){return w.jsx("div",{className:`grid transition-[grid-template-rows_opacity] duration-300 ease-in-out ${e?"grid-rows-[1fr] opacity-100":"grid-rows-[0fr] opacity-0"} ${t}`,children:w.jsx("div",{className:"overflow-hidden",children:r})})}function rq({data:e,onChange:t}){const[r,n]=H.useState(!0);function i(s){e.name=s,t(e)}function o(s){const u=Math.ceil(s);isNaN(u)||u<1||(e.numTeams=u,Ld(0,e),t(e))}function a(s){const u=Math.ceil(s);if(!(isNaN(u)||u<1)){if(e.numBrackets=u,u!=e.brackets.length){const l=e.brackets.length;e.brackets.length=u,u>l&&(e.brackets.fill({...Gj},l),Ld(l,e),Fd(l,e))}t(e)}}return w.jsxs(Zt,{children:[w.jsx(Me,{name:"header",children:w.jsxs("div",{className:"flex w-full items-center justify-between p-1",children:[w.jsx("span",{className:"px-2 font-bold",children:"Tournament"}),w.jsx(Tr,{onChange:n,open:r})]})}),w.jsx(Me,{name:"content",children:w.jsx(Zn,{open:r,children:w.jsxs("div",{className:"flex w-full flex-col space-y-2 p-3 pt-2",children:[w.jsx("div",{children:w.jsx(xn,{onChange:i,value:e.name,label:"Name"})}),w.jsx("div",{children:w.jsx(Bn,{onChange:o,value:e.numTeams,label:"Number of Teams",min:2})}),w.jsx("div",{children:w.jsx(Bn,{onChange:a,value:e.numBrackets,label:"Number of Brackets",min:1})})]})})})]})}function zs(e){return e.replace(/([A-Z])/g,t=>` ${t}`).replace(/^./,t=>t.toUpperCase()).trim()}Yi.defaultProps={placeholder:"Choose Option:",title:"Select option",className:""};function Yi({value:e,options:t,placeholder:r,label:n,name:i,title:o,className:a,onChange:s}){function u(c){s(t[c.target.selectedIndex-1])}const l=H.useMemo(()=>pr(),[]);return w.jsxs(w.Fragment,{children:[w.jsx("label",{htmlFor:l,className:`mx-2 ${!n&&"hidden"}`,children:n||o}),w.jsx("div",{className:`rounded-3xl shadow ${a}`,children:w.jsxs("div",{className:"relative w-full",children:[w.jsxs("select",{id:l,value:e,className:"bg-100 input relative pr-8",onChange:u,name:i,title:o,children:[w.jsx("option",{value:"",label:r,disabled:!0,children:r}),t.map((c,d)=>w.jsx("option",{value:c[0],label:c[1],children:c[1]},`${d}-${c[0]}`))]}),w.jsx(Jj,{className:"pointer-events-none absolute right-2 top-2 h-4 w-4"})]})})]})}function nq({data:e,index:t,onChange:r}){const[n,i]=H.useState(!1);function o(l){const c=Math.ceil(l);isNaN(c)||c<0||(e.rounds[t].numTeams=c,r(e))}function a(l){const c=Math.ceil(l);isNaN(c)||c<0||(e.rounds[t].numGames=c,r(e))}const s=H.useCallback(l=>l.type!=st.Custom,[]),u=H.useMemo(()=>e.rounds[t],[e,t]);return w.jsxs(Zt,{children:[w.jsx(Me,{name:"header",children:w.jsxs("div",{className:"flex w-full items-center justify-between p-1",children:[w.jsx("span",{className:"px-2 font-bold",children:`Round ${t+1}`}),w.jsx(Tr,{onChange:i,open:n})]})}),w.jsx(Me,{name:"content",children:w.jsx(Zn,{open:n,children:w.jsxs("div",{className:"flex flex-col space-y-2 p-3 pt-2",children:[w.jsx("div",{children:w.jsx(Bn,{onChange:o,value:u.numTeams,label:"Teams in Round",max:e.teamsIn,disabled:s(e)})}),w.jsx("div",{children:w.jsx(Bn,{onChange:a,value:u.numGames,label:"Games in Round",min:0,disabled:s(e)})})]})})})]})}function iq({data:e,index:t,onChange:r}){const[n,i]=H.useState(!1);function o(f){const h=f[0];Object.values(st).includes(h)&&(e.brackets[t].type=h,Fd(t,e),r(e))}function a(f){const h=Math.ceil(f);isNaN(h)||h<1||(e.brackets[t].teamsOut=h,Ld(t+1,e),Fd(t,e),r(e))}function s(f){const h=Math.ceil(f);isNaN(h)||h<0||(e.brackets[t].numRounds=h,Xj(t,e),r(e))}function u(f){e.brackets[t].rounds=f.rounds,r(e)}const l=H.useCallback(f=>f.type!=st.Custom,[]),c=H.useMemo(()=>Object.values(st).map(f=>[f,zs(f)]),[]),d=H.useMemo(()=>e.brackets[t],[e,t]);return w.jsxs(Zt,{children:[w.jsx(Me,{name:"header",children:w.jsxs("div",{className:"flex w-full items-center justify-between p-1",children:[w.jsx("span",{className:"px-2 font-bold",children:`Bracket ${t+1}`}),w.jsx(Tr,{onChange:i,open:n})]})}),w.jsx(Me,{name:"content",children:w.jsx(Zn,{open:n,children:w.jsxs("div",{className:"flex flex-col space-y-4 p-3 pt-2",children:[w.jsxs("div",{className:"flex flex-col space-y-2",children:[w.jsx("div",{children:w.jsx(Yi,{onChange:o,options:c,value:d.type,label:"Bracket Type"})}),w.jsx("div",{children:w.jsx(Bn,{onChange:()=>{},value:d.teamsIn,disabled:!0,label:"Teams In"})}),w.jsx("div",{children:w.jsx(Bn,{onChange:a,value:d.teamsOut,label:"Teams Out",min:1,max:d.teamsIn})}),w.jsx("div",{children:w.jsx(Bn,{onChange:s,value:d.numRounds,label:"Number of Rounds",min:0,disabled:l(d)})})]}),d.rounds.length>0&&w.jsx("div",{className:"mt-4 flex w-full flex-col space-y-2",children:d.rounds.map((f,h)=>w.jsx(nq,{data:d,index:h,onChange:u},h))})]})})})]})}function oq({data:e,onChange:t}){function r(n){t(n)}return w.jsx(w.Fragment,{children:e.brackets.map((n,i)=>w.jsx(iq,{data:e,index:i,onChange:r},i))})}function aq({data:e}){const t=Le.useRxCollection("tournaments"),r=Le.useRxCollection("brackets"),n=Le.useRxCollection("rounds"),i=Le.useRxCollection("games");async function o(){!t||!r||!n||!i||(console.log(pr()),console.log(e))}return w.jsx("div",{className:"flex justify-center text-violet-800",children:w.jsx("button",{className:"button bg-100 font-bold",onClick:o,children:"Create Tournament!"})})}function sq(){const[e,t]=H.useState(RV);function r(n){t(gp(n))}return w.jsxs("div",{className:"flex w-full flex-col space-y-4 md:w-96",children:[w.jsx(rq,{data:e,onChange:r}),w.jsx(oq,{data:e,onChange:r}),w.jsx(aq,{data:e})]})}ei.defaultProps={title:"Toggle edit mode"};function ei({editModeOff:e,title:t,onChange:r}){return w.jsxs("div",{className:"relative",children:[!e&&w.jsx("span",{className:"absolute left-1 top-1 h-6 w-6 animate-ping rounded-full bg-blue-400"}),w.jsx("button",{title:t,className:`relative z-10 h-8 w-8 rounded-3xl  p-2 shadow ${e?"bg-100 text-violet-800":"bg-blue-400 text-blue-800"}`,onClick:()=>r(!e),children:e?w.jsx(qV,{}):w.jsx(IV,{})})]})}jb.defaultProps={title:"Remove"};function jb({title:e,onClick:t}){return w.jsx("button",{title:e,className:"h-8 w-8 rounded-3xl bg-red-300 p-2 text-red-800 shadow",onClick:t,children:w.jsx(zV,{})})}Zj.defaultProps={title:"Remove team member"};function Zj({team:e,member:t,title:r}){function n(){e.incrementalPatch({members:e.members.filter(i=>i!=t.id)})}return w.jsx(jb,{title:r,onClick:n})}Yn.defaultProps={title:"Remove document"};function Yn({document:e,title:t}){return w.jsx(jb,{title:t,onClick:e.remove})}ek.defaultProps={className:""};function ek({member:e,className:t,readOnly:r,showEditButton:n,team:i}){const[o,a]=Rr(r??!0);function s(u){e.incrementalPatch({name:u})}return w.jsx(Zt,{className:`${t}`,children:w.jsx(Me,{name:"header",children:w.jsxs("div",{className:"flex h-full w-full items-center space-x-1 p-1",children:[o?w.jsx("span",{className:"w-full truncate px-2",children:e.name}):w.jsx(xn,{value:e.name,placeholder:"Name...",onChange:s,className:"w-full"}),(!o||n)&&w.jsxs("div",{className:"flex h-full flex-row items-center space-x-1",children:[!o&&(i?w.jsx(Zj,{team:i,member:e}):w.jsx(Yn,{document:e,title:"Remove member"})),n&&w.jsx(ei,{editModeOff:o,onChange:a,title:"Toggle member edit mode"})]})]})})})}kb.defaultProps={className:""};function kb({members:e,className:t,readOnly:r,team:n,showEditButton:i}){return w.jsx("div",{className:`flex flex-col space-y-1 ${t}`,children:e.map(o=>w.jsx(ek,{member:o,readOnly:r,showEditButton:i,team:n},o.id))})}tk.defaultProps={className:""};function tk({className:e}){return w.jsxs("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[w.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),w.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}br.defaultProps={text:"loading...",className:""};function br({text:e,className:t}){return w.jsx("div",{children:w.jsxs("div",{className:`flex animate-pulse items-center space-x-1 ${t}`,children:[w.jsx("div",{className:"aspect-square h-full",children:w.jsx(tk,{className:"animate-spin"})}),w.jsx("span",{children:e})]})})}ti.defaultProps={title:"Add new"};function ti({title:e,onClick:t}){return w.jsx("button",{title:e,className:"h-8 w-8 rounded-3xl bg-green-300 p-2 text-green-800 shadow",onClick:t,children:w.jsx(YV,{})})}function uq(){const e=Le.useRxCollection("members");function t(){e==null||e.insert({id:pr(),name:"New Member"})}return w.jsx(ti,{title:"Add new member",onClick:t})}rn.defaultProps={text:"info",className:""};function rn({text:e,className:t}){return w.jsx("div",{children:w.jsxs("div",{className:`flex items-center space-x-1 ${t}`,children:[w.jsx("div",{className:"aspect-square h-full",children:w.jsx(BV,{})}),w.jsx("span",{children:e})]})})}function lq(){const[e,t]=H.useState(!0),{result:r,isFetching:n}=Le.useRxData("members",i=>i.find({index:["createdAt"]}));return w.jsxs(Zt,{children:[w.jsx(Me,{name:"header",children:w.jsxs("div",{className:"flex h-full w-full items-center justify-between p-1",children:[w.jsx("span",{className:"px-2 font-bold",children:"Members"}),w.jsxs("div",{className:"flex h-full flex-row items-center space-x-1",children:[w.jsx(ei,{editModeOff:e,onChange:t,title:"Toggle edit mode all members"}),w.jsx(uq,{})]})]})}),w.jsx(Me,{name:"content",children:w.jsx("div",{className:"p-3 pt-2",children:r.length>0?w.jsx(kb,{members:r,showEditButton:!0,readOnly:e,className:"space-y-2"}):n?w.jsx(br,{className:"h-6"}):w.jsx(rn,{text:"No members",className:"h-6"})})})]})}Cb.defaultProps={className:""};function Cb({value:e,options:t,placeholder:r,className:n,onChange:i}){const o=H.useCallback(l=>{let c=t.find(d=>d[0]==l);return c==null&&(c=t.find(d=>d[1]==l)),c||[l,l]},[t]);function a(l){i(o(l))}function s(l){t.includes(l)&&i(l)}const u=e[1]==""?t:t.filter(l=>l[1].toLowerCase().includes(e[1].toLowerCase()));return w.jsxs("div",{className:`relative flex h-8 w-full ${n}`,children:[w.jsx(Yi,{onChange:s,options:u,value:e[0],className:"absolute inset-0"}),w.jsx(xn,{value:e[1],placeholder:r,onChange:a,className:"relative mr-7 w-full shadow-none"})]})}function cq({team:e}){const[t,r]=H.useState(["",""]),{result:n,isFetching:i}=Le.useRxData("members",l=>l.find({index:["createdAt"]})),o=H.useMemo(()=>n.filter(l=>!e.members.includes(l.id)),[n,e]),a=H.useMemo(()=>o.map(l=>[l.id,l.name]),[o]),s=Le.useRxCollection("members");if(i)return w.jsx(br,{className:"h-6"});async function u(){let l=t;if(l[0]==""){if(a.length==0)return;l=a[0]}let c=o.find(d=>d.id==l[0]);if(c==null&&(c=o.find(d=>d.name==l[1])),c==null){if(s==null)return;c=await s.insert({id:pr(),name:l[1]})}e.incrementalPatch({members:[...e.members,c.id]}),r(["",""])}return w.jsxs("div",{className:"flex h-8 items-center space-x-1",children:[w.jsx(Cb,{onChange:r,placeholder:a.length>0?a[0][1]:"Member name...",options:a,value:t,className:"h-full w-full"}),w.jsx("div",{className:"flex h-full items-center",children:w.jsx(ti,{title:"Add member to team",onClick:u})})]})}class rk{constructor(){io(this,"wins");io(this,"loses");io(this,"draws");this.wins=0,this.loses=0,this.draws=0}points(){return this.wins*3+this.draws}gamesPlayed(){return this.wins+this.loses+this.draws}add(t){return this.wins+=t.wins,this.loses+=t.loses,this.draws+=t.draws,this}toString(){return`W: ${this.wins},
    L: ${this.loses},
    D: ${this.draws},
    P: ${this.gamesPlayed()},
    Pts: ${this.points()}`}}async function bp(e){if(!e)return"";if(e.name!="")return e.name;const t=await e.populate("members");return t.length>0?t.map(r=>r.name).join(" + "):"New Team"}async function fq(e){if(!e||e.length==0)return{};const t={};for(const r of e)t[r.id]=await bp(r);return t}async function dq(e){if(!e)return"";if(e.name!="")return e.name;const t=await e.populate("scores"),r=[];for(const n of t){const i=await n.populate("team");i&&r.push(await bp(i))}return r.length>0?r.join(" vs "):"New Game"}function hq(e){return e?e.name!=""?e.name:`${zs(e.type)} Bracket`:""}function vq(e,t){if(!e)return"";if(e.name!="")return e.name;if(!t)return"New Round";const r=t.rounds.indexOf(e.id);return r!=-1?`Round ${r+1}`:"New Round"}async function pq(e){if(!e)return[];const t=await e.populate("scores");if(t.length==0)return[];const r={};for(const i of t)r[i.score]||(r[i.score]=[]),r[i.score].push(i.team);const n=t.map(i=>i.score);switch(e.type){default:case Ai.HighestScore:return r[n.sort((i,o)=>o-i)[0]];case Ai.LowestScore:return r[n.sort((i,o)=>i-o)[0]]}}async function nk(e){if(!e)return{};const t=await e.populate("scores");if(t.length==0)return{};const r=await pq(e),n={};for(const i of t){const o=new rk;e.completed&&(r.includes(i.team)?r.length==1?o.wins=1:o.draws=1:o.loses=1),n[i.team]=o}return n}function mq(...e){const t={};for(const r of e)for(const n of Object.keys(r))t[n]||(t[n]=new rk),t[n].add(r[n]);return t}function yq(e){const[t,r]=H.useState(e.name);return H.useEffect(()=>{bp(e).then(r)},[e]),t}function gq(e){const[t,r]=H.useState(e.reduce((n,i)=>(n[i.id]=i.name,n),{}));return H.useEffect(()=>{fq(e).then(r)},[e]),t}function bq(e){const[t,r]=H.useState(e.name),[n]=_p(e.scores),[i]=$b(n.map(o=>o.team));return H.useEffect(()=>{dq(e).then(r)},[e,i]),t}function _q(e){const[t,r]=H.useState({}),[n]=_p(e.scores);return H.useEffect(()=>{nk(e).then(r)},[e,n]),t}function wq(e){const[t,r]=H.useState({}),[n]=_p(e.map(i=>i.scores).flat());return H.useEffect(()=>{async function i(){let o={};for(const a of e)o=mq(o,await nk(a));return o}i().then(r)},[e,n]),t}function ik(e){const{result:t,isFetching:r}=Le.useRxData("brackets",n=>n.find({selector:{id:{$in:e}},index:["createdAt"]}));return[t,r]}function ok(e){const{result:t,isFetching:r}=Le.useRxData("rounds",n=>n.find({selector:{id:{$in:e}},index:["createdAt"]}));return[t,r]}function ak(e){const{result:t,isFetching:r}=Le.useRxData("games",n=>n.find({selector:{id:{$in:e}},index:["createdAt"]}));return[t,r]}function _p(e){const{result:t,isFetching:r}=Le.useRxData("scores",n=>n.find({selector:{id:{$in:e}},index:["createdAt"]}));return[t,r]}function $b(e){const{result:t,isFetching:r}=Le.useRxData("teams",n=>n.find({selector:{id:{$in:e}},index:["createdAt"]}));return[t,r]}function Sq(e){const{result:t,isFetching:r}=Le.useRxData("members",n=>n.find({selector:{id:{$in:e}},index:["createdAt"]}));return[t,r]}Ab.defaultProps={className:""};function Ab({team:e,showMembers:t,readOnly:r,className:n,showEditButton:i,children:o}){const a=Qj(o),[s,u]=Rr(t??!1),[l,c]=Rr(r??!0),[d,f]=Sq(e.members),h=yq(e);function b(_){e.incrementalPatch({name:_})}return w.jsxs(Zt,{className:`bg-100 ${n}`,children:[w.jsx(Me,{name:"header",children:w.jsxs("div",{className:"flex h-full w-full items-center space-x-1 p-1",children:[l?w.jsxs(w.Fragment,{children:[a.preHeader&&w.jsx("div",{className:"h-full",children:a.preHeader}),w.jsx("span",{className:"w-full truncate px-2 font-bold",children:h})]}):w.jsx(xn,{value:e.name,placeholder:h??"Name...",onChange:b,className:"w-full font-bold"}),w.jsxs("div",{className:"flex h-full space-x-1",children:[a.postHeader,!l&&w.jsx(Yn,{document:e,title:"Remove team"}),i&&w.jsx(ei,{editModeOff:l,onChange:c,title:"Toggle team edit mode"}),w.jsx(Tr,{open:s,onChange:u,title:"Toggle show team members"})]})]})}),w.jsx(Me,{name:"content",children:w.jsxs(Zn,{open:s,children:[w.jsx("div",{className:"p-2 pt-1",children:d.length>0?w.jsx(kb,{members:d,readOnly:l,team:e}):f?w.jsx(br,{className:"h-6"}):w.jsx(rn,{text:"No members",className:"h-6"})}),!l&&w.jsx("div",{className:"p-2 pt-0",children:w.jsx(cq,{team:e})})]})})]})}sk.defaultProps={className:""};function sk({teams:e,className:t,readOnly:r,showEditButton:n,showMembers:i}){return w.jsx("div",{className:`flex flex-col space-y-2 ${t}`,children:e.map(o=>w.jsx(Ab,{team:o,readOnly:r,showEditButton:n,showMembers:i},o.id))})}function Oq(){const e=Le.useRxCollection("teams");function t(){e==null||e.insert({id:pr(),name:"",members:[]})}return w.jsx(ti,{title:"Add new team",onClick:t})}function Eq(){const[e,t]=H.useState(!0),[r,n]=H.useState(!1),{result:i,isFetching:o}=Le.useRxData("teams",a=>a.find({index:["createdAt"]}));return w.jsxs(Zt,{children:[w.jsx(Me,{name:"header",children:w.jsxs("div",{className:"flex h-full w-full items-center justify-between p-1",children:[w.jsx("span",{className:"px-2 font-bold",children:"Teams"}),w.jsxs("div",{className:"flex h-full flex-row items-center space-x-1",children:[w.jsx(ei,{editModeOff:e,onChange:t,title:"Toggle edit mode all teams"}),w.jsx(Tr,{open:r,onChange:n,title:"Toggle show all team members"}),w.jsx(Oq,{})]})]})}),w.jsx(Me,{name:"content",children:w.jsx("div",{className:"p-3 pt-2",children:i.length>0?w.jsx(sk,{teams:i,showEditButton:!0,showMembers:r,readOnly:e}):o?w.jsx(br,{className:"h-6"}):w.jsx(rn,{text:"No teams",className:"h-6"})})})]})}function Pq({game:e,currentScores:t}){const[r,n]=H.useState(["",""]),[i,o]=H.useState([]),{result:a,isFetching:s}=Le.useRxData("teams",f=>f.find({index:["createdAt"]})),u=H.useMemo(()=>a.filter(f=>!t.map(h=>h.team).includes(f.id)),[t,a]);H.useEffect(()=>{(async()=>{const h=[];for(const b of u){const _=await bp(b);h.push([b.id,_])}return h})().then(o)},[u]);const l=Le.useRxCollection("scores"),c=Le.useRxCollection("teams");if(s)return w.jsx(br,{className:"h-6"});async function d(){let f=r;if(f[0]==""){if(i.length==0)return;f=i[0]}let h=u.find(_=>_.id==f[0]);if(h==null&&(h=u.find(_=>_.name==f[1])),h==null){if(c==null)return;h=await c.insert({id:pr(),name:f[1],members:[]})}if(l==null)return;const b=await l.insert({id:pr(),game:e.id,team:h.id,score:0});e.incrementalPatch({scores:[...e.scores,b.id]}),n(["",""])}return w.jsxs("div",{className:"flex h-8 items-center space-x-1",children:[w.jsx(Cb,{onChange:n,placeholder:i.length>0?i[0][1]:"Team name...",options:i,value:r,className:"h-full w-full"}),w.jsx("div",{className:"flex h-full items-center",children:w.jsx(ti,{title:"Add team to game",onClick:d})})]})}uk.defaultProps={text:"error!",className:""};function uk({text:e,className:t}){return w.jsxs("div",{className:`flex animate-pulse items-center space-x-1 text-red-500 ${t}`,children:[w.jsx("div",{className:"aspect-square h-full  rounded-full bg-red-500 p-1",children:w.jsx(tq,{className:"text-red-200"})}),w.jsx("span",{className:"truncate",children:e})]})}function xq({score:e,game:t,readOnly:r,showRemoveButton:n}){var b;const[i,o]=Rr(r),a=(b=_q(t)[e.team])==null?void 0:b.points(),[s,u]=$b([e.team]),l=s[0];if(u)return w.jsx(br,{className:"h-6"});function c(){t.completed||o(!1)}function d(_){e.incrementalPatch({score:_})}function f(_){_.key=="Enter"&&h()}function h(){r&&o(!0)}return w.jsx("div",{className:"flex w-full items-center",children:w.jsx("div",{className:"w-full",children:l?w.jsxs(Ab,{team:l,children:[w.jsx(Me,{name:"preHeader",children:i?w.jsx("span",{onClick:c,className:`flex h-full w-12 items-center justify-center truncate rounded-3xl font-bold ${t.completed?"":"cursor-pointer shadow"} ${t.completed?a==3?"bg-green-300 text-green-800":a==1?"bg-sky-200 text-sky-800":"bg-red-200 text-red-800":"bg-100"}`,children:e.score}):w.jsx(Bn,{value:e.score,placeholder:"Score...",onChange:d,className:"w-16",onKeyDown:f,onBlur:h,focused:r})}),w.jsx(Me,{name:"postHeader",children:!i&&n&&w.jsx(Yn,{title:"Remove team from game",document:e})})]}):w.jsxs("div",{className:"bg-300 flex h-10 items-center rounded-3xl p-1",children:[w.jsx(uk,{text:"missing team!",className:"h-full w-full"}),w.jsx(Yn,{title:"Remove team from game",document:e})]})})})}lk.defaultProps={className:""};function lk({scores:e,game:t,className:r,readOnly:n,showRemoveButton:i}){return w.jsx("div",{className:`flex flex-col space-y-1 ${r}`,children:e.map(o=>w.jsx(xq,{score:o,game:t,readOnly:n,showRemoveButton:i},o.id))})}ck.defaultProps={title:"Toggle game completed"};function ck({completed:e,title:t,onChange:r}){return w.jsx("button",{title:t,className:`h-8 w-8 rounded-3xl p-2 shadow ${e?"bg-yellow-200 text-yellow-800":"bg-100 text-violet-800"}`,onClick:()=>r(!e),children:w.jsx(JV,{})})}fk.defaultProps={className:""};function fk({game:e,readOnly:t,showEditButton:r,className:n,showScores:i}){const[o,a]=Rr(t??!0),[s,u]=Rr(i??!1),[l,c]=_p(e.scores),d=bq(e);function f(j){e.incrementalPatch({name:j})}function h(j){const g=j[0];Object.values(Ai).includes(g)&&e.incrementalPatch({type:g})}function b(j){e.incrementalPatch({completed:j})}const _=H.useMemo(()=>Object.values(Ai).map(j=>[j,zs(j)]),[]);return w.jsxs(Zt,{className:`bg-100 ${n}`,children:[w.jsx(Me,{name:"header",children:w.jsxs("div",{className:"flex h-full w-full items-center space-x-1 p-1",children:[o?w.jsxs(w.Fragment,{children:[w.jsx("div",{className:"h-full",children:w.jsx(ck,{completed:e.completed,onChange:b})}),w.jsx("span",{className:"w-full truncate px-2 font-bold",children:d})]}):w.jsx(xn,{value:e.name,placeholder:d??"Name...",onChange:f,className:"w-full font-bold"}),w.jsxs("div",{className:"flex h-full space-x-1",children:[!o&&w.jsx(Yn,{document:e,title:"Remove game"}),r&&w.jsx(ei,{editModeOff:o,onChange:a,title:"Toggle game edit mode"}),w.jsx(Tr,{open:s,onChange:u,title:"Toggle show game teams"})]})]})}),w.jsx(Me,{name:"content",children:w.jsxs(Zn,{open:s,children:[!o&&w.jsx("div",{className:"flex items-center p-2 py-1",children:w.jsx(Yi,{value:e.type,options:_,onChange:h,className:"w-full"})}),w.jsx("div",{className:"p-2 pt-1",children:l.length>0?w.jsx(lk,{scores:l,readOnly:o,game:e,showRemoveButton:!o}):c?w.jsx(br,{className:"h-6"}):w.jsx(rn,{text:"No teams",className:"h-6"})}),!o&&w.jsx("div",{className:"p-2 pt-0",children:w.jsx(Pq,{game:e,currentScores:l})})]})})]})}Rb.defaultProps={className:""};function Rb({games:e,className:t,readOnly:r,showEditButton:n,showScores:i}){return w.jsx("div",{className:`flex flex-col space-y-1 ${t}`,children:e.map(o=>w.jsx(fk,{game:o,readOnly:r,showEditButton:n,showScores:i},o.id))})}function jq(){const[e,t]=H.useState(!0),[r,n]=H.useState(!1),{result:i,isFetching:o}=Le.useRxData("games",a=>a.find({index:["createdAt"]}));return w.jsxs(Zt,{children:[w.jsx(Me,{name:"header",children:w.jsxs("div",{className:"flex h-full w-full items-center justify-between p-1",children:[w.jsx("span",{className:"px-2 font-bold",children:"Games"}),w.jsxs("div",{className:"flex h-full flex-row items-center space-x-1",children:[w.jsx(ei,{editModeOff:e,onChange:t,title:"Toggle edit mode all games"}),w.jsx(Tr,{open:r,onChange:n,title:"Toggle show all game teams"})]})]})}),w.jsx(Me,{name:"content",children:w.jsx("div",{className:"p-3 pt-2",children:i.length>0?w.jsx(Rb,{games:i,showEditButton:!0,readOnly:e,showScores:r,className:"space-y-2"}):o?w.jsx(br,{className:"h-6"}):w.jsx(rn,{text:"No games",className:"h-6"})})})]})}function kq({bracket:e}){const[t,r]=H.useState(""),n=Le.useRxCollection("rounds");async function i(){if(n==null)return;const o=await n.insert({id:pr(),name:t,games:[]});e.incrementalPatch({rounds:[...e.rounds,o.id]})}return w.jsxs("div",{className:"flex h-8 items-center space-x-1",children:[w.jsx(xn,{onChange:r,placeholder:`Round ${e.rounds.length+1}`,value:t,className:"h-full w-full"}),w.jsx("div",{className:"flex h-full items-center",children:w.jsx(ti,{title:"Add round to bracket",onClick:i})})]})}function Cq({round:e}){const[t,r]=H.useState(Ai.HighestScore),n=Le.useRxCollection("games");function i(s){const u=s[0];Object.values(Ai).includes(u)&&r(u)}async function o(){if(n==null)return;const s=await n.insert({id:pr(),name:`Game ${e.games.length+1}`,type:t,completed:!1,scores:[]});e.incrementalPatch({games:[...e.games,s.id]})}const a=H.useMemo(()=>Object.values(Ai).map(s=>[s,zs(s)]),[]);return w.jsxs("div",{className:"flex h-8  items-center space-x-1",children:[w.jsx(Yi,{onChange:i,options:a,value:t,className:"w-full"}),w.jsx("div",{className:"flex h-full items-center",children:w.jsx(ti,{title:"Add game to round",onClick:o})})]})}dk.defaultProps={className:""};function dk({round:e,showGames:t,readOnly:r,className:n,bracket:i}){const[o]=Rr(r),[a,s]=Rr(t??!1),[u,l]=ak(e.games);function c(f){e.incrementalPatch({name:f})}const d=vq(e,i);return w.jsxs(Zt,{className:`bg-100 ${n}`,children:[w.jsx(Me,{name:"header",children:w.jsxs("div",{className:"flex h-full w-full items-center space-x-1 p-1",children:[o?w.jsx("span",{className:"w-full truncate px-2 font-bold",children:d}):w.jsx(xn,{value:e.name,placeholder:d??"Name...",onChange:c,className:"w-full font-bold"}),w.jsxs("div",{className:"flex h-full space-x-1",children:[!o&&w.jsx(Yn,{document:e,title:"Remove round"}),w.jsx(Tr,{open:a,onChange:s,title:"Toggle show round games"})]})]})}),w.jsx(Me,{name:"content",children:w.jsxs(Zn,{open:a,children:[w.jsx("div",{className:"p-2 pt-1",children:u.length>0?w.jsx(Rb,{games:u}):l?w.jsx(br,{className:"h-6"}):w.jsx(rn,{text:"No games",className:"h-6"})}),!o&&w.jsx("div",{className:"self-end p-2 pt-0",children:w.jsx(Cq,{round:e})})]})})]})}hk.defaultProps={className:""};function hk({rounds:e,className:t,readOnly:r,bracket:n}){return w.jsx("div",{className:`flex flex-col space-y-1 ${t}`,children:e.map(i=>w.jsx(dk,{round:i,bracket:n,readOnly:r},i.id))})}vk.defaultProps={className:""};function vk({bracket:e,showRounds:t,readOnly:r,className:n}){const[i]=Rr(r),[o,a]=Rr(t??!1),[s,u]=ok(e.rounds),l=hq(e);function c(h){e.incrementalPatch({name:h})}function d(h){const b=h[0];Object.values(st).includes(b)&&e.incrementalPatch({type:b})}const f=H.useMemo(()=>Object.values(st).map(h=>[h,zs(h)]),[]);return w.jsxs(Zt,{className:`bg-100 ${n}`,children:[w.jsx(Me,{name:"header",children:w.jsxs("div",{className:"flex h-full w-full items-center space-x-1 p-1",children:[i?w.jsx("span",{className:"w-full truncate px-2 font-bold",children:l}):w.jsx(xn,{value:e.name,placeholder:l??"Name...",onChange:c,className:"w-full font-bold"}),w.jsxs("div",{className:"flex h-full space-x-1",children:[!i&&w.jsx(Yn,{document:e,title:"Remove bracket"}),w.jsx(Tr,{open:o,onChange:a,title:"Toggle show bracket rounds"})]})]})}),w.jsx(Me,{name:"content",children:w.jsxs(Zn,{open:o,children:[!i&&w.jsx("div",{className:"flex items-center p-2 py-1",children:w.jsx(Yi,{value:e.type,options:f,onChange:d,className:"w-full"})}),w.jsx("div",{className:"p-2 pt-1",children:s.length>0?w.jsx(hk,{rounds:s,readOnly:i,bracket:e}):u?w.jsx(br,{className:"h-6"}):w.jsx(rn,{text:"No rounds",className:"h-6"})}),!i&&w.jsx("div",{className:"self-end p-2 pt-0",children:w.jsx(kq,{bracket:e})})]})})]})}pk.defaultProps={className:""};function pk({brackets:e,className:t,readOnly:r}){return w.jsx("div",{className:`flex flex-col space-y-1 ${t}`,children:e.map(n=>w.jsx(vk,{bracket:n,readOnly:r},n.id))})}function $q({tournament:e}){const[t,r]=H.useState(st.Elimination),n=Le.useRxCollection("brackets");function i(s){const u=s[0];Object.values(st).includes(u)&&r(u)}async function o(){if(n==null)return;const s=await n.insert({id:pr(),name:"",type:t,rounds:[]});e.incrementalPatch({brackets:[...e.brackets,s.id]})}const a=H.useMemo(()=>Object.values(st).map(s=>[s,zs(s)]),[]);return w.jsxs("div",{className:"flex h-8  items-center space-x-1",children:[w.jsx(Yi,{onChange:i,options:a,value:t,className:"w-full"}),w.jsx("div",{className:"flex h-full items-center",children:w.jsx(ti,{title:"Add bracket to tournament",onClick:o})})]})}mk.defaultProps={className:""};function mk({tournament:e,showBrackets:t,readOnly:r,className:n,showEditButton:i}){const[o,a]=Rr(r??!0),[s,u]=Rr(t??!1),[l,c]=ik(e.brackets);function d(f){e.incrementalPatch({name:f})}return w.jsxs(Zt,{className:`bg-100 ${n}`,children:[w.jsx(Me,{name:"header",children:w.jsxs("div",{className:"flex h-full w-full items-center space-x-1 p-1",children:[o?w.jsx("span",{className:"w-full truncate px-2 font-bold",children:e.name}):w.jsx(xn,{value:e.name,placeholder:"Name...",onChange:d,className:"w-full font-bold"}),w.jsxs("div",{className:"flex h-full space-x-1",children:[!o&&w.jsx(Yn,{document:e,title:"Remove tournament"}),i&&w.jsx(ei,{editModeOff:o,onChange:a,title:"Toggle tournament edit mode"}),w.jsx(Tr,{open:s,onChange:u,title:"Toggle show tournament brackets"})]})]})}),w.jsx(Me,{name:"content",children:w.jsxs(Zn,{open:s,children:[w.jsx("div",{className:"p-2 pt-1",children:l.length>0?w.jsx(pk,{brackets:l,readOnly:o}):c?w.jsx(br,{className:"h-6"}):w.jsx(rn,{text:"No brackets",className:"h-6"})}),!o&&w.jsx("div",{className:"p-2 pt-0",children:w.jsx($q,{tournament:e})})]})})]})}yk.defaultProps={className:""};function yk({tournaments:e,className:t,readOnly:r,showEditButton:n,showBrackets:i}){return w.jsx("div",{className:`flex flex-col space-y-1 ${t}`,children:e.map(o=>w.jsx(mk,{tournament:o,readOnly:r,showEditButton:n,showBrackets:i},o.id))})}function Aq(){const e=Le.useRxCollection("tournaments");function t(){e==null||e.insert({id:pr(),name:"New Tournament",brackets:[]})}return w.jsx(ti,{title:"Add new tournament",onClick:t})}function Rq(){const[e,t]=H.useState(!0),[r,n]=H.useState(!1),{result:i,isFetching:o}=Le.useRxData("tournaments",a=>a.find({index:["createdAt"]}));return w.jsxs(Zt,{children:[w.jsx(Me,{name:"header",children:w.jsxs("div",{className:"flex h-full w-full items-center justify-between p-1",children:[w.jsx("span",{className:"px-2 font-bold",children:"Tournaments"}),w.jsxs("div",{className:"flex h-full flex-row items-center space-x-1",children:[w.jsx(ei,{editModeOff:e,onChange:t,title:"Toggle edit mode all tournaments"}),w.jsx(Tr,{open:r,onChange:n,title:"Toggle show all tournament brackets"}),w.jsx(Aq,{})]})]})}),w.jsx(Me,{name:"content",children:w.jsx("div",{className:"p-3 pt-2",children:i.length>0?w.jsx(yk,{tournaments:i,showEditButton:!0,readOnly:e,showBrackets:r}):o?w.jsx(br,{className:"h-6"}):w.jsx(rn,{text:"No tournaments",className:"h-6"})})})]})}gk.defaultProps={className:""};function gk({className:e}){return w.jsxs("div",{className:`grid w-full grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5 ${e}`,children:[w.jsx(lq,{}),w.jsx(Eq,{}),w.jsx(jq,{}),w.jsx(Rq,{})]})}bk.defaultProps={className:""};function bk({teamStats:e,name:t,className:r}){const[n]=$b(Object.keys(e)),i=gq(n),o=H.useMemo(()=>Object.keys(e).sort((a,s)=>e[s].points()-e[a].points()),[e]);return w.jsxs(Zt,{className:`bg-100 ${r}`,children:[w.jsx(Me,{name:"header",children:w.jsx("div",{className:"flex h-full w-full items-center justify-center p-1",children:w.jsxs("span",{className:"px-2 font-bold",children:[t," Stats"]})})}),w.jsx(Me,{name:"content",children:w.jsx("div",{className:"p-3 pt-2",children:o.length==0?w.jsx(rn,{text:"No stats found",className:"h-8"}):w.jsxs("table",{className:"w-full table-fixed border-separate border-spacing-1",children:[w.jsx("thead",{children:w.jsxs("tr",{className:"h-10",children:[w.jsx("th",{className:"w-1/3 text-left",children:"Team"}),w.jsx("th",{className:"rounded-3xl bg-green-300 text-green-800",children:"W"}),w.jsx("th",{className:"rounded-3xl bg-red-200 text-red-800",children:"L"}),w.jsx("th",{className:"rounded-3xl bg-sky-200 text-sky-800",children:"D"}),w.jsx("th",{children:"P"}),w.jsx("th",{className:"rounded-3xl bg-yellow-200 text-yellow-800",children:"Pts"})]})}),w.jsx("tbody",{children:o.map(a=>w.jsxs("tr",{className:"text-center",children:[w.jsx("td",{className:"truncate text-left",children:i[a]}),w.jsx("td",{className:"text-green-800",children:e[a].wins}),w.jsx("td",{className:"text-red-800",children:e[a].loses}),w.jsx("td",{className:"text-sky-800",children:e[a].draws}),w.jsx("td",{children:e[a].gamesPlayed()}),w.jsx("td",{className:"text-yellow-800",children:e[a].points()})]},a))})]})})})]})}_k.defaultProps={className:""};function _k({tournament:e,className:t}){const[r]=ik(e.brackets),[n]=ok(r.map(a=>a.rounds).flat()),[i]=ak(n.map(a=>a.games).flat()),o=wq(i);return w.jsx(bk,{name:e.name,teamStats:o,className:t})}wk.defaultProps={className:""};function wk({className:e}){const[t,r]=H.useState(["",""]),{result:n}=Le.useRxData("tournaments",a=>a.find({index:["createdAt"]})),i=H.useMemo(()=>n.map(a=>[a.id,a.name]),[n]),o=H.useMemo(()=>n.find(a=>a.id==t[0]),[n,t]);return!o&&t[0]!=""&&r(["",""]),w.jsxs("div",{className:`flex w-full flex-col items-center justify-center space-y-4 ${e}`,children:[w.jsx(Yi,{onChange:r,options:i,value:t[0],className:"w-full text-violet-800 md:w-96"}),o&&w.jsx(_k,{tournament:o,className:""})]})}Vf.defaultProps={visible:!0};function Vf({visible:e,children:t}){return w.jsx("div",{className:`flex w-full justify-center transition-opacity duration-300 ease-in-out ${e?"relative opacity-100":"pointer-events-none absolute left-0 top-0 opacity-0"}`,children:t})}function Tq(){return w.jsx("footer",{className:"bg-500 relative flex w-full items-center justify-center p-4 text-violet-800",children:w.jsx("a",{href:"https://github.com/FearIndigo/react-tournament-app",title:"Tournament App Github",target:"_blank",rel:"noreferrer",className:"button bg-300",children:"View Source Code"})})}function Mq(){const[e,t]=H.useState(0);return w.jsxs("div",{className:"bg-500 relative flex min-h-screen flex-col justify-between space-y-8 overflow-hidden",children:[w.jsx("div",{className:"fixed left-0 top-0 h-screen w-full bg-repeat opacity-[0.1]",style:{backgroundImage:"url(/topography.svg)"}}),w.jsxs("main",{className:"relative flex flex-col items-center space-y-8",children:[w.jsxs("div",{className:"flex flex-col items-center justify-center space-y-2 px-8 py-16 text-center text-violet-100",children:[w.jsx(Hj,{className:"h-16 w-16"}),w.jsx("h1",{className:"text-5xl font-bold",children:"Tournament App"}),w.jsxs("span",{children:["By ",w.jsx("a",{href:"https://joemccleery.com.au",title:"Joseph McCleery Website",target:"_blank",rel:"noreferrer",children:"Joseph McCleery"})]})]}),w.jsx("div",{className:"container w-full px-4 md:w-auto",children:w.jsx(jV,{tabs:["Creator","Data","Layout","Stats"],defaultTabIndex:e,onChanged:t})}),w.jsx("div",{className:"container w-full px-4",children:w.jsxs("div",{className:"relative w-full",children:[w.jsx(Vf,{visible:e==0,children:w.jsx(sq,{})}),w.jsx(Vf,{visible:e==1,children:w.jsx(gk,{})}),w.jsx(Vf,{visible:e==3,children:w.jsx(wk,{})})]})})]}),w.jsx(Tq,{})]})}let SS=!1;const Iq=()=>{const[e,t]=H.useState();return H.useEffect(()=>{SS||(SS=!0,PV().then(t))},[]),w.jsx(Le.Provider,{db:e,children:w.jsx(Mq,{})})};Gm.createRoot(document.getElementById("root")).render(w.jsx(Uk.StrictMode,{children:w.jsx(Iq,{})}));
